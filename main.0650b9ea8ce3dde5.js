"use strict";(self.webpackChunkactividad_29=self.webpackChunkactividad_29||[]).push([[179],{391:()=>{function we(n){return"function"==typeof n}function _c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const yh=_c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function la(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class zt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(we(r))try{r()}catch(s){e=s instanceof yh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{nM(s)}catch(o){e=e??[],o instanceof yh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)nM(e);else{if(e instanceof zt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&la(t,e)}remove(e){const{_finalizers:t}=this;t&&la(t,e),e instanceof zt&&e._removeParent(this)}}zt.EMPTY=(()=>{const n=new zt;return n.closed=!0,n})();const eM=zt.EMPTY;function tM(n){return n instanceof zt||n&&"closed"in n&&we(n.remove)&&we(n.add)&&we(n.unsubscribe)}function nM(n){we(n)?n():n.unsubscribe()}const Bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vh={setTimeout(n,e,...t){const{delegate:r}=vh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=vh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rM(n){vh.setTimeout(()=>{const{onUnhandledError:e}=Bs;if(!e)throw n;e(n)})}function D_(){}const qG=E_("C",void 0,void 0);function E_(n,e,t){return{kind:n,value:e,error:t}}let Us=null;function wh(n){if(Bs.useDeprecatedSynchronousErrorHandling){const e=!Us;if(e&&(Us={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Us;if(Us=null,t)throw r}}else n()}class C_ extends zt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tM(e)&&e.add(this)):this.destination=JG}static create(e,t,r){return new yc(e,t,r)}next(e){this.isStopped?S_(function KG(n){return E_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?S_(function WG(n){return E_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?S_(qG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const QG=Function.prototype.bind;function I_(n,e){return QG.call(n,e)}class XG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bh(r)}else bh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bh(t)}}}class yc extends C_{constructor(e,t,r){let i;if(super(),we(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&I_(e.next,s),error:e.error&&I_(e.error,s),complete:e.complete&&I_(e.complete,s)}):i=e}this.destination=new XG(i)}}function bh(n){Bs.useDeprecatedSynchronousErrorHandling?function YG(n){Bs.useDeprecatedSynchronousErrorHandling&&Us&&(Us.errorThrown=!0,Us.error=n)}(n):rM(n)}function S_(n,e){const{onStoppedNotification:t}=Bs;t&&vh.setTimeout(()=>t(n,e))}const JG={closed:!0,next:D_,error:function ZG(n){throw n},complete:D_},T_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zi(n){return n}function iM(n){return 0===n.length?Zi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function nq(n){return n&&n instanceof C_||function tq(n){return n&&we(n.next)&&we(n.error)&&we(n.complete)}(n)&&tM(n)}(t)?t:new yc(t,r,i);return wh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=sM(r))((i,s)=>{const o=new yc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[T_](){return this}pipe(...t){return iM(t)(this)}toPromise(t){return new(t=sM(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function sM(n){var e;return null!==(e=n??Bs.Promise)&&void 0!==e?e:Promise}const rq=_c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ae=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new oM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rq}next(t){wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?eM:(this.currentObservers=null,s.push(t),new zt(()=>{this.currentObservers=null,la(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Re;return t.source=this,t}}return n.create=(e,t)=>new oM(e,t),n})();class oM extends Ae{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:eM}}function aM(n){return we(n?.lift)}function it(n){return e=>{if(aM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(n,e,t,r,i){return new iq(n,e,t,r,i)}class iq extends C_{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return it((t,r)=>{let i=0;t.subscribe(Qe(r,s=>{r.next(n.call(e,s,i++))}))})}function cM(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function $s(n){return this instanceof $s?(this.v=n,this):new $s(n)}function aq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $s?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function lq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function dM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const M_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hM(n){return we(n?.then)}function fM(n){return we(n[T_])}function pM(n){return Symbol.asyncIterator&&we(n?.[Symbol.asyncIterator])}function gM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mM=function uq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _M(n){return we(n?.[mM])}function yM(n){return aq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield $s(t.read());if(i)return yield $s(void 0);yield yield $s(r)}}finally{t.releaseLock()}})}function vM(n){return we(n?.getReader)}function kn(n){if(n instanceof Re)return n;if(null!=n){if(fM(n))return function dq(n){return new Re(e=>{const t=n[T_]();if(we(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(M_(n))return function hq(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(hM(n))return function fq(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rM)})}(n);if(pM(n))return wM(n);if(_M(n))return function pq(n){return new Re(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(vM(n))return function gq(n){return wM(yM(n))}(n)}throw gM(n)}function wM(n){return new Re(e=>{(function mq(n,e){var t,r,i,s;return function sq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=lq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ft(n,e,t=1/0){return we(e)?Ft((r,i)=>he((s,o)=>e(r,s,i,o))(kn(n(r,i))),t):("number"==typeof e&&(t=e),it((r,i)=>function _q(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;kn(t(g,u++)).subscribe(Qe(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();o?gi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ca(n=1/0){return Ft(Zi,n)}const Br=new Re(n=>n.complete());function bM(n){return n&&we(n.schedule)}function x_(n){return n[n.length-1]}function DM(n){return we(x_(n))?n.pop():void 0}function vc(n){return bM(x_(n))?n.pop():void 0}function Dh(n,e=0){return it((t,r)=>{t.subscribe(Qe(r,i=>gi(r,n,()=>r.next(i),e),()=>gi(r,n,()=>r.complete(),e),i=>gi(r,n,()=>r.error(i),e)))})}function Eh(n,e=0){return it((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function EM(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{gi(t,e,()=>{const r=n[Symbol.asyncIterator]();gi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ut(n,e){return e?function Iq(n,e){if(null!=n){if(fM(n))return function wq(n,e){return kn(n).pipe(Eh(e),Dh(e))}(n,e);if(M_(n))return function Dq(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(hM(n))return function bq(n,e){return kn(n).pipe(Eh(e),Dh(e))}(n,e);if(pM(n))return EM(n,e);if(_M(n))return function Eq(n,e){return new Re(t=>{let r;return gi(t,e,()=>{r=n[mM](),gi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}(n,e);if(vM(n))return function Cq(n,e){return EM(yM(n),e)}(n,e)}throw gM(n)}(n,e):kn(n)}function k_(...n){const e=vc(n),t=function vq(n,e){return"number"==typeof x_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?kn(r[0]):ca(t)(ut(r,e)):Br}function R_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new yc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function O_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function N_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Tq=$e({__forward_ref__:$e});function He(n){return n.__forward_ref__=He,n.toString=function(){return je(this())},n}function Q(n){return P_(n)?n():n}function P_(n){return"function"==typeof n&&n.hasOwnProperty(Tq)&&n.__forward_ref__===He}function F_(n){return n&&!!n.\u0275providers}class I extends Error{constructor(e,t){super(function Ch(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Ih(n,e){throw new I(-201,!1)}function cr(n,e){null==n&&function Ne(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sh(n){return IM(n,Th)||IM(n,TM)}function IM(n,e){return n.hasOwnProperty(e)?n[e]:null}function SM(n){return n&&(n.hasOwnProperty(L_)||n.hasOwnProperty(Fq))?n[L_]:null}const Th=$e({\u0275prov:$e}),L_=$e({\u0275inj:$e}),TM=$e({ngInjectableDef:$e}),Fq=$e({ngInjectorDef:$e});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let V_;function ur(n){const e=V_;return V_=n,e}function AM(n,e,t){const r=Sh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&X.Optional?null:void 0!==e?e:void Ih(je(n))}const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wc={},B_="__NG_DI_FLAG__",Ah="ngTempTokenPath",Bq=/\n/gm,MM="__source";let bc;function ua(n){const e=bc;return bc=n,e}function $q(n,e=X.Default){if(void 0===bc)throw new I(-203,!1);return null===bc?AM(n,void 0,e):bc.get(n,e&X.Optional?null:void 0,e)}function E(n,e=X.Default){return(function Lq(){return V_}()||$q)(Q(n),e)}function pe(n,e=X.Default){return E(n,Mh(e))}function Mh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function U_(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){const a=r[o],l=jq(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(E(i,s))}else e.push(E(r))}return e}function Dc(n,e){return n[B_]=e,n.prototype[B_]=e,n}function jq(n){return n[B_]}function es(n){return{toString:n}.toString()}var Ir=(()=>((Ir=Ir||{})[Ir.OnPush=0]="OnPush",Ir[Ir.Default=1]="Default",Ir))(),Sr=(()=>{return(n=Sr||(Sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Sr;var n})();const mi={},Me=[],xh=$e({\u0275cmp:$e}),$_=$e({\u0275dir:$e}),j_=$e({\u0275pipe:$e}),kM=$e({\u0275mod:$e}),_i=$e({\u0275fac:$e}),Ec=$e({__NG_ELEMENT_ID__:$e});let Gq=0;function Je(n){return es(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Me,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,id:"c"+Gq++,styles:n.styles||Me,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=NM(n.inputs,r),i.outputs=NM(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(RM).filter(OM):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yn).filter(OM):null,i})}function RM(n){return Pe(n)||on(n)}function OM(n){return null!==n}function Be(n){return es(()=>({type:n.type,bootstrap:n.bootstrap||Me,declarations:n.declarations||Me,imports:n.imports||Me,exports:n.exports||Me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function NM(n,e){if(null==n)return mi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const x=Je;function Pe(n){return n[xh]||null}function on(n){return n[$_]||null}function yn(n){return n[j_]||null}function zn(n,e){const t=n[kM]||null;if(!t&&!0===e)throw new Error(`Type ${je(n)} does not have '\u0275mod' property.`);return t}function Gn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ar(n){return Array.isArray(n)&&!0===n[1]}function G_(n){return 0!=(4&n.flags)}function Tc(n){return n.componentOffset>-1}function Ph(n){return 1==(1&n.flags)}function Mr(n){return null!==n.template}function Kq(n){return 0!=(256&n[2])}function Hs(n,e){return n.hasOwnProperty(_i)?n[_i]:null}class Xq{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function wn(){return UM}function UM(n){return n.type.prototype.ngOnChanges&&(n.setInput=Jq),Zq}function Zq(){const n=jM(this),e=n?.current;if(e){const t=n.previous;if(t===mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Jq(n,e,t,r){const i=this.declaredInputs[t],s=jM(n)||function eW(n,e){return n[$M]=e}(n,{previous:mi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Xq(l&&l.currentValue,e,a===mi),n[r]=e}wn.ngInherit=!0;const $M="__ngSimpleChanges__";function jM(n){return n[$M]||null}function Gt(n){for(;Array.isArray(n);)n=n[0];return n}function Fh(n,e){return Gt(e[n])}function qn(n,e){return Gt(e[n.index])}function GM(n,e){return n.data[e]}function Wn(n,e){const t=e[n];return Gn(t)?t:t[0]}function Lh(n){return 64==(64&n[2])}function ts(n,e){return null==e?null:n[e]}function qM(n){n[18]=0}function W_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:ix(null),bindingsEnabled:!0};function KM(){return ie.bindingsEnabled}function S(){return ie.lFrame.lView}function De(){return ie.lFrame.tView}function qt(){let n=XM();for(;null!==n&&64===n.type;)n=n.parent;return n}function XM(){return ie.lFrame.currentTNode}function $r(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function K_(){return ie.lFrame.isParent}function Y_(){ie.lFrame.isParent=!1}function _a(){return ie.lFrame.bindingIndex++}function fW(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Q_(e)}function Q_(n){ie.lFrame.currentDirectiveIndex=n}function tx(){return ie.lFrame.currentQueryIndex}function Z_(n){ie.lFrame.currentQueryIndex=n}function gW(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function nx(n,e,t){if(t&X.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&X.Host||(i=gW(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=rx();return r.currentTNode=e,r.lView=n,!0}function J_(n){const e=rx(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rx(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?ix(n):e}function ix(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function sx(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ox=sx;function ey(){const n=sx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dn(){return ie.lFrame.selectedIndex}function zs(n){ie.lFrame.selectedIndex=n}function et(){const n=ie.lFrame;return GM(n.tView,n.selectedIndex)}function Vh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Bh(n,e,t){ax(n,e,3,t)}function Uh(n,e,t,r){(3&n[2])===t&&ax(n,e,t,r)}function ty(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ax(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(CW(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function CW(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Mc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ry(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];cx(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function lx(n){return 3===n||4===n||6===n}function cx(n){return 64===n.charCodeAt(0)}function xc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ux(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ux(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function dx(n){return-1!==n}function $h(n){return 32767&n}function jh(n,e){let t=function AW(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let iy=!0;function Hh(n){const e=iy;return iy=n,e}let MW=0;const jr={};function zh(n,e){const t=px(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,sy(r.data,n),sy(e,null),sy(r.blueprint,null));const i=oy(n,e),s=n.injectorIndex;if(dx(i)){const o=$h(i),a=jh(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function sy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function px(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function oy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=bx(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ay(n,e,t){!function xW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ec)&&(r=t[Ec]),null==r&&(r=t[Ec]=MW++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function gx(n,e,t){if(t&X.Optional||void 0!==n)return n;Ih()}function mx(n,e,t,r){if(t&X.Optional&&void 0===r&&(r=null),!(t&(X.Self|X.Host))){const i=n[9],s=ur(void 0);try{return i?i.get(e,r,t&X.Optional):AM(e,r,t&X.Optional)}finally{ur(s)}}return gx(r,0,t)}function _x(n,e,t,r=X.Default,i){if(null!==n){if(1024&e[2]){const o=function PW(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=yx(s,o,t,r|X.Self,jr);if(a!==jr)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,jr,r);if(u!==jr)return u}l=bx(o),o=o[15]}s=l}return i}(n,e,t,r,jr);if(o!==jr)return o}const s=yx(n,e,t,r,jr);if(s!==jr)return s}return mx(e,t,r,i)}function yx(n,e,t,r,i){const s=function OW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ec)?n[Ec]:void 0;return"number"==typeof e?e>=0?255&e:NW:e}(t);if("function"==typeof s){if(!nx(e,n,r))return r&X.Host?gx(i,0,r):mx(e,t,r,i);try{const o=s(r);if(null!=o||r&X.Optional)return o;Ih()}finally{ox()}}else if("number"==typeof s){let o=null,a=px(n,e),l=-1,c=r&X.Host?e[16][6]:null;for((-1===a||r&X.SkipSelf)&&(l=-1===a?oy(n,e):e[a+8],-1!==l&&wx(r,!1)?(o=e[1],a=$h(l),e=jh(l,e)):a=-1);-1!==a;){const u=e[1];if(vx(s,a,u.data)){const d=RW(a,e,t,o,r,c);if(d!==jr)return d}l=e[a+8],-1!==l&&wx(r,e[1].data[a+8]===c)&&vx(s,a,e)?(o=u,a=$h(l),e=jh(l,e)):a=-1}}return i}function RW(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Gh(a,o,t,null==r?Tc(a)&&iy:r!=o&&0!=(3&a.type),i&X.Host&&s===a);return null!==u?Gs(e,o,u,a):jr}function Gh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Mr(f)&&f.type===t)return l}return null}function Gs(n,e,t,r){let i=n[t];const s=e.data;if(function IW(n){return n instanceof Mc}(i)){const o=i;o.resolving&&function Aq(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=Hh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?ur(o.injectImpl):null;nx(n,r,X.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function EW(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=UM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&ur(l),Hh(a),o.resolving=!1,ox()}}return i}function vx(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function wx(n,e){return!(n&X.Self||n&X.Host&&e)}class va{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _x(this._tNode,this._lView,e,Mh(r),t)}}function NW(){return new va(qt(),S())}function Se(n){return es(()=>{const e=n.prototype.constructor,t=e[_i]||ly(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[_i]||ly(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ly(n){return P_(n)?()=>{const e=ly(Q(n));return e&&e()}:Hs(n)}function bx(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ba="__parameters__";function Ea(n,e,t){return es(()=>{const r=function cy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ba)?l[ba]:Object.defineProperty(l,ba,{value:[]})[ba];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class R{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qs(n,e){n.forEach(t=>Array.isArray(t)?qs(t,e):e(t))}function Ex(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Nc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Kn(n,e,t){let r=Ca(n,e);return r>=0?n[1|r]=t:(r=~r,function BW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function dy(n,e){const t=Ca(n,e);if(t>=0)return n[1|t]}function Ca(n,e){return function Cx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Kh=Dc(Ea("Inject",n=>({token:n})),-1),cn=Dc(Ea("Optional"),8),Pc=Dc(Ea("SkipSelf"),4);var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();const my=new Map;let l3=0;const yy="__ngContext__";function un(n,e){Gn(e)?(n[yy]=e[20],function u3(n){my.set(n[20],n)}(e)):n[yy]=e}function wy(n,e){return undefined(n,e)}function Bc(n){const e=n[3];return Ar(e)?e[3]:e}function by(n){return zx(n[13])}function Dy(n){return zx(n[4])}function zx(n){for(;null!==n&&!Ar(n);)n=n[4];return n}function Sa(n,e,t,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Gn(r)&&(o=!0,r=r[0]);const a=Gt(r);0===n&&null!==t?null==i?Qx(e,t,a):Ws(e,t,a,i||null,!0):1===n&&null!==t?Ws(e,t,a,i||null,!0):2===n?function My(n,e,t){const r=Xh(n,e);r&&function x3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function O3(n,e,t,r,i){const s=t[7];s!==Gt(t)&&Sa(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Uc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Cy(n,e,t){return n.createElement(e,t)}function qx(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,W_(i,-1)),t.splice(r,1)}function Iy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&qx(i,r),e>0&&(n[t-1][4]=r[4]);const s=qh(n,10+e);!function D3(n,e){Uc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Wx(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Uc(n,e,t,3,null,null),function I3(n){let e=n[13];if(!e)return Sy(n[1],n);for(;e;){let t=null;if(Gn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Gn(e)&&Sy(e[1],e),e=e[3];null===e&&(e=n),Gn(e)&&Sy(e[1],e),t=e&&e[4]}e=t}}(e)}}function Sy(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function M3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Mc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function A3(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ar(e[3])){t!==e[3]&&qx(t,e);const r=e[19];null!==r&&r.detachView(n)}!function d3(n){my.delete(n[20])}(e)}}function Kx(n,e,t){return function Yx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return qn(r,t)}}(n,e.parent,t)}function Ws(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Qx(n,e,t){n.appendChild(e,t)}function Xx(n,e,t,r,i){null!==r?Ws(n,e,t,r,i):Qx(n,e,t)}function Xh(n,e){return n.parentNode(e)}function Zx(n,e,t){return ek(n,e,t)}let Ry,ek=function Jx(n,e,t){return 40&n.type?qn(n,t):null};function Zh(n,e,t,r){const i=Kx(n,r,e),s=e[11],a=Zx(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Xx(s,i,t[l],a,!1);else Xx(s,i,t,a,!1)}function Jh(n,e){if(null!==e){const t=e.type;if(3&t)return qn(e,n);if(4&t)return Ay(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Jh(n,r);{const i=n[e.index];return Ar(i)?Ay(-1,i):Gt(i)}}if(32&t)return wy(e,n)()||Gt(n[e.index]);{const r=nk(n,e);return null!==r?Array.isArray(r)?r[0]:Jh(Bc(n[16]),r):Jh(n,e.next)}}return null}function nk(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ay(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Jh(r,i)}return e[7]}function xy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&un(Gt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)xy(n,e,t.child,r,i,s,!1),Sa(e,n,i,a,s);else if(32&l){const c=wy(t,r);let u;for(;u=c();)Sa(e,n,i,u,s);Sa(e,n,i,a,s)}else 16&l?rk(n,e,r,t,i,s):Sa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Uc(n,e,t,r,i,s){xy(t,r,n.firstChild,e,i,s,!1)}function rk(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Sa(e,n,i,l[c],s);else xy(n,e,l,o[3],i,s,!0)}function ik(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sk(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&ry(n,e,r),null!==i&&ik(n,e,i),null!==s&&function P3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class uk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const rf=new R("ENVIRONMENT_INITIALIZER"),wk=new R("INJECTOR",-1),bk=new R("INJECTOR_DEF_TYPES");class Dk{get(e,t=wc){if(t===wc){const r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return t}}function l4(...n){return{\u0275providers:Ek(0,n),\u0275fromNgModule:!0}}function Ek(n,...e){const t=[],r=new Set;let i;return qs(e,s=>{const o=s;Vy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Ck(i,t),t}function Ck(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];By(i,s=>{e.push(s)})}}function Vy(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=SM(n);const o=!s&&Pe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=SM(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Vy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{qs(s.imports,u=>{Vy(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Ck(c,e)}if(!a){const c=Hs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Me},{provide:bk,useValue:i,multi:!0},{provide:rf,useValue:()=>E(i),multi:!0})}const l=s.providers;null==l||a||By(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function By(n,e){for(let t of n)F_(t)&&(t=t.\u0275providers),Array.isArray(t)?By(t,e):e(t)}const c4=$e({provide:String,useValue:$e});function Uy(n){return null!==n&&"object"==typeof n&&c4 in n}function Ys(n){return"function"==typeof n}const $y=new R("Set Injector scope."),sf={},d4={};let jy;function af(){return void 0===jy&&(jy=new Dk),jy}class Di{}class Tk extends Di{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zy(e,o=>this.processProvider(o)),this.records.set(wk,Ta(void 0,this)),i.has("environment")&&this.records.set(Di,Ta(void 0,this));const s=this.records.get($y);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(bk.multi,Me,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ua(this),r=ur(void 0);try{return e()}finally{ua(t),ur(r)}}get(e,t=wc,r=X.Default){this.assertNotDestroyed(),r=Mh(r);const i=ua(this),s=ur(void 0);try{if(!(r&X.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function m4(n){return"function"==typeof n||"object"==typeof n&&n instanceof R}(e)&&Sh(e);a=l&&this.injectableDefInScope(l)?Ta(Hy(e),sf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&X.Self?af():this.parent).get(e,t=r&X.Optional&&t===wc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ah]=o[Ah]||[]).unshift(je(e)),i)throw o;return function Hq(n,e,t,r){const i=n[Ah];throw e[MM]&&i.unshift(e[MM]),n.message=function zq(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):je(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Bq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ah]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ur(s),ua(i)}}resolveInjectorInitializers(){const e=ua(this),t=ur(void 0);try{const r=this.get(rf.multi,Me,X.Self);for(const i of r)i()}finally{ua(e),ur(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=Ys(e=Q(e))?e:Q(e&&e.provide);const r=function f4(n){return Uy(n)?Ta(void 0,n.useValue):Ta(Ak(n),sf)}(e);if(Ys(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ta(void 0,sf,!0),i.factory=()=>U_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===sf&&(t.value=d4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function g4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Hy(n){const e=Sh(n),t=null!==e?e.factory:Hs(n);if(null!==t)return t;if(n instanceof R)throw new I(204,!1);if(n instanceof Function)return function h4(n){const e=n.length;if(e>0)throw Nc(e,"?"),new I(204,!1);const t=function Nq(n){const e=n&&(n[Th]||n[TM]);if(e){const t=function Pq(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function Ak(n,e,t){let r;if(Ys(n)){const i=Q(n);return Hs(i)||Hy(i)}if(Uy(n))r=()=>Q(n.useValue);else if(function Sk(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...U_(n.deps||[]));else if(function Ik(n){return!(!n||!n.useExisting)}(n))r=()=>E(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function p4(n){return!!n.deps}(n))return Hs(i)||Hy(i);r=()=>new i(...U_(n.deps))}return r}function Ta(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zy(n,e){for(const t of n)Array.isArray(t)?zy(t,e):t&&F_(t)?zy(t.\u0275providers,e):e(t)}class _4{}class Mk{}class v4{resolveComponentFactory(e){throw function y4(n){const e=Error(`No component factory found for ${je(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Qs=(()=>{class n{}return n.NULL=new v4,n})();function w4(){return Aa(qt(),S())}function Aa(n,e){return new Fe(qn(n,e))}let Fe=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=w4,n})();function b4(n){return n instanceof Fe?n.nativeElement:n}class zc{}let Ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function D4(){const n=S(),t=Wn(qt().index,n);return(Gn(t)?t:n)[11]}(),n})(),E4=(()=>{class n{}return n.\u0275prov=N({token:n,providedIn:"root",factory:()=>null}),n})();class rs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kk=new rs("15.1.2"),Gy={};function Wy(n){return n.ngOriginalError}class Ma{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wy(e);for(;t&&Wy(t);)t=Wy(t);return t||null}}function Ci(n){return n instanceof Function?n():n}function Ok(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Nk="ng-template";function N4(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Ok(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Pk(n){return 4===n.type&&n.value!==Nk}function P4(n,e,t){return e===(4!==n.type||t?n.value:Nk)}function F4(n,e,t){let r=4;const i=n.attrs||[],s=function B4(n){for(let e=0;e<n.length;e++)if(lx(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!P4(n,l,t)||""===l&&1===e.length){if(xr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!N4(n.attrs,c,t)){if(xr(r))return!1;o=!0}continue}const d=L4(8&r?"class":l,i,Pk(n),t);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Ok(f,c,0)||2&r&&c!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(l))return!1;if(o&&xr(l))continue;o=!1,r=l|1&r}}return xr(r)||o}function xr(n){return 0==(1&n)}function L4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function U4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Fk(n,e,t=!1){for(let r=0;r<e.length;r++)if(F4(n,e[r],t))return!0;return!1}function $4(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Lk(n,e){return n?":not("+e.trim()+")":e}function j4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=Lk(s,i),i=""),r=o,s=s||!xr(r);t++}return""!==i&&(e+=Lk(s,i)),e}const se={};function fr(n){Vk(De(),S(),Dn()+n,!1)}function Vk(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Bh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Uh(e,s,0,t)}zs(t)}function jk(n,e=null,t=null,r){const i=Hk(n,e,t,r);return i.resolveInjectorInitializers(),i}function Hk(n,e=null,t=null,r,i=new Set){const s=[t||Me,l4(n)];return r=r||("object"==typeof n?void 0:je(n)),new Tk(s,e||af(),r||null,i)}let St=(()=>{class n{static create(t,r){if(Array.isArray(t))return jk({name:""},r,t,"");{const i=t.name??"";return jk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=wc,n.NULL=new Dk,n.\u0275prov=N({token:n,providedIn:"any",factory:()=>E(wk)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=X.Default){const t=S();return null===t?E(n,e):_x(qt(),t,Q(n),e)}function Zy(){throw new Error("invalid")}function Qk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Z_(t[r]),o.contentQueries(2,e[s],s)}}}function cf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),qM(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function c3(){return l3++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Ra(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Jy(n,e,t,r,i){const s=XM(),o=K_(),l=n.data[e]=function p8(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function hW(){return ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ac(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $r(s,!0),s}function Gc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ev(n,e,t){J_(e);try{const r=n.viewQuery;null!==r&&uv(1,r,t);const i=n.template;null!==i&&Xk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Qk(n,e),n.staticViewQueries&&uv(2,n.viewQuery,t);const s=n.components;null!==s&&function d8(n,e){for(let t=0;t<e.length;t++)O8(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ey()}}function uf(n,e,t,r){const i=e[2];if(128!=(128&i)){J_(e);try{qM(e),function JM(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Xk(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Bh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Uh(e,c,0,null),ty(e,0)}if(function k8(n){for(let e=by(n);null!==e;e=Dy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||W_(i[3],1),i[2]|=512}}}(e),function x8(n){for(let e=by(n);null!==e;e=Dy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Lh(r)&&uf(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Qk(n,e),o){const c=n.contentCheckHooks;null!==c&&Bh(e,c)}else{const c=n.contentHooks;null!==c&&Uh(e,c,1),ty(e,1)}!function c8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)zs(~i);else{const s=i,o=t[++r],a=t[++r];fW(o,s),a(2,e[s])}}}finally{zs(-1)}}(n,e);const a=n.components;null!==a&&function u8(n,e){for(let t=0;t<e.length;t++)R8(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&uv(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Bh(e,c)}else{const c=n.viewHooks;null!==c&&Uh(e,c,2),ty(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,W_(e[3],-1))}finally{ey()}}}function Xk(n,e,t,r,i){const s=Dn(),o=2&r;try{zs(-1),o&&e.length>22&&Vk(n,e,22,!1),t(r,i)}finally{zs(s)}}function tv(n,e,t){if(G_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function nv(n,e,t){KM()&&(function w8(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Tc(t)&&function T8(n,e,t){const r=qn(e,n),i=Zk(t),s=n[10],o=df(n,cf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||zh(t,e),un(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Gs(e,n,a,t);un(c,e),null!==o&&A8(0,a-i,c,l,0,o),Mr(l)&&(Wn(t.index,e)[8]=Gs(e,n,a,t))}}(n,e,t,qn(t,e)),64==(64&t.flags)&&iR(n,e,t))}function rv(n,e,t=qn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Zk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=iv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function iv(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function h8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Jk(n,e,t,r){const i=oR(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&aR(n).push(r,i.length-1))}function eR(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?tR(t,e,i,s):r.hasOwnProperty(i)&&tR(t,e,r[i],s)}return t}function tR(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Yn(n,e,t,r,i,s,o,a){const l=qn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(dv(n,t,u,r,i),Tc(e)&&nR(t,e.index)):3&e.type&&(r=function m8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function nR(n,e){const t=Wn(e,n);16&t[2]||(t[2]|=32)}function sv(n,e,t,r){let i=!1;if(KM()){const s=null===r?null:{"":-1},o=function D8(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Fk(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ov(n,e,a.length)}else r.unshift(o),ov(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(i=!0,rR(n,e,t,a,s,l)),s&&function E8(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=xc(t.mergedAttrs,t.attrs),i}function rR(n,e,t,r,i,s){for(let c=0;c<r.length;c++)ay(zh(t,e),n,r[c].type);!function I8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Gc(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=xc(t.mergedAttrs,u.hostAttrs),S8(n,t,e,l,u),C8(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function g8(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=eR(d.inputs,u,l,h?h.inputs:null),c=eR(d.outputs,u,c,p);const g=null===l||null===o||Pk(e)?null:M8(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function iR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function pW(){return ie.lFrame.currentDirectiveIndex}();try{zs(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Q_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&b8(l,c)}}finally{zs(-1),Q_(o)}}function b8(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ov(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function C8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mr(e)&&(t[""]=n)}}function S8(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Hs(i.type)),o=new Mc(s,Mr(i),_);n.blueprint[r]=o,t[r]=o,function y8(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function v8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Gc(n,t,i.hostVars,se),i)}function Hr(n,e,t,r,i,s){const o=qn(n,e);!function av(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?re(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function A8(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function M8(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function R8(n,e){const t=Wn(e,n);if(Lh(t)){const r=t[1];48&t[2]?uf(r,t,r.template,t[8]):t[5]>0&&lv(t)}}function lv(n){for(let r=by(n);null!==r;r=Dy(r))for(let i=10;i<r.length;i++){const s=r[i];if(Lh(s))if(512&s[2]){const o=s[1];uf(o,s,o.template,s[8])}else s[5]>0&&lv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Wn(t[r],n);Lh(i)&&i[5]>0&&lv(i)}}function O8(n,e){const t=Wn(e,n),r=t[1];(function N8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ev(r,t,t[8])}function df(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function cv(n){for(;n;){n[2]|=32;const e=Bc(n);if(Kq(n)&&!e)return n;n=e}return null}function hf(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{uf(n,e,n.template,t)}catch(o){throw r&&cR(e,o),o}finally{i.end&&i.end()}}function uv(n,e,t){Z_(0),e(n,t)}function oR(n){return n[7]||(n[7]=[])}function aR(n){return n.cleanup||(n.cleanup=[])}function cR(n,e){const t=n[9],r=t?t.get(Ma,null):null;r&&r.handleError(e)}function dv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ff(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=N_(i,a):2==s&&(r=N_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Gt(s)),Ar(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&pf(l[1],l,c,r)}const o=t.type;if(8&o)pf(n,e,t.child,r);else if(32&o){const a=wy(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=nk(e,t);if(Array.isArray(a))r.push(...a);else{const l=Bc(e[16]);pf(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class qc{get rootNodes(){const e=this._lView,t=e[1];return pf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Iy(e,r),qh(t,r))}this._attachedToViewContainer=!1}Wx(this._lView[1],this._lView)}onDestroy(e){Jk(this._lView[1],this._lView,null,e)}markForCheck(){cv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function C3(n,e){Uc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class P8 extends qc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hf(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class uR extends Qs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Pe(e);return new Wc(t,this.ngModule)}}function dR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class L8{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Mh(r);const i=this.injector.get(e,Gy,r);return i!==Gy||t===Gy?i:this.parentInjector.get(e,t,r)}}class Wc extends Mk{get inputs(){return dR(this.componentDef.inputs)}get outputs(){return dR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function H4(n){return n.map(j4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Di?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new L8(e,s):e,a=o.get(zc,null);if(null===a)throw new I(407,!1);const l=o.get(E4,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function f8(n,e,t){return n.selectRootElement(e,t===Sr.ShadowDom)}(c,r,this.componentDef.encapsulation):Cy(c,u,function F8(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=iv(0,null,null,1,0,null,null,null,null,null),p=cf(null,f,null,h,null,null,a,c,l,o,null);let g,m;J_(p);try{const v=this.componentDef;let C,w=null;v.findHostDirectiveDefs?(C=[],w=new Map,v.findHostDirectiveDefs(v,C,w),C.push(v)):C=[v];const k=function B8(n,e){const t=n[1];return n[22]=e,Ra(t,22,2,"#host",null)}(p,d),$=function U8(n,e,t,r,i,s,o,a){const l=i[1];!function $8(n,e,t,r){for(const i of n)e.mergedAttrs=xc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ff(e,e.mergedAttrs,!0),null!==t&&sk(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=cf(i,Zk(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&ov(l,n,r.length-1),df(i,u),i[n.index]=u}(k,d,v,C,p,a,c);m=GM(f,22),d&&function H8(n,e,t,r){if(r)ry(n,t,["ng-version",kk.full]);else{const{attrs:i,classes:s}=function z4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&ry(n,t,i),s&&s.length>0&&ik(n,t,s.join(" "))}}(c,v,d,r),void 0!==t&&function z8(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,t),g=function j8(n,e,t,r,i,s){const o=qt(),a=i[1],l=qn(o,i);rR(a,i,o,t,null,r);for(let u=0;u<t.length;u++)un(Gs(i,a,o.directiveStart+u,o),i);iR(a,i,o),l&&un(l,i);const c=Gs(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=c,null!==s)for(const u of s)u(c,e);return tv(a,o,n),c}($,v,C,w,p,[G8]),ev(f,p,null)}finally{ey()}return new V8(this.componentType,g,Aa(m,p),p,m)}}class V8 extends _4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new P8(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;dv(s[1],s,i,e,t),nR(s,this._tNode.index)}}get injector(){return new va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function G8(){const n=qt();Vh(S()[1],n)}function G(n){let e=function hR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=hv(n.inputs),o.declaredInputs=hv(n.declaredInputs),o.outputs=hv(n.outputs);const a=i.hostBindings;a&&Y8(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&W8(n,l),c&&K8(n,c),O_(n.inputs,i.inputs),O_(n.declaredInputs,i.declaredInputs),O_(n.outputs,i.outputs),Mr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===G&&(t=!1)}}e=Object.getPrototypeOf(e)}!function q8(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xc(i.hostAttrs,t=xc(t,i.hostAttrs))}}(r)}function hv(n){return n===mi?{}:n===Me?[]:n}function W8(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function K8(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Y8(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let gf=null;function Xs(){if(!gf){const n=ze.Symbol;if(n&&n.iterator)gf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(gf=r)}}}return gf}function mf(n){return!!function fv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xs()in n)}function dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function gr(n,e,t,r){const i=S();return dn(i,_a(),e)&&(De(),Hr(et(),i,n,e,t,r)),gr}function is(n,e,t,r,i,s,o,a){const l=S(),c=De(),u=n+22,d=c.firstCreatePass?function sK(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ra(e,n,4,o||null,ts(c,a));sv(e,t,u,ts(c,l)),Vh(e,u);const d=u.tViews=iv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];$r(d,!1);const h=l[11].createComment("");Zh(c,l,h,d),un(h,l),df(l,l[u]=sR(h,l,h,d)),Ph(d)&&nv(c,l,d),null!=o&&rv(l,d,a)}function yf(n,e,t){const r=S();return dn(r,_a(),e)&&Yn(De(),et(),r,n,e,r[11],t,!1),yf}function pv(n,e,t,r,i){const o=i?"class":"style";dv(n,t,e.inputs[o],o,r)}function xe(n,e,t,r){const i=S(),s=De(),o=22+n,a=i[11],l=i[o]=Cy(a,e,function DW(){return ie.lFrame.currentNamespace}()),c=s.firstCreatePass?function lK(n,e,t,r,i,s,o){const a=e.consts,c=Ra(e,n,2,i,ts(a,s));return sv(e,t,c,ts(a,o)),null!==c.attrs&&ff(c,c.attrs,!1),null!==c.mergedAttrs&&ff(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];return $r(c,!0),sk(a,l,c),32!=(32&c.flags)&&Zh(s,i,l,c),0===function oW(){return ie.lFrame.elementDepthCount}()&&un(l,i),function aW(){ie.lFrame.elementDepthCount++}(),Ph(c)&&(nv(s,i,c),tv(s,c,i)),null!==r&&rv(i,c),xe}function ke(){let n=qt();K_()?Y_():(n=n.parent,$r(n,!1));const e=n;!function lW(){ie.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&(Vh(t,n),G_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function SW(n){return 0!=(8&n.flags)}(e)&&pv(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function TW(n){return 0!=(16&n.flags)}(e)&&pv(t,e,S(),e.stylesWithoutHost,!1),ke}function ss(n,e,t,r){return xe(n,e,t,r),ke(),ss}function Xc(n){return!!n&&"function"==typeof n.then}const gv=function SR(n){return!!n&&"function"==typeof n.subscribe};function hn(n,e,t,r){const i=S(),s=De(),o=qt();return function AR(n,e,t,r,i,s,o){const a=Ph(r),c=n.firstCreatePass&&aR(n),u=e[8],d=oR(e);let h=!0;if(3&r.type||o){const g=qn(r,e),m=o?o(g):g,v=d.length,C=o?k=>o(Gt(k[r.index])):r.index;let w=null;if(!o&&a&&(w=function uK(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=xR(r,e,u,s,!1);const k=t.listen(m,i,s);d.push(s,k),c&&c.push(i,C,v,v+1)}}else s=xR(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const $=e[p[m]][p[m+1]].subscribe(s),B=d.length;d.push(s,$),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,n,e,r),hn}function MR(n,e,t,r){try{return!1!==t(r)}catch(i){return cR(n,i),!1}}function xR(n,e,t,r,i){return function s(o){if(o===Function)return r;cv(n.componentOffset>-1?Wn(n.index,e):e);let l=MR(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=MR(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ja(n=1){return function mW(n){return(ie.lFrame.contextLView=function _W(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function dK(n,e){let t=null;const r=function V4(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Fk(n,s,!0):$4(r,s))return i}else t=i}return t}function Js(n){const e=S()[16][6];if(!e.projection){const r=e.projection=Nc(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?dK(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Qn(n,e=0,t){const r=S(),i=De(),s=Ra(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Y_(),32!=(32&s.flags)&&function R3(n,e,t){rk(e[11],0,e,t,Kx(n,t,e),Zx(t.parent||e[6],t,e))}(i,r,s)}function vf(n,e){return n<<17|e<<2}function os(n){return n>>17&32767}function _v(n){return 2|n}function eo(n){return(131068&n)>>2}function yv(n,e){return-131069&n|e<<2}function vv(n){return 1|n}function UR(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?os(s):eo(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];_K(n[a],e)&&(l=!0,n[a+1]=r?vv(u):_v(u)),a=r?os(u):eo(u)}l&&(n[t+1]=r?_v(s):vv(s))}function _K(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ca(n,e)>=0}function to(n,e,t){return kr(n,e,t,!1),to}function qr(n,e){return kr(n,e,null,!0),qr}function kr(n,e,t,r){const i=S(),s=De(),o=function wi(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function KR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Dn()],o=function WR(n,e){return e>=n.expandoStartIndex}(n,t);(function ZR(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function SK(n,e,t,r){const i=function X_(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Zc(t=wv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=wv(i,n,e,t,r),null===s){let l=function TK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==eo(r))return n[os(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=wv(null,n,e,l[1],r),l=Zc(l,e.attrs,r),function AK(n,e,t,r){n[os(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function MK(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zc(r,n[s].hostAttrs,t);return Zc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function gK(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=os(o),l=eo(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ca(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=os(n[a+1]);n[r+1]=vf(h,a),0!==h&&(n[h+1]=yv(n[h+1],r)),n[a+1]=function fK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=vf(a,0),0!==a&&(n[a+1]=yv(n[a+1],r)),a=r;else n[r+1]=vf(l,0),0===a?a=r:n[l+1]=yv(n[l+1],r),l=r;c&&(n[r+1]=_v(n[r+1])),UR(n,u,r,!0),UR(n,u,r,!1),function mK(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ca(s,e)>=0&&(t[r+1]=vv(t[r+1]))}(e,u,n,r,s),o=vf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==se&&dn(i,o,e)&&function QR(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function pK(n){return 1==(1&n)}(c)?XR(l,e,t,i,eo(c),o):void 0;wf(u)||(wf(s)||function hK(n){return 2==(2&n)}(c)&&(s=XR(l,null,t,i,a,o)),function N3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:On.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),n.setStyle(t,r,i,s))}}(r,o,Fh(Dn(),t),i,s))}(s,s.data[Dn()],i,i[11],n,i[o+1]=function RK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=je(function ns(n){return n instanceof uk?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}function wv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Zc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Zc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Kn(n,o,!!t||e[++s]))}return void 0===n?null:n}function XR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===se&&(h=d?Me:void 0);let f=d?dy(h,r):u===r?h:void 0;if(c&&!wf(f)&&(f=dy(l,r)),wf(f)&&(a=f,o))return a;const p=n[i+1];i=o?os(p):eo(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=dy(l,r))}return a}function wf(n){return void 0!==n}function ht(n,e=""){const t=S(),r=De(),i=n+22,s=r.firstCreatePass?Ra(r,i,1,e,null):r.data[i],o=t[i]=function Ey(n,e){return n.createText(e)}(t[11],e);Zh(r,t,o,s),$r(s,!1)}function Jc(n){return as("",n,""),Jc}function as(n,e,t){const r=S(),i=function Na(n,e,t,r){return dn(n,_a(),t)?e+re(t)+r:se}(r,n,e,t);return i!==se&&function Ii(n,e,t){const r=Fh(e,n);!function Gx(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Dn(),i),as}function bv(n,e,t){const r=S();return dn(r,_a(),e)&&Yn(De(),et(),r,n,e,r[11],t,!0),bv}const Ga="en-US";let vO=Ga;function Cv(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)Cv(n[s],e,t,r,i);else{const s=De(),o=S();let a=Ys(n)?n:Q(n.provide),l=Ak(n);const c=qt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ys(n)||!n.multi){const f=new Mc(l,i,_),p=Sv(a,e,i?u:u+h,d);-1===p?(ay(zh(c,o),s,a),Iv(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Sv(a,e,u+h,d),p=Sv(a,e,u,u+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){ay(zh(c,o),s,a);const v=function X5(n,e,t,r,i){const s=new Mc(n,t,_);return s.multi=[],s.index=e,s.componentProviders=0,zO(s,i,r&&!t),s}(i?Q5:Y5,t.length,i,r,l);!i&&m&&(t[p].providerFactory=v),Iv(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else Iv(s,n,f>-1?f:p,zO(t[i?p:f],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Iv(n,e,t,r){const i=Ys(e),s=function u4(n){return!!n.useClass}(e);if(i||s){const l=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function zO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Y5(n,e,t,r){return Tv(this.multi,[])}function Q5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Gs(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Tv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Tv(i,s);return s}function Tv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ue(n,e=[]){return t=>{t.providersResolver=(r,i)=>function K5(n,e,t){const r=De();if(r.firstCreatePass){const i=Mr(n);Cv(t,r.data,r.blueprint,i,!0),Cv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class qa{}class GO{}class qO extends qa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uR(this);const r=zn(e);this._bootstrapComponents=Ci(r.bootstrap),this._r3Injector=Hk(e,t,[{provide:qa,useValue:this},{provide:Qs,useValue:this.componentFactoryResolver}],je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Av extends GO{constructor(e){super(),this.moduleType=e}create(e){return new qO(this.moduleType,e)}}class J5 extends qa{constructor(e,t,r){super(),this.componentFactoryResolver=new uR(this),this.instance=null;const i=new Tk([...e,{provide:qa,useValue:this},{provide:Qs,useValue:this.componentFactoryResolver}],t||af(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function If(n,e,t=null){return new J5(n,e,t).injector}let e6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Ek(0,t.type),i=r.length>0?If([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(E(Di))}),n})();function Mv(n){n.getStandaloneInjector=e=>e.get(e6).getOrCreateStandaloneInjector(n)}function kv(n){return e=>{setTimeout(n,void 0,e)}}const Ge=class S6 extends Ae{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=kv(s),i&&(i=kv(i)),o&&(o=kv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof zt&&e.add(a),a}};function T6(){return this._results[Xs()]()}class Rv{get changes(){return this._changes||(this._changes=new Ge)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Xs(),r=Rv.prototype;r[t]||(r[t]=T6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function hr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function LW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lt=(()=>{class n{}return n.__NG_ELEMENT_ID__=x6,n})();const A6=Lt,M6=class extends A6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=cf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),ev(r,i,e),new qc(i)}};function x6(){return Sf(qt(),S())}function Sf(n,e){return 4&n.type?new M6(e,n,Aa(n,e)):null}let Wt=(()=>{class n{}return n.__NG_ELEMENT_ID__=k6,n})();function k6(){return oN(qt(),S())}const R6=Wt,iN=class extends R6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new va(this._hostTNode,this._hostLView)}get parentInjector(){const e=oy(this._hostTNode,this._hostLView);if(dx(e)){const t=jh(e,this._hostLView),r=$h(e);return new va(t[1].data[r+8],t)}return new va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Oc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Wc(Pe(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Di,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function sW(n){return Ar(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new iN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function S3(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Ex(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function T3(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Ay(s,o),l=r[11],c=Xh(l,o[7]);return null!==c&&function E3(n,e,t,r,i,s){r[0]=i,r[6]=e,Uc(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Ex(Ov(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Iy(this._lContainer,t);r&&(qh(Ov(this._lContainer),t),Wx(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Iy(this._lContainer,t);return r&&null!=qh(Ov(this._lContainer),t)?new qc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sN(n){return n[8]}function Ov(n){return n[8]||(n[8]=[])}function oN(n,e){let t;const r=e[n.index];if(Ar(r))t=r;else{let i;if(8&n.type)i=Gt(r);else{const s=e[11];i=s.createComment("");const o=qn(n,e);Ws(s,Xh(s,o),i,function k3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=sR(r,e,i,n),df(e,t)}return new iN(t,n,e)}class Nv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Pv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dN(e,t).matches&&this.queries[t].setDirty()}}class aN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Fv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Fv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Lv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Lv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,O6(t,s)),this.matchTNodeWithReadOption(e,t,Gh(t,e,s,!1,!1))}else r===Lt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Fe||i===Wt||i===Lt&&4&t.type)this.addMatch(t.index,-2);else{const s=Gh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function O6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function P6(n,e,t,r){return-1===t?function N6(n,e){return 11&n.type?Aa(n,e):4&n.type?Sf(n,e):null}(e,n):-2===t?function F6(n,e,t){return t===Fe?Aa(e,n):t===Lt?Sf(e,n):t===Wt?oN(e,n):void 0}(n,e,r):Gs(n,n[1],t,e)}function lN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:P6(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Vv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=lN(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Vv(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Vv(f[1],f,c,r)}}}}}return r}function At(n){const e=S(),t=De(),r=tx();Z_(r+1);const i=dN(t,r);if(n.dirty&&function iW(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Vv(t,e,r,[]):lN(t,e,i,r);n.reset(s,b4),n.notifyOnChanges()}return!0}return!1}function Yr(n,e,t){const r=De();r.firstCreatePass&&(function uN(n,e,t){null===n.queries&&(n.queries=new Fv),n.queries.track(new Lv(e,t))}(r,new aN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function cN(n,e,t){const r=new Rv(4==(4&t));Jk(n,e,r,r.destroy),null===e[19]&&(e[19]=new Pv),e[19].queries.push(new Nv(r))}(r,S(),e)}function Mt(){return function L6(n,e){return n[19].queries[e].queryList}(S(),tx())}function dN(n,e){return n.queries.getByIndex(e)}function Af(...n){}const Mf=new R("Application Initializer");let xf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Af,this.reject=Af,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Xc(s))t.push(s);else if(gv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(Mf,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lu=new R("AppId",{providedIn:"root",factory:function xN(){return`${Hv()}${Hv()}${Hv()}`}});function Hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kN=new R("Platform Initializer"),cu=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RN=new R("appBootstrapListener"),uu=new R("AnimationModuleType");let s7=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Xr=new R("LocaleId",{providedIn:"root",factory:()=>pe(Xr,X.Optional|X.SkipSelf)||function o7(){return typeof $localize<"u"&&$localize.locale||Ga}()});class l7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ON=(()=>{class n{compileModuleSync(t){return new Av(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ci(zn(t).declarations).reduce((o,a)=>{const l=Pe(a);return l&&o.push(new Wc(l)),o},[]);return new l7(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d7=(()=>Promise.resolve(0))();function zv(n){typeof Zone>"u"?d7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function h7(){let n=ze.requestAnimationFrame,e=ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function g7(n){const e=()=>{!function p7(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qv(n),n.isCheckStableRunning=!0,Gv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return FN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),LN(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return FN(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),LN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,qv(n),Gv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oe.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(oe.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,f7,Af,Af);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const f7={};function Gv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LN(n){n._nesting--,Gv(n)}class m7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const VN=new R(""),kf=new R("");let Yv,Wv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yv||(function _7(n){Yv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(oe),E(Kv),E(kf))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),Kv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Yv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ls=null;const BN=new R("AllowMultipleToken"),Qv=new R("PlatformDestroyListeners");class UN{constructor(e,t){this.name=e,this.token=t}}function jN(n,e,t=[]){const r=`Platform: ${e}`,i=new R(r);return(s=[])=>{let o=Xv();if(!o||o.injector.get(BN,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function w7(n){if(ls&&!ls.get(BN,!1))throw new I(400,!1);ls=n;const e=n.get(zN);(function $N(n){const e=n.get(kN,null);e&&e.forEach(t=>t())})(n)}(function HN(n=[],e){return St.create({name:e,providers:[{provide:$y,useValue:"platform"},{provide:Qv,useValue:new Set([()=>ls=null])},...n]})}(a,r))}return function D7(n){const e=Xv();if(!e)throw new I(401,!1);return e}()}}function Xv(){return ls?.get(zN)??null}let zN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function qN(n,e){let t;return t="noop"===n?new m7:("zone.js"===n?void 0:n)||new oe(e),t}(r?.ngZone,function GN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:oe,useValue:i}];return i.run(()=>{const o=St.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Ma,null);if(!l)throw new I(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Rf(this._modules,a),c.unsubscribe()})}),function WN(n,e,t){try{const r=t();return Xc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(xf);return c.runInitializers(),c.donePromise.then(()=>(function wO(n){cr(n,"Expected localeId to be defined"),"string"==typeof n&&(vO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Xr,Ga)||Ga),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=KN({},r);return function y7(n,e,t){const r=new Av(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ya);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Qv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(St))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function KN(n,e){return Array.isArray(e)?e.reduce(KN,n):{...n,...e}}let Ya=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Re(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Re(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=k_(s,o.pipe(function Sq(n={}){const{connector:e=(()=>new Ae),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return it((g,m)=>{c++,!d&&!u&&h();const v=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=R_(p,i))}),v.subscribe(m),!o&&c>0&&(o=new yc({next:C=>v.next(C),error:C=>{d=!0,h(),a=R_(f,t,C),v.error(C)},complete:()=>{u=!0,h(),a=R_(f,r),v.complete()}}),kn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof Mk;if(!this._injector.get(xf).done)throw!i&&function da(n){const e=Pe(n)||on(n)||yn(n);return null!==e&&e.standalone}(t),new I(405,false);let o;o=i?t:this._injector.get(Qs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function v7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(qa),c=o.create(St.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(VN,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Rf(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Rf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(RN,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Rf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(E(oe),E(Di),E(Ma))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=C7,n})();function C7(n){return function I7(n,e,t){if(Tc(n)&&!t){const r=Wn(n.index,e);return new qc(r,r)}return 47&n.type?new qc(e[16],e):null}(qt(),S(),16==(16&n))}class JN{constructor(){}supports(e){return mf(e)}create(e){return new k7(e)}}const x7=(n,e)=>e;class k7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<tP(r,i,s)?t:r,a=tP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!mf(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function nK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Xs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new R7(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new eP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class R7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class O7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class eP{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new O7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tP(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function rP(){return new Ti([new JN])}let Ti=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rP()),deps:[[n,new Pc,new cn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return n.\u0275prov=N({token:n,providedIn:"root",factory:rP}),n})();const V7=jN(null,"core",[]);let B7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E(Ya))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})(),nw=null;function Zr(){return nw}class j7{}const ye=new R("DocumentToken");let rw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return function H7(){return E(sP)}()},providedIn:"platform"}),n})();const z7=new R("Location Initialized");let sP=(()=>{class n extends rw{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(t){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){oP()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){oP()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:function(){return function G7(){return new sP(E(ye))}()},providedIn:"platform"}),n})();function oP(){return!!window.history.pushState}function iw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function aP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ai(n){return n&&"?"!==n[0]?"?"+n:n}let io=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return pe(cP)},providedIn:"root"}),n})();const lP=new R("appBaseHref");let cP=(()=>{class n extends io{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return iw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(rw),E(lP,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q7=(()=>{class n extends io{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=iw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(rw),E(lP,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),hu=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Y7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(aP(uP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ai(r))}normalize(t){return n.stripTrailingSlash(function K7(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,uP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ai,n.joinWithSlash=iw,n.stripTrailingSlash=aP,n.\u0275fac=function(t){return new(t||n)(E(io))},n.\u0275prov=N({token:n,factory:function(){return function W7(){return new hu(E(io))}()},providedIn:"root"}),n})();function uP(n){return n.replace(/\/index.html$/,"")}class P9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let DP=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new P9(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),EP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{EP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Lt),_(Ti))},n.\u0275dir=x({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function EP(n,e){n.context.$implicit=e.item}let vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const TP="browser";let fY=(()=>{class n{}return n.\u0275prov=N({token:n,providedIn:"root",factory:()=>new pY(E(ye),window)}),n})();class pY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=AP(this.window.history)||AP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function AP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class HY extends j7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dw extends HY{static makeCurrent(){!function $7(n){nw||(nw=n)}(new Dw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zY(){return mu=mu||document.querySelector("base"),mu?mu.getAttribute("href"):null}();return null==t?null:function GY(n){Gf=Gf||document.createElement("a"),Gf.setAttribute("href",n);const e=Gf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function R9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Gf,mu=null;const NP=new R("TRANSITION_ID"),WY=[{provide:Mf,useFactory:function qY(n,e,t){return()=>{t.get(xf).donePromise.then(()=>{const r=Zr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[NP,ye,St],multi:!0}];let YY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();const qf=new R("EventManagerPlugins");let Wf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(qf),E(oe))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();class PP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Zr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let FP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),_u=(()=>{class n extends FP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(LP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(LP))}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();function LP(n){Zr().remove(n)}const Ew={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cw=/%COMP%/g;function Iw(n,e){return e.flat(100).map(t=>t.replace(Cw,n))}function UP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Kf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Sr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new tQ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Sr.ShadowDom:return new nQ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Iw(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(Wf),E(_u),E(lu))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();class Sw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ew[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(jP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ew[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ew[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(t,r,i&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,UP(r)):this.eventManager.addEventListener(e,t,UP(r))}}function jP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tQ extends Sw{constructor(e,t,r,i){super(e),this.component=r;const s=Iw(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function ZY(n){return"_ngcontent-%COMP%".replace(Cw,n)}(i+"-"+r.id),this.hostAttr=function JY(n){return"_nghost-%COMP%".replace(Cw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nQ extends Sw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Iw(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rQ=(()=>{class n extends PP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();const HP=["alt","control","meta","shift"],iQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oQ=(()=>{class n extends PP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),HP.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=iQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),HP.forEach(o=>{o!==i&&(0,sQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();const GP=[{provide:cu,useValue:TP},{provide:kN,useValue:function aQ(){Dw.makeCurrent()},multi:!0},{provide:ye,useFactory:function cQ(){return function B3(n){Ry=n}(document),document},deps:[]}],uQ=jN(V7,"browser",GP),qP=new R(""),WP=[{provide:kf,useClass:class KY{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Zr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:VN,useClass:Wv,deps:[oe,Kv,kf]},{provide:Wv,useClass:Wv,deps:[oe,Kv,kf]}],KP=[{provide:$y,useValue:"root"},{provide:Ma,useFactory:function lQ(){return new Ma},deps:[]},{provide:qf,useClass:rQ,multi:!0,deps:[ye,oe,cu]},{provide:qf,useClass:oQ,multi:!0,deps:[ye]},{provide:Kf,useClass:Kf,deps:[Wf,_u,lu]},{provide:zc,useExisting:Kf},{provide:FP,useExisting:_u},{provide:_u,useClass:_u,deps:[ye]},{provide:Wf,useClass:Wf,deps:[qf,oe]},{provide:class mY{},useClass:YY,deps:[]},[]];let YP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lu,useValue:t.appId},{provide:NP,useExisting:lu},WY]}}}return n.\u0275fac=function(t){return new(t||n)(E(qP,12))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[...KP,...WP],imports:[vw,B7]}),n})(),QP=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:function(t){let r=null;return r=t?new t:function hQ(){return new QP(E(ye))}(),r},providedIn:"root"}),n})();function W(...n){return ut(n,vc(n))}typeof window<"u"&&window;class Xn extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Yf=_c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:wQ}=Array,{getPrototypeOf:bQ,prototype:DQ,keys:EQ}=Object;function JP(n){if(1===n.length){const e=n[0];if(wQ(e))return{args:e,keys:null};if(function CQ(n){return n&&"object"==typeof n&&bQ(n)===DQ}(e)){const t=EQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:IQ}=Array;function Mw(n){return he(e=>function SQ(n,e){return IQ(e)?n(...e):n(e)}(n,e))}function e1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xw(...n){const e=vc(n),t=DM(n),{args:r,keys:i}=JP(n);if(0===r.length)return ut([],e);const s=new Re(function TQ(n,e,t=Zi){return r=>{t1(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)t1(e,()=>{const c=ut(n[l],e);let u=!1;c.subscribe(Qe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>e1(i,o):Zi));return t?s.pipe(Mw(t)):s}function t1(n,e,t){n?gi(t,n,e):e()}function Qf(...n){return function AQ(){return ca(1)}()(ut(n,vc(n)))}function Xf(n){return new Re(e=>{kn(n()).subscribe(e)})}function yu(n,e){const t=we(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}function kw(){return it((n,e)=>{let t=null;n._refCount++;const r=Qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rw extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,aM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zt;const t=this.getSubject();e.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zt.EMPTY)}return e}refCount(){return kw()(this)}}function Jr(n,e){return it((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Qe(r,l=>{i?.unsubscribe();let c=0;const u=s++;kn(n(l,u)).subscribe(i=Qe(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zn(n){return n<=0?()=>Br:it((e,t)=>{let r=0;e.subscribe(Qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function vu(...n){const e=vc(n);return it((t,r)=>{(e?Qf(n,t,e):Qf(n,t)).subscribe(r)})}function Fn(n,e){return it((t,r)=>{let i=0;t.subscribe(Qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Zf(n){return it((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function n1(n=MQ){return it((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MQ(){return new Yf}function us(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,s)=>n(i,s,r)):Zi,Zn(1),t?Zf(e):n1(()=>new Yf))}function so(n,e){return we(e)?Ft(n,e,1):Ft(n,1)}function Kt(n,e,t){const r=we(n)||e||t?{next:n,error:e,complete:t}:n;return r?it((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Qe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Zi}function ds(n){return it((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Qe(t,void 0,void 0,o=>{s=kn(n(o,ds(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function xQ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Qe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function r1(n,e){return it(xQ(n,e,arguments.length>=2,!0))}function Ow(n){return n<=0?()=>Br:it((e,t)=>{let r=[];e.subscribe(Qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function s1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,s)=>n(i,s,r)):Zi,Ow(1),t?Zf(e):n1(()=>new Yf))}function Nw(n){return it((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ae="primary",wu=Symbol("RouteTitle");class OQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Za(n){return new OQ(n)}function NQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!o1(n[i],e[i]))return!1;return!0}function o1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function a1(n){return Array.prototype.concat.apply([],n)}function l1(n){return n.length>0?n[n.length-1]:null}function Yt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hs(n){return gv(n)?n:Xc(n)?ut(Promise.resolve(n)):W(n)}const Jf=!1,FQ={exact:function d1(n,e,t){if(!ao(n.segments,e.segments)||!ep(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!d1(n.children[r],e.children[r],t))return!1;return!0},subset:h1},c1={exact:function LQ(n,e){return ei(n,e)},subset:function VQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>o1(n[t],e[t]))},ignored:()=>!0};function u1(n,e,t){return FQ[t.paths](n.root,e.root,t.matrixParams)&&c1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function h1(n,e,t){return f1(n,e,e.segments,t)}function f1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!ep(i,t,r))}if(n.segments.length===t.length){if(!ao(n.segments,t)||!ep(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!h1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ao(n.segments,i)&&ep(n.segments,i,r)&&n.children[ae])&&f1(n.children[ae],e,s,r)}}function ep(n,e,t){return e.every((r,i)=>c1[t](n[i].parameters,r.parameters))}class oo{constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return $Q.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tp(this)}}class bu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Za(this.parameters)),this._parameterMap}toString(){return m1(this)}}function ao(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return new Pw},providedIn:"root"}),n})();class Pw{parse(e){const t=new QQ(e);return new oo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Eu(e.root,!0)}`,r=function zQ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${np(t)}=${np(i)}`).join("&"):`${np(t)}=${np(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $Q=new Pw;function tp(n){return n.segments.map(e=>m1(e)).join("/")}function Eu(n,e){if(!n.hasChildren())return tp(n);if(e){const t=n.children[ae]?Eu(n.children[ae],!1):"",r=[];return Yt(n.children,(i,s)=>{s!==ae&&r.push(`${s}:${Eu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function UQ(n,e){let t=[];return Yt(n.children,(r,i)=>{i===ae&&(t=t.concat(e(r,i)))}),Yt(n.children,(r,i)=>{i!==ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ae?[Eu(n.children[ae],!1)]:[`${i}:${Eu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${tp(n)}/${t[0]}`:`${tp(n)}/(${t.join("//")})`}}function p1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function np(n){return p1(n).replace(/%3B/gi,";")}function Fw(n){return p1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rp(n){return decodeURIComponent(n)}function g1(n){return rp(n.replace(/\+/g,"%20"))}function m1(n){return`${Fw(n.path)}${function HQ(n){return Object.keys(n).map(e=>`;${Fw(e)}=${Fw(n[e])}`).join("")}(n.parameters)}`}const GQ=/^[^\/()?;=#]+/;function ip(n){const e=n.match(GQ);return e?e[0]:""}const qQ=/^[^=?&#]+/,KQ=/^[^&#]+/;class QQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new ge(e,t)),r}parseSegment(){const e=ip(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,Jf);return this.capture(e),new bu(rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ip(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ip(this.remaining);i&&(r=i,this.capture(r))}e[rp(t)]=rp(r)}parseQueryParam(e){const t=function WQ(n){const e=n.match(qQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function YQ(n){const e=n.match(KQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=g1(t),s=g1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ip(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,Jf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ae]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,Jf)}}function Lw(n){return n.segments.length>0?new ge([],{[ae]:n}):n}function sp(n){const e={};for(const r of Object.keys(n.children)){const s=sp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function XQ(n){if(1===n.numberOfChildren&&n.children[ae]){const e=n.children[ae];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}function lo(n){return n instanceof oo}function eX(n,e,t,r,i){if(0===t.length)return Ja(e.root,e.root,e.root,r,i);const s=function v1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new y1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Yt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new y1(t,e,r)}(t);return s.toRoot()?Ja(e.root,e.root,new ge([],{}),r,i):function o(l){const c=function nX(n,e,t,r){if(n.isAbsolute)return new el(e.root,!0,0);if(-1===r)return new el(t,t===e.root,0);return function w1(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new el(r,!1,i-s)}(t,r+(Cu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?tl(c.segmentGroup,c.index,s.commands):Bw(c.segmentGroup,c.index,s.commands);return Ja(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Cu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Iu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ja(n,e,t,r,i){let o,s={};r&&Yt(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:_1(n,e,t);const a=Lw(sp(o));return new oo(a,s,i)}function _1(n,e,t){const r={};return Yt(n.children,(i,s)=>{r[s]=i===e?t:_1(i,e,t)}),new ge(n.segments,r)}class y1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cu(r[0]))throw new I(4003,!1);const i=r.find(Iu);if(i&&i!==l1(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class el{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bw(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return tl(n,e,t);const r=function iX(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Iu(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!D1(l,c,o))return s;r+=2}else{if(!D1(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[ae]=new ge(n.segments.slice(r.pathIndex),n.children),tl(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?Uw(n,e,t):r.match?tl(n,0,i):Uw(n,e,t)}function tl(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function rX(n){return Iu(n[0])?n[0].outlets:{[ae]:n}}(t),i={};return!r[ae]&&n.children[ae]&&1===n.numberOfChildren&&0===n.children[ae].segments.length?tl(n.children[ae],e,t):(Yt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Bw(n.children[o],e,s))}),Yt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i))}}function Uw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Iu(s)){const l=sX(s.outlets);return new ge(r,l)}if(0===i&&Cu(t[0])){r.push(new bu(n.segments[e].path,b1(t[0]))),i++;continue}const o=Iu(s)?s.outlets[ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Cu(a)?(r.push(new bu(o,b1(a))),i+=2):(r.push(new bu(o,{})),i++)}return new ge(r,{})}function sX(n){const e={};return Yt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Uw(new ge([],{}),0,t))}),e}function b1(n){const e={};return Yt(n,(t,r)=>e[r]=`${t}`),e}function D1(n,e,t){return n==t.path&&ei(e,t.parameters)}const Su="imperative";class ti{constructor(e,t){this.id=e,this.url=t}}class $w extends ti{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class co extends ti{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class op extends ti{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E1 extends ti{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class C1 extends ti{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lX extends ti{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yX=(()=>{class n{createUrlTree(t,r,i,s,o,a){return eX(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),vX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(e){return yX.\u0275fac(e)},providedIn:"root"}),n})();class S1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hw(e,this._root).map(t=>t.value)}}function jw(n,e){if(n===e.value)return e;for(const t of e.children){const r=jw(n,t);if(r)return r}return null}function Hw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Hw(n,t);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class T1 extends S1{constructor(e,t){super(e),this.snapshot=t,zw(this,e)}toString(){return this.snapshot.toString()}}function A1(n,e){const t=function wX(n,e){const o=new ap([],{},{},"",{},ae,e,null,n.root,-1,{});return new x1("",new xi(o,[]))}(n,e),r=new Xn([new bu("",{})]),i=new Xn({}),s=new Xn({}),o=new Xn({}),a=new Xn(""),l=new rl(r,i,o,a,s,ae,e,t.root);return l.snapshot=t.root,new T1(new xi(l,[]),t)}class rl{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(he(c=>c[wu]))??W(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>Za(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>Za(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function M1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ap{get title(){return this.data?.[wu]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Za(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x1 extends S1{constructor(e,t){super(t),this.url=e,zw(this,t)}toString(){return k1(this._root)}}function zw(n,e){e.value._routerState=n,e.children.forEach(t=>zw(n,t))}function k1(n){const e=n.children.length>0?` { ${n.children.map(k1).join(", ")} } `:"";return`${n.value}${e}`}function Gw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ei(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ei(e.params,t.params)||n.params.next(t.params),function PQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ei(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qw(n,e){const t=ei(n.params,e.params)&&function BQ(n,e){return ao(n,e)&&n.every((t,r)=>ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||qw(n.parent,e.parent))}function Tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function EX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tu(n,r,i);return Tu(n,r)})}(n,e,t);return new xi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Tu(n,a)),o}}const r=function CX(n){return new rl(new Xn(n.url),new Xn(n.params),new Xn(n.queryParams),new Xn(n.fragment),new Xn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Tu(n,s));return new xi(r,i)}}const Ww="ngNavigationCancelingError";function R1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=O1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function O1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ww]=!0,r.cancellationCode=e,t&&(r.url=t),r}function N1(n){return P1(n)&&lo(n.url)}function P1(n){return n&&n[Ww]}class IX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Au,this.attachRef=null}}let Au=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new IX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=!1;let Kw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=pe(Au),this.location=pe(Wt),this.changeDetector=pe(Qa),this.environmentInjector=pe(Di)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,lp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,lp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,lp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,lp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new SX(t,a,i.injector);if(r&&function TX(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=x({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]}),n})();class SX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===rl?this.route:e===Au?this.childContexts:this.parent.get(e,t)}}let Yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["ng-component"]],standalone:!0,features:[Mv],decls:1,vars:0,template:function(t,r){1&t&&ss(0,"router-outlet")},dependencies:[Kw],encapsulation:2}),n})();function F1(n,e){return n.providers&&!n._injector&&(n._injector=If(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xw(n){const e=n.children&&n.children.map(Xw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=Yw),t}function yr(n){return n.outlet||ae}function L1(n,e){const t=n.filter(r=>yr(r)===e);return t.push(...n.filter(r=>yr(r)!==e)),t}function Mu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=nl(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Yt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=nl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=nl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=nl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Gw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Mu(i.snapshot),l=a?.get(Qs)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class V1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cp{constructor(e,t){this.component=e,this.route=t}}function OX(n,e,t){const r=n._root;return xu(r,e?e._root:null,t,[r.value])}function il(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Oq(n){return null!==Sh(n)}(n)?e.get(n):n:r}function xu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nl(e);return n.children.forEach(o=>{(function PX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function FX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qw(n,e)||!ei(n.queryParams,e.queryParams);default:return!qw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new V1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xu(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cp(a.outlet.component,o))}else o&&ku(e,a,i),i.canActivateChecks.push(new V1(r)),xu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Yt(s,(o,a)=>ku(o,t.getContext(a),i)),i}function ku(n,e,t){const r=nl(n),i=n.value;Yt(r,(s,o)=>{ku(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new cp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ru(n){return"function"==typeof n}function Zw(n){return n instanceof Yf||"EmptyError"===n?.name}const up=Symbol("INITIAL_VALUE");function sl(){return Jr(n=>xw(n.map(e=>e.pipe(Zn(1),vu(up)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===up)return up;if(!1===t||t instanceof oo)return t}return!0}),Fn(e=>e!==up),Zn(1)))}function B1(n){return function eq(...n){return iM(n)}(Kt(e=>{if(lo(e))throw R1(0,e)}),he(e=>!0===e))}const Jw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U1(n,e,t,r,i){const s=eb(n,e,t);return s.matched?function JX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=il(o,n);return hs(function jX(n){return n&&Ru(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(sl(),B1()):W(!0)}(r=F1(e,r),e,t).pipe(he(o=>!0===o?s:{...Jw})):W(s)}function eb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Jw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||NQ)(t,n,e);if(!i)return{...Jw};const s={};Yt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dp(n,e,t,r){if(t.length>0&&function nZ(n,e,t){return t.some(r=>hp(n,e,r)&&yr(r)!==ae)}(n,t,r)){const s=new ge(e,function tZ(n,e,t,r){const i={};i[ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&yr(s)!==ae){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[yr(s)]=o}return i}(n,e,r,new ge(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function rZ(n,e,t){return t.some(r=>hp(n,e,r))}(n,t,r)){const s=new ge(n.segments,function eZ(n,e,t,r,i){const s={};for(const o of r)if(hp(n,t,o)&&!i[yr(o)]){const a=new ge([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[yr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ge(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function hp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $1(n,e,t,r){return!!(yr(n)===r||r!==ae&&hp(e,t,n))&&("**"===n.path||eb(e,n,t).matched)}function j1(n,e,t){return 0===e.length&&!n.children[t]}const fp=!1;class pp{constructor(e){this.segmentGroup=e||null}}class H1{constructor(e){this.urlTree=e}}function Ou(n){return yu(new pp(n))}function z1(n){return yu(new H1(n))}class aZ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=dp(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ae).pipe(he(s=>this.createUrlTree(sp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ds(s=>{if(s instanceof H1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(he(i=>this.createUrlTree(sp(i),e.queryParams,e.fragment))).pipe(ds(i=>{throw i instanceof pp?this.noMatchError(i):i}))}noMatchError(e){return new I(4002,fp)}createUrlTree(e,t,r){const i=Lw(e);return new oo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(he(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ut(i).pipe(so(s=>{const o=r.children[s],a=L1(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(he(l=>({segment:l,outlet:s})))}),r1((s,o)=>(s[o.outlet]=o.segment,s),{}),s1())}expandSegment(e,t,r,i,s,o){return ut(r).pipe(so(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ds(c=>{if(c instanceof pp)return W(null);throw c}))),us(a=>!!a),ds((a,l)=>{if(Zw(a))return j1(t,i,s)?W(new ge([],{})):Ou(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return $1(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Ou(t):Ou(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?z1(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=eb(t,i,s);if(!a)return Ou(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?z1(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=F1(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(he(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):W(new ge(i,{}))):U1(t,r,i,e).pipe(Jr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ft(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=dp(t,a,l,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(he(w=>new ge(a,w)));if(0===h.length&&0===p.length)return W(new ge(a,{}));const m=yr(r)===s;return this.expandSegment(d,g,h,p,m?ae:s,!0).pipe(he(C=>new ge(a.concat(C.segments),C.children)))})):Ou(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=il(o,n);return hs(function VX(n){return n&&Ru(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(sl(),B1())}(e,t,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Kt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function sZ(n){return yu(O1(fp,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ae])return yu(new I(4e3,fp));i=i.children[ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new oo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Yt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,fp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class cZ{}class hZ{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=dp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(he(t=>{if(null===t)return null;const r=new ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xi(r,t),s=new x1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=M1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ut(Object.keys(r.children)).pipe(so(i=>{const s=r.children[i],o=L1(t,i);return this.processSegmentGroup(e,o,s,i)}),r1((i,s)=>i&&s?(i.push(...s),i):null),function kQ(n,e=!1){return it((t,r)=>{let i=0;t.subscribe(Qe(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Zf(null),s1(),he(i=>{if(null===i)return null;const s=q1(i);return function fZ(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ut(t).pipe(so(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),us(o=>!!o),ds(o=>{if(Zw(o))return j1(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!$1(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?l1(i).parameters:{},l=K1(r)+i.length;o=W({snapshot:new ap(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y1(t),yr(t),t.component??t._loadedComponent??null,t,W1(r),l,Q1(t)),consumedSegments:[],remainingSegments:[]})}else o=U1(r,t,i,e).pipe(he(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=K1(r)+l.length;return{snapshot:new ap(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y1(t),yr(t),t.component??t._loadedComponent??null,t,W1(r),d,Q1(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Jr(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function pZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=dp(r,c,u,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(he(m=>null===m?null:[new xi(l,m)]));if(0===h.length&&0===p.length)return W([new xi(l,[])]);const g=yr(t)===s;return this.processSegment(d,h,f,p,g?ae:s).pipe(he(m=>null===m?null:[new xi(l,m)]))}))}}function gZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function q1(n){const e=[],t=new Set;for(const r of n){if(!gZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=q1(r.children);e.push(new xi(r.value,i))}return e.filter(r=>!t.has(r))}function W1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function K1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Y1(n){return n.data||{}}function Q1(n){return n.resolve||{}}function X1(n){return"string"==typeof n.title||null===n.title}function tb(n){return Jr(e=>{const t=n(e);return t?ut(t).pipe(he(()=>e)):W(e)})}const ol=new R("ROUTES");let nb=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=hs(t.loadComponent()).pipe(he(J1),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Nw(()=>{this.componentLoaders.delete(t)})),i=new Rw(r,()=>new Ae).pipe(kw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=a1(l.get(ol,[],X.Self|X.Optional)));return{routes:c.map(Xw),injector:l}}),Nw(()=>{this.childrenLoaders.delete(r)})),o=new Rw(s,()=>new Ae).pipe(kw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return hs(t()).pipe(he(J1),Ft(i=>i instanceof GO||Array.isArray(i)?W(i):ut(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(E(St),E(ON))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J1(n){return function CZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.configLoader=pe(nb),this.environmentInjector=pe(Di),this.urlSerializer=pe(Du),this.rootContexts=pe(Au),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Su,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fn(r=>0!==r.id),he(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Jr(r=>{let i=!1,s=!1;return W(r).pipe(Kt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new E1(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Br}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return eF(o.source)&&(t.browserUrlTree=o.extractedUrl),W(o).pipe(Jr(u=>{const d=this.transitions?.getValue();return this.events.next(new $w(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Br:Promise.resolve(u)}),function lZ(n,e,t,r){return Jr(i=>function oZ(n,e,t,r,i){return new aZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(he(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Kt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function _Z(n,e,t,r,i){return Ft(s=>function dZ(n,e,t,r,i,s,o="emptyOnly"){return new hZ(n,e,t,r,i,o,s).recognize().pipe(Jr(a=>null===a?function uZ(n){return new Re(e=>e.error(n))}(new cZ):W(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(he(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Kt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new oX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new $w(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=A1(d,this.rootComponentType).snapshot;return W(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new E1(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Br}}),Kt(o=>{const a=new aX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),he(o=>r={...o,guards:OX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function zX(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function GX(n,e,t,r){return ut(n).pipe(Ft(i=>function XX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=Mu(e)??i,c=il(a,l);return hs(function $X(n){return n&&Ru(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(us())})).pipe(sl()):W(!0)}(i.component,i.route,t,e,r)),us(i=>!0!==i,!0))}(o,r,i,n).pipe(Ft(a=>a&&function LX(n){return"boolean"==typeof n}(a)?function qX(n,e,t,r){return ut(e).pipe(so(i=>Qf(function KX(n,e){return null!==n&&e&&e(new fX(n)),W(!0)}(i.route.parent,r),function WX(n,e){return null!==n&&e&&e(new gX(n)),W(!0)}(i.route,r),function QX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function NX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Xf(()=>W(o.guards.map(l=>{const c=Mu(o.node)??t,u=il(l,c);return hs(function UX(n){return n&&Ru(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(us())})).pipe(sl())));return W(s).pipe(sl())}(n,i.path,t),function YX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>Xf(()=>{const o=Mu(e)??t,a=il(s,o);return hs(function BX(n){return n&&Ru(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(us())}));return W(i).pipe(sl())}(n,i.route,t))),us(i=>!0!==i,!0))}(r,s,n,e):W(a)),he(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Kt(o=>{if(r.guardsResult=o.guardsResult,lo(o.guardsResult))throw R1(0,o.guardsResult);const a=new lX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Fn(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),tb(o=>{if(o.guards.canActivateChecks.length)return W(o).pipe(Kt(a=>{const l=new cX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Jr(a=>{let l=!1;return W(a).pipe(function yZ(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return ut(i).pipe(so(o=>function vZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!X1(i)&&(s[wu]=i.title),function wZ(n,e,t,r){const i=function bZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return ut(i).pipe(Ft(o=>function DZ(n,e,t,r){const i=Mu(e)??r,s=il(n,i);return hs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(us(),Kt(a=>{s[o]=a}))),Ow(1),function RQ(n){return he(()=>n)}(s),ds(o=>Zw(o)?Br:yu(o)))}(s,n,e,r).pipe(he(o=>(n._resolvedData=o,n.data=M1(n,t).resolve,i&&X1(i)&&(n.data[wu]=i.title),null)))}(o.route,r,n,e)),Kt(()=>s++),Ow(1),Ft(o=>s===i.length?W(t):Br))})}(t.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Kt(a=>{const l=new uX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),tb(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Kt(u=>{l.component=u}),he(()=>{})));for(const u of l.children)c.push(...a(u));return c};return xw(a(o.targetSnapshot.root)).pipe(Zf(),Zn(1))}),tb(()=>this.afterPreactivation()),he(o=>{const a=function DX(n,e,t){const r=Tu(n,e._root,t?t._root:void 0);return new T1(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Kt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>he(r=>(new RX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Kt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new co(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Nw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ds(o=>{if(s=!0,P1(o)){N1(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new op(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),N1(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||eF(r.source)};t.scheduleNavigation(l,Su,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new C1(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Br}))}))}cancelNavigationTransition(t,r,i){const s=new op(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eF(n){return n!==Su}let tF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[wu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return pe(IZ)},providedIn:"root"}),n})(),IZ=(()=>{class n extends tF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(E(QP))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return pe(AZ)},providedIn:"root"}),n})();class TZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AZ=(()=>{class n extends TZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _p=new R("",{providedIn:"root",factory:()=>({})});let xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:function(){return pe(kZ)},providedIn:"root"}),n})(),kZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RZ(n){throw n}function OZ(n,e,t){return e.parse("/")}const NZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(s7),this.isNgZoneEnabled=!1,this.options=pe(_p,{optional:!0})||{},this.errorHandler=this.options.errorHandler||RZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(xZ),this.routeReuseStrategy=pe(SZ),this.urlCreationStrategy=pe(vX),this.titleStrategy=pe(tF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=a1(pe(ol,{optional:!0})??[]),this.navigationTransitions=pe(mp),this.urlSerializer=pe(Du),this.location=pe(hu),this.isNgZoneEnabled=pe(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=A1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Su,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Xw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=lo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Su,null,r)}navigate(t,r={skipLocationChange:!1}){return function FZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new I(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...NZ}:!1===r?{...PZ}:r,lo(t))return u1(this.currentUrlTree,t,i);const s=this.parseUrl(t);return u1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rF{}let BZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Fn(t=>t instanceof co),so(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=If(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ut(i).pipe(ca())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Ft(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ut([s,this.loader.loadComponent(r)]).pipe(ca()):s})}}return n.\u0275fac=function(t){return new(t||n)(E(Jn),E(ON),E(Di),E(rF),E(nb))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ib=new R("");let iF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof co&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new I1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Zy()},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();function uo(n,e){return{\u0275kind:n,\u0275providers:e}}function oF(){const n=pe(St);return e=>{const t=n.get(Ya);if(e!==t.components[0])return;const r=n.get(Jn),i=n.get(aF);1===n.get(ob)&&r.initialNavigation(),n.get(lF,null,X.Optional)?.setUpPreloading(),n.get(ib,null,X.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const aF=new R("",{factory:()=>new Ae}),ob=new R("",{providedIn:"root",factory:()=>1});const lF=new R("");function zZ(n){return uo(0,[{provide:lF,useExisting:BZ},{provide:rF,useExisting:n}])}const cF=new R("ROUTER_FORROOT_GUARD"),GZ=[hu,{provide:Du,useClass:Pw},Jn,Au,{provide:rl,useFactory:function sF(n){return n.routerState.root},deps:[Jn]},nb,[]];function qZ(){return new UN("Router",Jn)}let uF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[GZ,[],{provide:ol,multi:!0,useValue:t},{provide:cF,useFactory:QZ,deps:[[Jn,new cn,new Pc]]},{provide:_p,useValue:r||{}},r?.useHash?{provide:io,useClass:q7}:{provide:io,useClass:cP},{provide:ib,useFactory:()=>{const n=pe(fY),e=pe(oe),t=pe(_p),r=pe(mp),i=pe(Du);return t.scrollOffset&&n.setOffset(t.scrollOffset),new iF(i,r,n,e,t)}},r?.preloadingStrategy?zZ(r.preloadingStrategy).\u0275providers:[],{provide:UN,multi:!0,useFactory:qZ},r?.initialNavigation?XZ(r):[],[{provide:dF,useFactory:oF},{provide:RN,multi:!0,useExisting:dF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ol,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(E(cF,8))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[Yw]}),n})();function QZ(n){return"guarded"}function XZ(n){return["disabled"===n.initialNavigation?uo(3,[{provide:Mf,multi:!0,useFactory:()=>{const e=pe(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:ob,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uo(2,[{provide:ob,useValue:0},{provide:Mf,multi:!0,deps:[St],useFactory:e=>{const t=e.get(z7,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(Jn),o=e.get(aF);(function r(i){e.get(Jn).events.pipe(Fn(o=>o instanceof co||o instanceof op||o instanceof C1),he(o=>o instanceof co||o instanceof op&&(0===o.code||1===o.code)&&null),Fn(o=>null!==o),Zn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(mp).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const dF=new R("");let hF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(Ei),_(Fe))},n.\u0275dir=x({type:n}),n})(),ho=(()=>{class n extends hF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275dir=x({type:n,features:[G]}),n})();const ni=new R("NgValueAccessor"),tJ={provide:ni,useExisting:He(()=>yp),multi:!0},rJ=new R("CompositionEventMode");let yp=(()=>{class n extends hF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nJ(){const n=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Ei),_(Fe),_(rJ,8))},n.\u0275dir=x({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&hn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ue([tJ]),G]}),n})();function fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function pF(n){return null!=n&&"number"==typeof n.length}const fn=new R("NgValidators"),ps=new R("NgAsyncValidators"),sJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ab{static min(e){return function gF(n){return e=>{if(fs(e.value)||fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function mF(n){return e=>{if(fs(e.value)||fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function _F(n){return fs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function yF(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function vF(n){return fs(n.value)||sJ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function wF(n){return e=>fs(e.value)||!pF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function bF(n){return e=>pF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function DF(n){if(!n)return vp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(fs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return AF(e)}static composeAsync(e){return MF(e)}}function vp(n){return null}function EF(n){return null!=n}function CF(n){return Xc(n)?ut(n):n}function IF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function SF(n,e){return e.map(t=>t(n))}function TF(n){return n.map(e=>function oJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function AF(n){if(!n)return null;const e=n.filter(EF);return 0==e.length?null:function(t){return IF(SF(t,e))}}function lb(n){return null!=n?AF(TF(n)):null}function MF(n){if(!n)return null;const e=n.filter(EF);return 0==e.length?null:function(t){return function JZ(...n){const e=DM(n),{args:t,keys:r}=JP(n),i=new Re(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;kn(t[u]).subscribe(Qe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?e1(r,a):a),s.complete())}))}});return e?i.pipe(Mw(e)):i}(SF(t,e).map(CF)).pipe(he(IF))}}function cb(n){return null!=n?MF(TF(n)):null}function xF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kF(n){return n._rawValidators}function RF(n){return n._rawAsyncValidators}function ub(n){return n?Array.isArray(n)?n:[n]:[]}function wp(n,e){return Array.isArray(n)?n.includes(e):n===e}function OF(n,e){const t=ub(e);return ub(n).forEach(i=>{wp(t,i)||t.push(i)}),t}function NF(n,e){return ub(e).filter(t=>!wp(n,t))}class PF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class In extends PF{get formDirective(){return null}get path(){return null}}class gs extends PF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let LF=(()=>{class n extends FF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(gs,2))},n.\u0275dir=x({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&qr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[G]}),n})(),VF=(()=>{class n extends FF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(In,10))},n.\u0275dir=x({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&qr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[G]}),n})();const Pu="VALID",Dp="INVALID",ll="PENDING",Fu="DISABLED";function pb(n){return(Ep(n)?n.validators:n)||null}function gb(n,e){return(Ep(e)?e.asyncValidators:n)||null}function Ep(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function UF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")}function $F(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,"")})}class Cp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pu}get invalid(){return this.status===Dp}get pending(){return this.status==ll}get disabled(){return this.status===Fu}get enabled(){return this.status!==Fu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NF(e,this._rawAsyncValidators))}hasValidator(e){return wp(this._rawValidators,e)}hasAsyncValidator(e){return wp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ll,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===ll)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fu:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ll,this._hasOwnPendingAsyncValidator=!0;const t=CF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Fu:this.errors?Dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ll)?ll:this._anyControlsHaveStatus(Dp)?Dp:Pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ep(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fJ(n){return Array.isArray(n)?lb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pJ(n){return Array.isArray(n)?cb(n):n||null}(this._rawAsyncValidators)}}class cl extends Cp{constructor(e,t,r){super(pb(t),gb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$F(this,0,e),Object.keys(e).forEach(r=>{UF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jF extends cl{}const ul=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Ip}),Ip="always";function Lu(n,e,t=Ip){mb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function mJ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HF(n,e)})}(n,e),function yJ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _J(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gJ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ap(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mb(n,e){const t=kF(n);null!==e.validator?n.setValidators(xF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=RF(n);null!==e.asyncValidator?n.setAsyncValidators(xF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ap(e._rawValidators,i),Ap(e._rawAsyncValidators,i)}function Mp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=kF(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=RF(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Ap(e._rawValidators,r),Ap(e._rawAsyncValidators,r),t}function HF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function WF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ms=class extends Cp{constructor(e=null,t,r){super(pb(t),gb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ep(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=WF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=x({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const TJ={provide:ni,useExisting:He(()=>bb),multi:!0};let bb=(()=>{class n extends ho{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Se(n)))(r||n)}}(),n.\u0275dir=x({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&hn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[ue([TJ]),G]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const Db=new R("NgModelWithFormControlWarning"),RJ={provide:In,useExisting:He(()=>xp)};let xp=(()=>{class n extends In{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Tp(t.control||null,t,!1),function DJ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function GF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Tp(r||null,t),(n=>n instanceof ms)(i)&&(Lu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function zF(n,e){mb(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function vJ(n,e){return Mp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mb(this.form,this),this._oldForm&&Mp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(_(fn,10),_(ps,10),_(ul,8))},n.\u0275dir=x({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&hn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ue([RJ]),G,wn]}),n})();const PJ={provide:gs,useExisting:He(()=>Ib)};let Ib=(()=>{class n extends gs{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vb(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yp?t=s:function bJ(n){return Object.getPrototypeOf(n.constructor)===ho}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function yb(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Sp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(In,13),_(fn,10),_(ps,10),_(ni,10),_(Db,8))},n.\u0275dir=x({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ue([PJ]),G,wn]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[JF]}),n})();class mL extends Cp{constructor(e,t,r){super(pb(t),gb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$F(this,0,e),e.forEach((r,i)=>{UF(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _L(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let QJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return _L(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new cl(i,s)}record(t,r=null){const i=this._reduceControls(t);return new jF(i,r)}control(t,r,i){let s={};return this.useNonNullable?(_L(r)?s=r:(s.validators=r,s.asyncValidators=i),new ms(t,{...s,nonNullable:!0})):new ms(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new mL(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ms||t instanceof Cp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ul,useValue:t.callSetDisabledState??Ip}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[gL]}),n})(),ZJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Db,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ul,useValue:t.callSetDisabledState??Ip}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[gL]}),n})();function yL(n,e=0){return function JJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function kp(n){return Array.isArray(n)?n:[n]}function Dt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function dl(n){return n instanceof Fe?n.nativeElement:n}const eee=["addListener","removeListener"],tee=["addEventListener","removeEventListener"],nee=["on","off"];function Rp(n,e,t,r){if(we(t)&&(r=t,t=void 0),r)return Rp(n,e,t).pipe(Mw(r));const[i,s]=function see(n){return we(n.addEventListener)&&we(n.removeEventListener)}(n)?tee.map(o=>a=>n[o](e,a,t)):function ree(n){return we(n.addListener)&&we(n.removeListener)}(n)?eee.map(vL(n,e)):function iee(n){return we(n.on)&&we(n.off)}(n)?nee.map(vL(n,e)):[];if(!i&&M_(n))return Ft(o=>Rp(o,e,t))(kn(n));if(!i)throw new TypeError("Invalid event target");return new Re(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function vL(n,e){return t=>r=>n[t](e,r)}class oee extends zt{constructor(e,t){super()}schedule(e,t=0){return this}}const Op={setInterval(n,e,...t){const{delegate:r}=Op;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Op;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Np extends oee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Op.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Op.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,la(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Uu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Uu;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new zt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Uu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Uu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},wL={now:()=>(wL.delegate||Date).now(),delegate:void 0};class $u{constructor(e,t=$u.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}$u.now=wL.now;class Pp extends $u{constructor(e,t=$u.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const cee=new class lee extends Pp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class aee extends Np{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Uu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Uu.cancelAnimationFrame(t),e._scheduled=void 0)}});let Mb,uee=1;const Fp={};function bL(n){return n in Fp&&(delete Fp[n],!0)}const dee={setImmediate(n){const e=uee++;return Fp[e]=!0,Mb||(Mb=Promise.resolve()),Mb.then(()=>bL(e)&&n()),e},clearImmediate(n){bL(n)}},{setImmediate:hee,clearImmediate:fee}=dee,Lp={setImmediate(...n){const{delegate:e}=Lp;return(e?.setImmediate||hee)(...n)},clearImmediate(n){const{delegate:e}=Lp;return(e?.clearImmediate||fee)(n)},delegate:void 0},mee=new class gee extends Pp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pee extends Np{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Lp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Lp.clearImmediate(t),e._scheduled=void 0)}}),Vp=new Pp(Np),_ee=Vp;function xb(n,e=Vp){return function yee(n){return it((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Qe(t,c=>{r=!0,i=c,s||kn(n(c)).subscribe(s=Qe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function wee(n=0,e,t=_ee){let r=-1;return null!=e&&(bM(e)?t=e:r=e),new Re(i=>{let s=function vee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}function ri(n){return it((e,t)=>{kn(n).subscribe(Qe(t,()=>t.complete(),D_)),!t.closed&&e.subscribe(t)})}let kb;try{kb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kb=!1}let ju,Up,po,Rb,vr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hY(n){return n===TP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(cu))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bp(n){return function bee(){if(null==ju&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ju=!0}))}finally{ju=ju||!1}return ju}()?n:!!n.capture}function EL(){if(null==po){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return po=!1,po;if("scrollBehavior"in document.documentElement.style)po=!0;else{const n=Element.prototype.scrollTo;po=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return po}function Hu(){if("object"!=typeof document||!document)return 0;if(null==Up){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Up=0,0===n.scrollLeft&&(n.scrollLeft=1,Up=0===n.scrollLeft?1:2),n.remove()}return Up}function Ob(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function _s(n){return n.composedPath?n.composedPath()[0]:n.target}function Nb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Cee=new R("cdk-dir-doc",{providedIn:"root",factory:function Iee(){return pe(ye)}}),See=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let go=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ge,t&&(this.value=function Tee(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?See.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(Cee,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const Aee=["contentWrapper"],Mee=["*"],xee=new R("VIRTUAL_SCROLL_STRATEGY");let $p=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ae,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Re(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xb(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Fn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=dl(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(E(oe),E(vr),E(ye,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CL=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Ae,this._elementScrolled=new Re(o=>this.ngZone.runOutsideAngular(()=>Rp(this.elementRef.nativeElement,"scroll").pipe(ri(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Hu()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Hu()?t.left=t.right:1==Hu()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;EL()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==Hu()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Hu()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_($p),_(oe),_(go,8))},n.\u0275dir=x({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),jp=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ae,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xb(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(vr),E(oe),E(ye,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IL=new R("VIRTUAL_SCROLLABLE");let Oee=(()=>{class n extends CL{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_($p),_(oe),_(go,8))},n.\u0275dir=x({type:n,features:[G]}),n})();const Pee=typeof requestAnimationFrame<"u"?cee:mee;let Fee=(()=>{class n extends Oee{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function Bu(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,s,o,a,l,c){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=c,this._platform=pe(vr),this._detachedSubject=new Ae,this._renderedRangeSubject=new Ae,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Re(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=zt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(vu(null),xb(0,Pee)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ri(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Nee(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_(Qa),_(oe),_(xee,8),_(go,8),_($p),_(jp),_(IL,8))},n.\u0275cmp=Je({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Yr(Aee,7),2&t){let i;At(i=Mt())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&qr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ue([{provide:CL,useFactory:(e,t)=>e||t,deps:[[new cn,new Kh(IL)],n]}]),G,Mv],ngContentSelectors:Mee,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(Js(),xe(0,"div",0,1),Qn(2),ke(),ss(3,"div",2)),2&t&&(fr(3),to("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[zu,SL,Fee,zu,SL]}),n})();class Fb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Lb extends Fb{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class TL extends Fb{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Lee extends Fb{constructor(e){super(),this.element=e instanceof Fe?e.nativeElement:e}}class Vb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Lb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof TL?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Lee?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vee extends Vb{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||St.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Bb=(()=>{class n extends Vb{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ge,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(_(Qs),_(Wt),_(ye))},n.\u0275dir=x({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[G]}),n})(),Hp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({}),n})();const AL=EL();class Bee{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Dt(-this._previousScrollPosition.left),e.style.top=Dt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),AL&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AL&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Uee{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ML{enable(){}disable(){}attach(){}}function Ub(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function xL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class $ee{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ub(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jee=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new ML,this.close=o=>new Uee(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Bee(this._viewportRuler,this._document),this.reposition=o=>new $ee(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(E($p),E(jp),E(oe),E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kL{constructor(e){if(this.scrollStrategy=new ML,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Hee{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let RL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zee=(()=>{class n extends RL{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(oe,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gee=(()=>{class n extends RL{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_s(s)},this._clickListener=s=>{const o=_s(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(vr),E(oe,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zp=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nb()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),Nb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(vr))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gu{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ae,this._attachments=new Ae,this._detachments=new Ae,this._locationChanges=zt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ae,this._outsidePointerEvents=new Ae,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Dt(this._config.width),e.height=Dt(this._config.height),e.minWidth=Dt(this._config.minWidth),e.minHeight=Dt(this._config.minHeight),e.maxWidth=Dt(this._config.maxWidth),e.maxHeight=Dt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=kp(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ri(k_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const OL="cdk-overlay-connected-position-bounding-box",qee=/([A-Za-z%]+)$/;class Wee{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ae,this._resizeSubscription=zt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(OL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=PL(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=NL(this._overlayRef.getConfig().minHeight),a=NL(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=PL(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Hee(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Dt(r.height),i.top=Dt(r.top),i.bottom=Dt(r.bottom),i.width=Dt(r.width),i.left=Dt(r.left),i.right=Dt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Dt(s)),o&&(i.maxWidth=Dt(o))}this._lastBoundingBoxSize=r,mo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){mo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();mo(r,this._getExactOverlayY(t,e,u)),mo(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Dt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Dt(o.maxWidth):s&&(r.maxWidth="")),mo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Dt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Dt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xL(e,r),isOriginOutsideView:Ub(e,r),isOverlayClipped:xL(t,r),isOverlayOutsideView:Ub(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&kp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Fe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function mo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function NL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qee);return t&&"px"!==t?null:parseFloat(e)}return n||null}function PL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FL="cdk-global-overlay-wrapper";class Kee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(FL),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Yee=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Kee}flexibleConnectedTo(t){return new Wee(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(E(jp),E(ye),E(vr),E(zp))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qee=0,fl=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new kL(t);return o.direction=o.direction||this._directionality.value,new Gu(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Qee++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ya)),new Vee(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(jee),E(zp),E(Qs),E(Yee),E(zee),E(St),E(oe),E(ye),E(go),E(hu),E(Gee),E(uu,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jee={provide:new R("cdk-connected-overlay-scroll-strategy"),deps:[fl],useFactory:function Zee(n){return()=>n.scrollStrategies.reposition()}};let LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[fl,Jee],imports:[zu,Hp,Pb,Pb]}),n})();function BL(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function UL(n){return Fn((e,t)=>n<=t)}function ote(n,e){return n===e}let ate=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[ate]}),n})();const $L=new Set;let pl,ute=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):hte}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function dte(n){if(!$L.has(n))try{pl||(pl=document.createElement("style"),pl.setAttribute("type","text/css"),document.head.appendChild(pl)),pl.sheet&&(pl.sheet.insertRule(`@media ${n} {body{ }}`,0),$L.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(vr))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hte(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let fte=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ae}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jL(kp(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=xw(jL(kp(t)).map(o=>this._registerQuery(o).observable));return s=Qf(s.pipe(Zn(1)),s.pipe(UL(1),function cte(n,e=Vp){return it((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Qe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(he(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Re(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(vu(r),he(({matches:o})=>({query:t,matches:o})),ri(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(E(ute),E(oe))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Gp=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _te(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function mte(n){try{return n.frameElement}catch{return null}}(function Ite(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===qL(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=qL(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Ete(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Cte(n){return!function vte(n){return function bte(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function yte(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function wte(n){return function Dte(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||GL(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(E(vr))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function qL(n){if(!GL(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ste{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Zn(1)).subscribe(e)}}let $b=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ste(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(E(Gp),E(oe),E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function KL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Tte=new R("cdk-input-modality-detector-options"),Ate={ignoreKeys:[18,17,224,91,16]},gl=Bp({passive:!0,capture:!0});let Mte=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Xn(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_s(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(WL(o)?"keyboard":"mouse"),this._mostRecentTarget=_s(o))},this._onTouchstart=o=>{KL(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_s(o))},this._options={...Ate,...s},this.modalityDetected=this._modality.pipe(UL(1)),this.modalityChanged=this.modalityDetected.pipe(function ste(n,e=Zi){return n=n??ote,it((t,r)=>{let i,s=!0;t.subscribe(Qe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,gl),i.addEventListener("mousedown",this._onMousedown,gl),i.addEventListener("touchstart",this._onTouchstart,gl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gl),document.removeEventListener("mousedown",this._onMousedown,gl),document.removeEventListener("touchstart",this._onTouchstart,gl))}}return n.\u0275fac=function(t){return new(t||n)(E(vr),E(oe),E(ye),E(Tte,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kte=new R("cdk-focus-monitor-default-options"),qp=Bp({passive:!0,capture:!0});let jb=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ae,this._rootNodeFocusAndBlurListener=a=>{for(let c=_s(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=dl(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const s=function Eee(n){if(function Dee(){if(null==Rb){const n=typeof document<"u"?document.head:null;Rb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Rb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ae,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=dl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=dl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=_s(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,qp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,qp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ri(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(E(oe),E(vr),E(Mte),E(ye,8),E(kte,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QL="cdk-high-contrast-black-on-white",XL="cdk-high-contrast-white-on-black",Hb="cdk-high-contrast-active";let ZL=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=pe(fte).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Hb,QL,XL),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Hb,QL):2===r&&t.add(Hb,XL)}}}return n.\u0275fac=function(t){return new(t||n)(E(vr),E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rte=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(E(ZL))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[lte]}),n})();function Ote(n,e){}class Wp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let JL=(()=>{class n extends Vb{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Ob(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ob();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ob())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_($b),_(ye,8),_(Wp),_(Gp),_(oe),_(Gu),_(jb))},n.\u0275cmp=Je({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&Yr(Bb,7),2&t){let i;At(i=Mt())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&gr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[G],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&is(0,Ote,0,0,"ng-template",0)},dependencies:[Bb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class zb{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ae,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!BL(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const eV=new R("DialogScrollStrategy"),Nte=new R("DialogData"),Pte=new R("DefaultDialogConfig"),Lte={provide:eV,deps:[fl],useFactory:function Fte(n){return()=>n.scrollStrategies.block()}};let Vte=0,tV=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._ariaHiddenElements=new Map,this.afterAllClosed=Xf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vu(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new Wp,...r}).id=r.id||"cdk-dialog-"+Vte++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new zb(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Gb(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){Gb(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Gb(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new kL({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:Wp,useValue:i},{provide:zb,useValue:r},{provide:Gu,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=JL;const l=new Lb(a,i.viewContainerRef,St.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof Lt){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new TL(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new Lb(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:Nte,useValue:t.data},{provide:zb,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(go,null,{optional:!0}))&&a.push({provide:go,useValue:{value:t.direction,change:W()}}),St.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(E(fl),E(St),E(Pte,8),E(n,12),E(zp),E(eV))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();function Gb(n,e){let t=n.length;for(;t--;)e(n[t])}let Bte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[tV,Lte],imports:[LL,Hp,Rte,Hp]}),n})();const $te=new R("mat-sanity-checks",{providedIn:"root",factory:function Ute(){return!0}});let ml=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Nb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(ZL),E($te,8),E(ye))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[zu,zu]}),n})();class Hte{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iV=Bp({passive:!0,capture:!0});class zte{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=_s(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,iV)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iV)))}}const sV={enterDuration:225,exitDuration:150},oV=Bp({passive:!0,capture:!0}),aV=["mousedown","touchstart"],lV=["mouseup","mouseleave","touchend","touchcancel"];class Kp{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=dl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...sV,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function qte(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,g=new Hte(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,r.persistent||(this._mostRecentTransientRipple=g);let m=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(g),C=()=>this._destroyRipple(g);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",C),m={onTransitionEnd:v,onTransitionCancel:C}}),this._activeRipples.set(g,m),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...sV,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=dl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,aV.forEach(r=>{Kp._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lV.forEach(t=>{this._triggerElement.addEventListener(t,this,oV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=WL(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!KL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(aV.forEach(t=>Kp._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&lV.forEach(t=>e.removeEventListener(t,this,oV)))}}Kp._eventManager=new zte;class cV{}class Wte{}const ki="*";function hV(n,e=null){return{type:2,steps:n,options:e}}function _l(n){return{type:6,styles:n,offset:null}}function _V(n){Promise.resolve().then(n)}class Wu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_V(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?_V(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Yte(n,e){}class Yp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Wb="mdc-dialog--open",vV="mdc-dialog--opening",wV="mdc-dialog--closing";let Zte=(()=>{class n extends JL{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new Ge}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_($b),_(ye,8),_(Yp),_(Gp),_(oe),_(Gu),_(jb))},n.\u0275cmp=Je({type:n,selectors:[["ng-component"]],features:[G],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const bV="--mat-dialog-transition-duration";function DV(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?yL(n.substring(0,n.length-2)):n.endsWith("s")?1e3*yL(n.substring(0,n.length-1)):"0"===n?0:null}let Jte=(()=>{class n extends Zte{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?DV(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?DV(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(bV,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(vV),this._hostElement.classList.add(Wb),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Wb),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Wb),this._animationsEnabled?(this._hostElement.style.setProperty(bV,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(wV),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(vV),this._hostElement.classList.remove(wV)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}}return n.\u0275fac=function(t){return new(t||n)(_(Fe),_($b),_(ye,8),_(Yp),_(Gp),_(oe),_(Gu),_(uu,8),_(jb))},n.\u0275cmp=Je({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(bv("id",r._config.id),gr("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),qr("_mat-animation-noopable",!r._animationsEnabled))},features:[G],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(xe(0,"div",0)(1,"div",1),is(2,Yte,0,0,"ng-template",2),ke()())},dependencies:[Bb],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class EV{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ae,this._beforeClosed=new Ae,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Fn(i=>"opened"===i.state),Zn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Fn(i=>"closed"===i.state),Zn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),k_(this.backdropClick(),this.keydownEvents().pipe(Fn(i=>27===i.keyCode&&!this.disableClose&&!BL(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function ene(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Fn(t=>"closing"===t.state),Zn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const CV=new R("MatMdcDialogData"),tne=new R("mat-mdc-dialog-default-options"),IV=new R("mat-mdc-dialog-scroll-strategy"),rne={provide:IV,deps:[fl],useFactory:function nne(n){return()=>n.scrollStrategies.block()}};let ine=0,sne=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ae,this._afterOpenedAtThisLevel=new Ae,this._idPrefix="mat-dialog-",this.dialogConfigClass=Yp,this.afterAllClosed=Xf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vu(void 0))),this._scrollStrategy=a,this._dialog=r.get(tV)}open(t,r){let i;(r={...this._defaultOptions||new Yp,...r}).id=r.id||`${this._idPrefix}${ine++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Wp,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Zy()},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),SV=(()=>{class n extends sne{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,EV,Jte,CV,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(E(fl),E(St),E(hu,8),E(tne,8),E(IV),E(n,12),E(zp),E(uu,8))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),one=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[SV,rne],imports:[Bte,LL,Hp,ml,ml]}),n})();function AV(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){AV(s,r,i,o,a,"next",l)}function a(l){AV(s,r,i,o,a,"throw",l)}o(void 0)})}}const MV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Qp=function(n){return function(n){const e=MV(n);return Yb.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Xp=function(n){try{return Yb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Zp=()=>{try{return function hne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class Jp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function er(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function _o(){try{return"object"==typeof indexedDB}catch{return!1}}function Ku(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Xb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Ine(n,e){return n.replace(Sne,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Sne=/\{\$([^}]+)}/g;function Zb(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(RV(s)&&RV(o)){if(!Zb(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function RV(n){return null!==n&&"object"==typeof n}function OV(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Ane{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Mne(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Jb),void 0===i.error&&(i.error=Jb),void 0===i.complete&&(i.complete=Jb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jb(){}function tD(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function wr(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yo="[DEFAULT]";class Pne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Jp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Lne(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===yo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const nD=[];var Ee=(()=>{return(n=Ee||(Ee={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ee;var n})();const NV={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Bne=Ee.INFO,Une={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},$ne=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Une[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class yl{constructor(e){this.name=e,this._logLevel=Bne,this._logHandler=$ne,this._userLogHandler=null,nD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?NV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}let PV,FV;const LV=new WeakMap,rD=new WeakMap,VV=new WeakMap,iD=new WeakMap,sD=new WeakMap;let oD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return rD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||VV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Yne(n){return"function"==typeof n?function Kne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zne(){return FV||(FV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(aD(this),e),Ri(LV.get(this))}:function(...e){return Ri(n.apply(aD(this),e))}:function(e,...t){const r=n.call(aD(this),e,...t);return VV.set(r,e.sort?e.sort():[e]),Ri(r)}}(n):(n instanceof IDBTransaction&&function qne(n){if(rD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});rD.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Hne(){return PV||(PV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oD):n)}function Ri(n){if(n instanceof IDBRequest)return function Gne(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ri(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&LV.set(t,n)}).catch(()=>{}),sD.set(e,n),e}(n);if(iD.has(n))return iD.get(n);const e=Yne(n);return e!==n&&(iD.set(n,e),sD.set(e,n)),e}const aD=n=>sD.get(n);function tg(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ri(o.result),l.oldVersion,l.newVersion,Ri(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function lD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ri(t).then(()=>{})}const Qne=["get","getKey","getAll","getAllKeys","count"],Xne=["put","add","delete","clear"],cD=new Map;function BV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(cD.get(e))return cD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xne.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qne.includes(t))return;const s=function(){var o=y(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return cD.set(e,s),s}!function Wne(n){oD=n(oD)}(n=>({...n,get:(e,t,r)=>BV(e,t)||n.get(e,t,r),has:(e,t)=>!!BV(e,t)||n.has(e,t)}));class Zne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Jne(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const uD="@firebase/app",vo=new yl("@firebase/app"),ng="[DEFAULT]",Ire={[uD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wo=new Map,rg=new Map;function Sre(n,e){try{n.container.addComponent(e)}catch(t){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sn(n){const e=n.name;if(rg.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,n);for(const t of wo.values())Sre(t,n);return!0}function ig(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Oi=new ii("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Are{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const sg="9.16.0";function $V(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ng,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=Zp())||void 0===n?void 0:n.config})()),!t)throw Oi.create("no-options");const s=wo.get(i);if(s){if(Zb(t,s.options)&&Zb(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const o=new Vne(i);for(const l of rg.values())o.addComponent(l);const a=new Are(t,r,o);return wo.set(i,a),a}function jV(n=ng){const e=wo.get(n);if(!e&&n===ng)return $V();if(!e)throw Oi.create("no-app",{appName:n});return e}function HV(){return Array.from(wo.values())}function pt(n,e,t){var r;let i=null!==(r=Ire[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vo.warn(a.join(" "))}Sn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Yu="firebase-heartbeat-store";let hD=null;function zV(){return hD||(hD=tg("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Yu)}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),hD}function fD(){return(fD=y(function*(n){try{return(yield zV()).transaction(Yu).objectStore(Yu).get(qV(n))}catch(e){if(e instanceof Fr)vo.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e?.message});vo.warn(t.message)}}})).apply(this,arguments)}function GV(n,e){return pD.apply(this,arguments)}function pD(){return(pD=y(function*(n,e){try{const r=(yield zV()).transaction(Yu,"readwrite");return yield r.objectStore(Yu).put(e,qV(n)),r.done}catch(t){if(t instanceof Fr)vo.warn(t.message);else{const r=Oi.create("idb-set",{originalErrorMessage:t?.message});vo.warn(r.message)}}})).apply(this,arguments)}function qV(n){return`${n.name}!${n.options.appId}`}class Nre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fre(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=WV(),{heartbeatsToSend:r,unsentEntries:i}=function Pre(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KV(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),KV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WV(){return(new Date).toISOString().substring(0,10)}class Fre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!_o()&&Ku().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kre(n){return fD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return GV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return GV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KV(n){return Qp(JSON.stringify({version:2,heartbeats:n})).length}!function Lre(n){Sn(new pn("platform-logger",e=>new Zne(e),"PRIVATE")),Sn(new pn("heartbeat",e=>new Nre(e),"PRIVATE")),pt(uD,"0.9.1",n),pt(uD,"0.9.1","esm2017"),pt("fire-js","")}(""),pt("firebase","9.16.0","app");const YV="@firebase/installations",gD="0.6.1",XV=`w:${gD}`,ZV="FIS_v2",Ni=new ii("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function JV(n){return n instanceof Fr&&n.code.includes("request-failed")}function mD({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function eB(n){return{token:n.token,requestStatus:2,expiresIn:Gre(n.expiresIn),creationTime:Date.now()}}function _D(n,e){return yD.apply(this,arguments)}function yD(){return(yD=y(function*(n,e){const r=(yield e.json()).error;return Ni.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function tB({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function nB(n,{refreshToken:e}){const t=tB(n);return t.append("Authorization",function qre(n){return`${ZV} ${n}`}(e)),t}function vD(n){return wD.apply(this,arguments)}function wD(){return(wD=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Gre(n){return Number(n.replace("s","000"))}function Wre(n,e){return bD.apply(this,arguments)}function bD(){return(bD=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=mD(n),i=tB(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:ZV,appId:n.appId,sdkVersion:XV})},l=yield vD(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:eB(c.authToken)}}throw yield _D("Create Installation",l)})).apply(this,arguments)}function rB(n){return new Promise(e=>{setTimeout(e,n)})}const Yre=/^[cdef][\w-]{21}$/;function Qre(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Xre(n){return function Kre(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Yre.test(t)?t:""}catch{return""}}function vl(n){return`${n.appName}!${n.appId}`}const wl=new Map;function iB(n,e){const t=vl(n);sB(t,e),function eie(n,e){const t=function oB(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=n=>{sB(n.data.key,n.data.fid)}),bo}();t&&t.postMessage({key:n,fid:e}),function aB(){0===wl.size&&bo&&(bo.close(),bo=null)}()}(t,e)}function sB(n,e){const t=wl.get(n);if(t)for(const r of t)r(e)}let bo=null;const Do="firebase-installations-store";let ED=null;function CD(){return ED||(ED=tg("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Do)}})),ED}function og(n,e){return ID.apply(this,arguments)}function ID(){return(ID=y(function*(n,e){const t=vl(n),i=(yield CD()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&iB(n,e.fid),e})).apply(this,arguments)}function SD(n){return TD.apply(this,arguments)}function TD(){return(TD=y(function*(n){const e=vl(n),r=(yield CD()).transaction(Do,"readwrite");yield r.objectStore(Do).delete(e),yield r.done})).apply(this,arguments)}function Qu(n,e){return AD.apply(this,arguments)}function AD(){return(AD=y(function*(n,e){const t=vl(n),i=(yield CD()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&iB(n,a.fid),a})).apply(this,arguments)}function MD(n){return xD.apply(this,arguments)}function xD(){return(xD=y(function*(n){let e;const t=yield Qu(n.appConfig,r=>{const i=rie(r),s=iie(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function rie(n){return cB(n||{fid:Qre(),registrationStatus:0})}function iie(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ni.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function sie(n,e){return kD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:oie(n)}:{installationEntry:e}}function kD(){return(kD=y(function*(n,e){try{const t=yield Wre(n,e);return og(n.appConfig,t)}catch(t){throw JV(t)&&409===t.customData.serverCode?yield SD(n.appConfig):yield og(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function oie(n){return RD.apply(this,arguments)}function RD(){return(RD=y(function*(n){let e=yield lB(n.appConfig);for(;1===e.registrationStatus;)yield rB(100),e=yield lB(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield MD(n);return r||t}return e})).apply(this,arguments)}function lB(n){return Qu(n,e=>{if(!e)throw Ni.create("installation-not-found");return cB(e)})}function cB(n){return function aie(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function lie(n,e){return OD.apply(this,arguments)}function OD(){return(OD=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=cie(n,t),i=nB(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:XV,appId:n.appId}})},l=yield vD(()=>fetch(r,a));if(l.ok)return eB(yield l.json());throw yield _D("Generate Auth Token",l)})).apply(this,arguments)}function cie(n,{fid:e}){return`${mD(n)}/${e}/authTokens:generate`}function ND(n){return PD.apply(this,arguments)}function PD(){return(PD=y(function*(n,e=!1){let t;const r=yield Qu(n.appConfig,s=>{if(!dB(s))throw Ni.create("not-registered");const o=s.authToken;if(!e&&hie(o))return s;if(1===o.requestStatus)return t=uie(n,e),s;{if(!navigator.onLine)throw Ni.create("app-offline");const a=pie(s);return t=die(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function uie(n,e){return FD.apply(this,arguments)}function FD(){return(FD=y(function*(n,e){let t=yield uB(n.appConfig);for(;1===t.authToken.requestStatus;)yield rB(100),t=yield uB(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ND(n,e):r})).apply(this,arguments)}function uB(n){return Qu(n,e=>{if(!dB(e))throw Ni.create("not-registered");return function gie(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function die(n,e){return LD.apply(this,arguments)}function LD(){return(LD=y(function*(n,e){try{const t=yield lie(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield og(n.appConfig,r),t}catch(t){if(!JV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield og(n.appConfig,r)}else yield SD(n.appConfig);throw t}})).apply(this,arguments)}function dB(n){return void 0!==n&&2===n.registrationStatus}function hie(n){return 2===n.requestStatus&&!function fie(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function pie(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function VD(){return(VD=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield MD(e);return r?r.catch(console.error):ND(e).catch(console.error),t.fid})).apply(this,arguments)}function BD(){return(BD=y(function*(n,e=!1){const t=n;return yield yie(t),(yield ND(t,e)).token})).apply(this,arguments)}function yie(n){return UD.apply(this,arguments)}function UD(){return(UD=y(function*(n){const{registrationPromise:e}=yield MD(n);e&&(yield e)})).apply(this,arguments)}function HD(n){return Ni.create("missing-app-config-values",{valueName:n})}const hB="installations",Eie=n=>{const e=n.getProvider("app").getImmediate(),t=function bie(n){if(!n||!n.options)throw HD("App Configuration");if(!n.name)throw HD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw HD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ig(e,"heartbeat"),_delete:()=>Promise.resolve()}},Cie=n=>{const t=ig(n.getProvider("app").getImmediate(),hB).getImmediate();return{getId:()=>function mie(n){return VD.apply(this,arguments)}(t),getToken:i=>function _ie(n){return BD.apply(this,arguments)}(t,i)}};(function Iie(){Sn(new pn(hB,Eie,"PUBLIC")),Sn(new pn("installations-internal",Cie,"PRIVATE"))})(),pt(YV,gD),pt(YV,gD,"esm2017");const zD="@firebase/remote-config",Ln=new ii("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fie{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Lie(n=navigator){return n.languages&&n.languages[0]||n.language}class Vie{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Lie()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,C)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",C(w)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let C="fetch-client-network";throw"AbortError"===v?.name&&(C="fetch-timeout"),Ln.create(C,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(C){throw Ln.create("fetch-client-parse",{originalErrorMessage:C?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Ln.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class $ie{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function Bie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Uie(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+tD(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class zie{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lg(n,e){const t=n.target.error||void 0;return Ln.create(e,{originalErrorMessage:t&&t?.message})}const Eo="app_namespace_store";class Kie{constructor(e,t,r,i=function Wie(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(lg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(t){e(Ln.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Eo],"readonly").objectStore(Eo),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(lg(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Ln.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Eo],"readwrite").objectStore(Eo),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(lg(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Ln.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Eo],"readwrite").objectStore(Eo),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(lg(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Ln.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Yie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Xie(){return YD.apply(this,arguments)}function YD(){return(YD=y(function*(){if(!_o())return!1;try{return yield Ku()}catch{return!1}})).apply(this,arguments)}!function Qie(){Sn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!_o())throw Ln.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Ln.create("registration-project-id");if(!o)throw Ln.create("registration-api-key");if(!a)throw Ln.create("registration-app-id");const l=new Kie(a,r.name,t=t||"firebase"),c=new Yie(l),u=new yl(zD);u.logLevel=Ee.ERROR;const d=new Vie(i,sg,t,s,o,a),h=new $ie(d,l),f=new Fie(h,l,c,u),p=new zie(r,f,c,l,u);return function Oie(n){const e=wr(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),pt(zD,"0.4.1"),pt(zD,"0.4.1","esm2017")}();const Zie="/firebase-messaging-sw.js",Jie="/firebase-cloud-messaging-push-scope",mB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_B="google.c.a.c_id",tse="google.c.a.c_l",nse="google.c.a.ts",rse="google.c.a.e";var bl=(()=>{return(n=bl||(bl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",bl;var n})();function Pi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ise(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const QD="fcm_token_details_db",yB="fcm_token_object_Store";function ose(n){return XD.apply(this,arguments)}function XD(){return XD=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(QD))return null;let e=null;return(yield tg(QD,5,{upgrade:(r=y(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(yB))return;const c=a.objectStore(yB),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Pi(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pi(d.auth),p256dh:Pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pi(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pi(d.auth),p256dh:Pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pi(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield lD(QD),yield lD("fcm_vapid_details_db"),yield lD("undefined"),ase(e)?e:null;var r}),XD.apply(this,arguments)}function ase(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Co="firebase-messaging-store";let ZD=null;function JD(){return ZD||(ZD=tg("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Co)}})),ZD}function vB(n){return eE.apply(this,arguments)}function eE(){return(eE=y(function*(n){const e=iE(n),r=yield(yield JD()).transaction(Co).objectStore(Co).get(e);if(r)return r;{const i=yield ose(n.appConfig.senderId);if(i)return yield tE(n,i),i}})).apply(this,arguments)}function tE(n,e){return nE.apply(this,arguments)}function nE(){return(nE=y(function*(n,e){const t=iE(n),i=(yield JD()).transaction(Co,"readwrite");return yield i.objectStore(Co).put(e,t),yield i.done,e})).apply(this,arguments)}function use(n){return rE.apply(this,arguments)}function rE(){return(rE=y(function*(n){const e=iE(n),r=(yield JD()).transaction(Co,"readwrite");yield r.objectStore(Co).delete(e),yield r.done})).apply(this,arguments)}function iE({appConfig:n}){return n.appId}const Qt=new ii("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hse(n,e){return sE.apply(this,arguments)}function sE(){return(sE=y(function*(n,e){const t=yield cE(n),r=bB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(lE(n.appConfig),i)).json()}catch(o){throw Qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function fse(n,e){return oE.apply(this,arguments)}function oE(){return(oE=y(function*(n,e){const t=yield cE(n),r=bB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${lE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function wB(n,e){return aE.apply(this,arguments)}function aE(){return(aE=y(function*(n,e){const r={method:"DELETE",headers:yield cE(n)};try{const s=yield(yield fetch(`${lE(n.appConfig)}/${e}`,r)).json();if(s.error)throw Qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function lE({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function cE(n){return uE.apply(this,arguments)}function uE(){return(uE=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==mB&&(i.web.applicationPubKey=r),i}function gse(n){return dE.apply(this,arguments)}function dE(){return(dE=y(function*(n){const e=yield _se(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Pi(e.getKey("auth")),p256dh:Pi(e.getKey("p256dh"))},r=yield vB(n.firebaseDependencies);if(r){if(yse(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?mse(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield wB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return EB(n.firebaseDependencies,t)}return EB(n.firebaseDependencies,t)})).apply(this,arguments)}function DB(n){return hE.apply(this,arguments)}function hE(){return(hE=y(function*(n){const e=yield vB(n.firebaseDependencies);e&&(yield wB(n.firebaseDependencies,e.token),yield use(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function mse(n,e){return fE.apply(this,arguments)}function fE(){return(fE=y(function*(n,e){try{const t=yield fse(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield tE(n.firebaseDependencies,r),t}catch(t){throw yield DB(n),t}})).apply(this,arguments)}function EB(n,e){return pE.apply(this,arguments)}function pE(){return(pE=y(function*(n,e){const r={token:yield hse(n,e),createTime:Date.now(),subscriptionOptions:e};return yield tE(n,r),r.token})).apply(this,arguments)}function _se(n,e){return gE.apply(this,arguments)}function gE(){return(gE=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ise(e)})})).apply(this,arguments)}function yse(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function CB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function vse(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function wse(n,e){e.data&&(n.data=e.data)}(e,n),function bse(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Dse(n){return"object"==typeof n&&!!n&&_B in n}function IB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function mE(n){return Qt.create("missing-app-config-values",{valueName:n})}IB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),IB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Cse{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Ese(n){if(!n||!n.options)throw mE("App Configuration Object");if(!n.name)throw mE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw mE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function SB(n){return _E.apply(this,arguments)}function _E(){return(_E=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Zie,{scope:Jie}),n.swRegistration.update().catch(()=>{})}catch(e){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Ise(n,e){return yE.apply(this,arguments)}function yE(){return(yE=y(function*(n,e){if(!e&&!n.swRegistration&&(yield SB(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Sse(n,e){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=mB)})).apply(this,arguments)}function wE(){return(wE=y(function*(n,e){if(!navigator)throw Qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qt.create("permission-blocked");return yield Sse(n,e?.vapidKey),yield Ise(n,e?.serviceWorkerRegistration),gse(n)})).apply(this,arguments)}function Tse(n,e,t){return bE.apply(this,arguments)}function bE(){return(bE=y(function*(n,e,t){const r=Ase(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[_B],message_name:t[tse],message_time:t[nse],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ase(n){switch(n){case bl.NOTIFICATION_CLICKED:return"notification_open";case bl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function DE(){return(DE=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===bl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(CB(t)):n.onMessageHandler.next(CB(t)));const r=t.data;Dse(r)&&"1"===r[rse]&&(yield Tse(n,t.messageType,r))})).apply(this,arguments)}const AB="@firebase/messaging",xse=n=>{const e=new Cse(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Mse(n,e){return DE.apply(this,arguments)}(e,t)),e},kse=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function TB(n,e){return wE.apply(this,arguments)}(e,r)}};function xB(){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(){try{yield Ku()}catch{return!1}return typeof window<"u"&&_o()&&Xb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rse(){Sn(new pn("messaging",xse,"PUBLIC")),Sn(new pn("messaging-internal",kse,"PRIVATE")),pt(AB,"0.12.1"),pt(AB,"0.12.1","esm2017")}();const cg="analytics",Pse="firebase_id",Vse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kB="https://www.googletagmanager.com/gtag/js",Xt=new yl("@firebase/analytics");function RB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Bse(n,e){const t=document.createElement("script");t.src=`${kB}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function $se(n,e,t,r,i,s){return SE.apply(this,arguments)}function SE(){return(SE=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield RB(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Xt.error(a)}n("config",i,s)})).apply(this,arguments)}function jse(n,e,t,r,i){return TE.apply(this,arguments)}function TE(){return(TE=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield RB(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Xt.error(s)}})).apply(this,arguments)}function Gse(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(kB)&&t.src.includes(n))return t;return null}const tr=new ii("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),OB=new class Yse{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Qse(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Xse(n){return AE.apply(this,arguments)}function AE(){return(AE=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Qse(r)},s=Vse.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Zse(n){return ME.apply(this,arguments)}function ME(){return(ME=y(function*(n,e=OB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw tr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw tr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new toe;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),NB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function NB(n,e,t){return xE.apply(this,arguments)}function xE(){return(xE=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=OB){var s;const{appId:o,measurementId:a}=n;try{yield Jse(r,e)}catch(l){if(a)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield Xse(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!eoe(c)){if(i.deleteThrottleMetadata(o),a)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?tD(t,i.intervalMillis,30):tD(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),Xt.debug(`Calling attemptFetch again in ${u} millis`),NB(n,d,r,i)}})).apply(this,arguments)}function Jse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eoe(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class toe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let kE,LE;function RE(){return(RE=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function PB(n){LE=n}function FB(n){kE=n}function aoe(){return VE.apply(this,arguments)}function VE(){return(VE=y(function*(){if(!_o())return Xt.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ku()}catch(n){return Xt.warn(tr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function BE(){return(BE=y(function*(n,e,t,r,i,s,o){var a;const l=Zse(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Xt.error(f)),e.push(l);const c=aoe().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Gse(s)||Bse(s,u.measurementId),LE&&(i("consent","default",LE),PB(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Pse]=d),i("config",u.measurementId,h),kE&&(i("set",kE),FB(void 0)),u.measurementId})).apply(this,arguments)}class coe{constructor(e){this.app=e}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},LB=[];const VB={};let UB,Li,ug="dataLayer",UE=!1;function doe(n,e,t){!function uoe(){const n=[];if(Qb()&&n.push("This is a browser extension environment."),Xb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=tr.create("invalid-analytics-context",{errorInfo:e});Xt.warn(t.message)}}();const r=n.options.appId;if(!r)throw tr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw tr.create("no-api-key");Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[r])throw tr.create("already-exists",{id:r});if(!UE){!function Use(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(ug);const{wrappedGtag:s,gtagCore:o}=function zse(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Hse(n,e,t,r){function s(){return(s=y(function*(o,a,l){try{"event"===o?yield jse(n,e,t,a,l):"config"===o?yield $se(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Xt.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Fi,LB,VB,ug,"gtag");Li=s,UB=o,UE=!0}return Fi[r]=function loe(n,e,t,r,i,s,o){return BE.apply(this,arguments)}(n,LB,VB,e,UB,ug,t),new coe(n)}function foe(){return $E.apply(this,arguments)}function $E(){return($E=y(function*(){if(Qb()||!Xb()||!_o())return!1;try{return yield Ku()}catch{return!1}})).apply(this,arguments)}const $B="@firebase/analytics";!function goe(){Sn(new pn(cg,(e,{options:t})=>doe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Sn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(cg).getImmediate();return{logEvent:(r,i,s)=>function poe(n,e,t,r){n=wr(n),function noe(n,e,t,r,i){return RE.apply(this,arguments)}(Li,Fi[n.app.options.appId],e,t,r).catch(i=>Xt.error(i))}(t,r,i,s)}}catch(t){throw tr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pt($B,"0.9.1"),pt($B,"0.9.1","esm2017")}();const yoe=new class _oe extends Pp{}(class moe extends Np{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),jE=new rs("7.5.0"),HE="__angularfire_symbol__analyticsIsSupportedValue",zE="__angularfire_symbol__analyticsIsSupported",GE="__angularfire_symbol__remoteConfigIsSupportedValue",qE="__angularfire_symbol__remoteConfigIsSupported",WE="__angularfire_symbol__messagingIsSupportedValue",KE="__angularfire_symbol__messagingIsSupported";globalThis[zE]||(globalThis[zE]=foe().then(n=>globalThis[HE]=n).catch(()=>globalThis[HE]=!1)),globalThis[KE]||(globalThis[KE]=xB().then(n=>globalThis[WE]=n).catch(()=>globalThis[WE]=!1)),globalThis[qE]||(globalThis[qE]=Xie().then(n=>globalThis[GE]=n).catch(()=>globalThis[GE]=!1));const XE=(n,e)=>{const t=e?[e]:HV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Dl(){}class HB{constructor(e,t=yoe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class voe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)),t.pipe(Kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zB=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new HB(Zone.current)),this.insideAngular=t.run(()=>new HB(Zone.current,Vp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E(oe))},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Io(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function woe(n){return Io().ngZone.runOutsideAngular(()=>n())}function So(n){return Io().ngZone.run(()=>n())}function boe(n){return Io(),function Doe(n){return function(t){return(t=t.lift(new voe(n.ngZone))).pipe(Eh(n.outsideAngular),Dh(n.insideAngular))}}(Io())(n)}const Eoe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),So(()=>n.apply(void 0,r))},ZE=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=So(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)))),r[s]=Eoe(r[s],t));const i=woe(()=>n.apply(this,r));if(!e){if(i instanceof Re){const s=Io();return i.pipe(Eh(s.outsideAngular),Dh(s.insideAngular))}return So(()=>i)}return i instanceof Re?i.pipe(boe):i instanceof Promise?So(()=>new Promise((s,o)=>i.then(a=>So(()=>s(a)),a=>So(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:So(()=>i)};class El{constructor(e){return e}}class GB{constructor(){return HV()}}const JE=new R("angularfire2._apps"),Ioe={provide:El,useFactory:function Coe(n){return n&&1===n.length?n[0]:new El(jV())},deps:[[new cn,JE]]},Soe={provide:GB,deps:[[new cn,JE]]};function Toe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new El(r)}}let Aoe=(()=>{class n{constructor(t){pt("angularfire",jE.full,"core"),pt("angularfire",jE.full,"app"),pt("angular",kk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E(cu))},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[Ioe,Soe]}),n})();const xoe=ZE($V,!0);const koe=function qB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},WB=new ii("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),KB=new yl("@firebase/auth");function dg(n,...e){KB.logLevel<=Ee.ERROR&&KB.error(`Auth (${sg}): ${n}`,...e)}function Vn(n,...e){throw eC(n,...e)}function si(n,...e){return eC(n,...e)}function YB(n,e,t){const r=Object.assign(Object.assign({},koe()),{[e]:t});return new ii("auth","Firebase",r).create(e,{appName:n.name})}function eC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return WB.create(n,...e)}function O(n,e,...t){if(!n)throw eC(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dg(e),new Error(e)}function ys(n,e){n||oi(e)}const QB=new Map;function Vi(n){ys(n instanceof Function,"Expected a class definition");let e=QB.get(n);return e?(ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QB.set(n,e),e)}function XB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ys(t>e,"Short delay should be less than long delay!"),this.isMobile=function bne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}()||function Ene(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Noe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tC(){return"http:"===XB()||"https:"===XB()}()||Qb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ZB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Foe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Loe=new Zu(3e4,6e4);function Vt(n,e,t,r){return rC.apply(this,arguments)}function rC(){return(rC=y(function*(n,e,t,r,i={}){return JB(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=OV(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),ZB.fetch()(eU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function JB(n,e,t){return iC.apply(this,arguments)}function iC(){return(iC=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Foe),e);try{const i=new Voe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ju(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ju(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Ju(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Ju(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YB(n,u,c);Vn(n,u)}}catch(i){if(i instanceof Fr)throw i;Vn(n,"network-request-failed")}})).apply(this,arguments)}function eU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function nC(n,e){ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Voe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Loe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ju(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=si(n,e,r);return i.customData._tokenResponse=t,i}function oC(){return(oC=y(function*(n,e){return Vt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $oe(n,e){return lC.apply(this,arguments)}function lC(){return(lC=y(function*(n,e){return Vt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ed(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cC(){return(cC=y(function*(n,e=!1){const t=wr(n),r=yield t.getIdToken(e),i=hg(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ed(uC(i.auth_time)),issuedAtTime:ed(uC(i.iat)),expirationTime:ed(uC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function uC(n){return 1e3*Number(n)}function hg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xp(t);return i?JSON.parse(i):(dg("Failed to decode base64 JWT payload"),null)}catch(i){return dg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ui(n,e){return dC.apply(this,arguments)}function dC(){return(dC=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Fr&&zoe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function zoe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Goe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class tU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function td(n){return hC.apply(this,arguments)}function hC(){return(hC=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ui(n,$oe(t,{idToken:r}));O(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Koe(s.providerUserInfo):[],a=Woe(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tU(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function fC(){return(fC=y(function*(n){const e=wr(n);yield td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Woe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Koe(n){return n.map(e=>{var{providerId:t}=e,r=cM(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pC(){return(pC=y(function*(n,e){const t=yield JB(n,{},y(function*(){const r=OV({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=eU(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hoe(n){const e=hg(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Yoe(n,e){return pC.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new nd;return r&&(O("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(O("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nd,this.toJSON())}_performRefresh(){return oi("not implemented")}}function vs(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=cM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Goe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield Ui(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function joe(n){return cC.apply(this,arguments)}(this,e)}reload(){return function qoe(n){return fC.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield td(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Ui(e,function Boe(n,e){return oC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:k,isAnonymous:$,providerData:B,stsTokenManager:_e}=t;O(w&&_e,e,"internal-error");const sn=nd.fromJSON(this.name,_e);O("string"==typeof w,e,"internal-error"),vs(d,e.name),vs(h,e.name),O("boolean"==typeof k,e,"internal-error"),O("boolean"==typeof $,e,"internal-error"),vs(f,e.name),vs(p,e.name),vs(g,e.name),vs(m,e.name),vs(v,e.name),vs(C,e.name);const ar=new To({uid:w,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:sn,createdAt:v,lastLoginAt:C});return B&&Array.isArray(B)&&(ar.providerData=B.map(Vr=>Object.assign({},Vr))),m&&(ar._redirectEventId=m),ar}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new nd;i.updateFromServerResponse(t);const s=new To({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield td(s),s})()}}const nU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function fg(n,e,t){return`firebase:${n}:${e}:${t}`}class Il{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=fg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?To._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new Il(Vi(nU),e,r);const i=(yield Promise.all(t.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(nU);const o=fg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=To._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Il(s,e,r)):new Il(s,e,r)})()}}function rU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function oU(n=er()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function iU(n=er()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function lU(n=er()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function cU(n=er()){return/webos/i.test(n)}(e))return"Webos";if(function gC(n=er()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function sU(n=er()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function aU(n=er()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function uU(n,e=[]){let t;switch(n){case"Browser":t=rU(er());break;case"Worker":t=`${rU(er())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sg}/${r}`}class Zoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Joe{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dU(this),this.idTokenSubscription=new dU(this),this.beforeStateQueue=new Zoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WB,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Il.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield td(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Poe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?wr(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Vi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&Vi(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield Il.create(t,[Vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return O(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class dU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tne(n,e){const t=new Ane(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function xU(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Zu(3e4,6e4),new Zu(2e3,1e4),new Zu(3e4,6e4),new Zu(5e3,15e3);var jU="@firebase/auth";class Gle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Zp(),function Wle(n){Sn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{O(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),O(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uU(n)},u=new Joe(a,l,c);return function Ooe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new pn("auth-internal",e=>{const t=function Bn(n){return wr(n)}(e.getProvider("auth").getImmediate());return new Gle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(jU,"0.21.1",function qle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),pt(jU,"0.21.1","esm2017")}("Browser");class qU{constructor(){return XE("auth")}}const XI=new Map,WU={activated:!1,tokenObservers:[]},ece={initialized:!1,enabled:!1};function Zt(n){return XI.get(n)||Object.assign({},WU)}function Ig(){return ece}class oce{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new Jp,yield function ace(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tn=new ii("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YU(n){if(!Zt(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function e0(n,e){return t0.apply(this,arguments)}function t0(){return t0=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Tn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),t0.apply(this,arguments)}function dce(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ad="firebase-app-check-store";let Ag=null;function XU(){return Ag||(Ag=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ad,{keyPath:"compositeKey"})}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t?.message}))}}),Ag)}function n0(){return n0=y(function*(n,e){const r=(yield XU()).transaction(ad,"readwrite"),s=r.objectStore(ad).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Tn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),n0.apply(this,arguments)}const ld=new yl("@firebase/app-check");function o0(n,e){return _o()?function gce(n,e){return function ZU(n,e){return n0.apply(this,arguments)}(function e2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ld.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function t2(){return Ig().enabled}function n2(){return l0.apply(this,arguments)}function l0(){return l0=y(function*(){const n=Ig();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),l0.apply(this,arguments)}const bce={error:"UNKNOWN_ERROR"};function Dce(n){return Yb.encodeString(JSON.stringify(n),!1)}function Mg(n){return c0.apply(this,arguments)}function c0(){return c0=y(function*(n,e=!1){const t=n.app;YU(t);const r=Zt(t);let s,i=r.token;if(i&&!Sl(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Sl(l)?i=l:yield o0(t,void 0))}if(!e&&i&&Sl(i))return{token:i.token};let a,o=!1;if(t2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=e0(dce(t,yield n2()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield o0(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Zt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?ld.warn(l.message):ld.error(l),s=l}return i?s?a=Sl(i)?{token:i.token,internalError:s}:o2(s):(a={token:i.token},r.token=i,yield o0(t,i)):a=o2(s),o&&s2(t,a),a}),c0.apply(this,arguments)}function d0(n,e){const t=Zt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function r2(n){const{app:e}=n,t=Zt(e);let r=t.tokenRefresher;r||(r=function Ece(n){const{app:e}=n;return new oce(y(function*(){let r;if(r=Zt(e).token?yield Mg(n,!0):yield Mg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Zt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function s2(n,e){const t=Zt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Sl(n){return n.expireTimeMillis-Date.now()>0}function o2(n){return{token:Dce(bce),error:n}}class Cce{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Zt(this.app);for(const t of e)d0(this.app,t.next);return Promise.resolve()}}const p2="app-check-internal";!function Vce(){Sn(new pn("app-check",n=>function Ice(n,e){return new Cce(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(p2).initialize()})),Sn(new pn(p2,n=>function Sce(n){return{getToken:e=>Mg(n,e),addTokenListener:e=>function u0(n,e,t,r){const{app:i}=n,s=Zt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Sl(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),r2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>r2(n))}(n,"INTERNAL",e),removeTokenListener:e=>d0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pt("@firebase/app-check","0.6.1")}();class m2{constructor(){return XE("app-check")}}typeof window<"u"&&window;var z,Hce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={},m0=m0||{},te=Hce||self;function kg(){}function Rg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _0="closure_uid_"+(1e9*Math.random()>>>0),Gce=0;function qce(n,e,t){return n.call.apply(n.bind,arguments)}function Wce(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gn(n,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qce:Wce).apply(null,arguments)}function Og(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ws(){this.s=this.s,this.o=this.o}ws.prototype.s=!1,ws.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function zce(n){Object.prototype.hasOwnProperty.call(n,_0)&&n[_0]||(n[_0]=++Gce)}(this)},ws.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function y0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function y2(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Rg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function mn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var Yce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{te.addEventListener("test",kg,e),te.removeEventListener("test",kg,e)}catch{}return n}();function Ng(n){return/^[\s\xa0]*$/.test(n)}var v2=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function v0(n,e){return n<e?-1:n>e?1:0}function Pg(){var n=te.navigator;return n&&(n=n.userAgent)?n:""}function ai(n){return-1!=Pg().indexOf(n)}function w0(n){return w0[" "](n),n}w0[" "]=kg;var Fg,Xce=ai("Opera"),Tl=ai("Trident")||ai("MSIE"),w2=ai("Edge"),b0=w2||Tl,b2=ai("Gecko")&&!(-1!=Pg().toLowerCase().indexOf("webkit")&&!ai("Edge"))&&!(ai("Trident")||ai("MSIE"))&&!ai("Edge"),Zce=-1!=Pg().toLowerCase().indexOf("webkit")&&!ai("Edge");function D2(){var n=te.document;return n?n.documentMode:void 0}e:{var D0="",E0=function(){var n=Pg();return b2?/rv:([^\);]+)(\)|;)/.exec(n):w2?/Edge\/([\d\.]+)/.exec(n):Tl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zce?/WebKit\/(\S+)/.exec(n):Xce?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(E0&&(D0=E0?E0[1]:""),Tl){var C0=D2();if(null!=C0&&C0>parseFloat(D0)){Fg=String(C0);break e}}Fg=D0}var Jce={};var tue=te.document&&Tl&&(D2()||parseInt(Fg,10))||void 0;function ud(n,e){if(mn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(b2){e:{try{w0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nue[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ud.X.h.call(this)}}Jt(ud,mn);var nue={2:"touch",3:"pen",4:"mouse"};ud.prototype.h=function(){ud.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var dd="closure_listenable_"+(1e6*Math.random()|0),rue=0;function iue(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++rue,this.ba=this.ea=!1}function Lg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function S0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function C2(n){const e={};for(const t in n)e[t]=n[t];return e}const I2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S2(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<I2.length;s++)t=I2[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vg(n){this.src=n,this.g={},this.h=0}function T0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=_2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function A0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Vg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=A0(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new iue(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var M0="closure_lm_"+(1e6*Math.random()|0),x0={};function T2(n,e,t,r,i){if(r&&r.once)return M2(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)T2(n,e[s],t,r,i);return null}return t=N0(t),n&&n[dd]?n.N(e,t,cd(r)?!!r.capture:!!r,i):A2(n,e,t,!1,r,i)}function A2(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=cd(i)?!!i.capture:!!i,a=R0(n);if(a||(n[M0]=a=new Vg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function sue(){const e=oue;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Yce||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(k2(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function M2(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)M2(n,e[s],t,r,i);return null}return t=N0(t),n&&n[dd]?n.O(e,t,cd(r)?!!r.capture:!!r,i):A2(n,e,t,!0,r,i)}function x2(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)x2(n,e[s],t,r,i);else r=cd(r)?!!r.capture:!!r,t=N0(t),n&&n[dd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=A0(s=n.g[e],t,r,i))&&(Lg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=R0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=A0(e,t,r,i)),(t=-1<n?e[n]:null)&&k0(t))}function k0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[dd])T0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(k2(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=R0(e))?(T0(t,n),0==t.h&&(t.src=null,e[M0]=null)):Lg(n)}}}function k2(n){return n in x0?x0[n]:x0[n]="on"+n}function oue(n,e){if(n.ba)n=!0;else{e=new ud(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&k0(n),n=t.call(r,e)}return n}function R0(n){return(n=n[M0])instanceof Vg?n:null}var O0="__closure_events_fn_"+(1e9*Math.random()>>>0);function N0(n){return"function"==typeof n?n:(n[O0]||(n[O0]=function(e){return n.handleEvent(e)}),n[O0])}function Bt(){ws.call(this),this.i=new Vg(this),this.P=this,this.I=null}function en(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mn(e,n);else if(e instanceof mn)e.target=e.target||n;else{var i=e;S2(e=new mn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Bg(o,r,!0,e)&&i}if(i=Bg(o=e.g=n,r,!0,e)&&i,i=Bg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Bg(o=e.g=t[s],r,!1,e)&&i}function Bg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&T0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Jt(Bt,ws),Bt.prototype[dd]=!0,Bt.prototype.removeEventListener=function(n,e,t,r){x2(this,n,e,t,r)},Bt.prototype.M=function(){if(Bt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lg(t[r]);delete n.g[e],n.h--}}this.I=null},Bt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var P0=te.JSON.stringify;function aue(){var n=N2;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var F0,R2=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cue,n=>n.reset());class cue{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uue(n){te.setTimeout(()=>{throw n},0)}function O2(n,e){F0||function due(){var n=te.Promise.resolve(void 0);F0=function(){n.then(hue)}}(),L0||(F0(),L0=!0),N2.add(n,e)}var L0=!1,N2=new class lue{constructor(){this.h=this.g=null}add(e,t){const r=R2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hue(){for(var n;n=aue();){try{n.h.call(n.g)}catch(t){uue(t)}var e=R2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}L0=!1}function Ug(n,e){Bt.call(this),this.h=n||1,this.g=e||te,this.j=gn(this.lb,this),this.l=Date.now()}function V0(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function B0(n,e,t){if("function"==typeof n)t&&(n=gn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gn(n.handleEvent,n)}return 2147483647<Number(e)?-1:te.setTimeout(n,e||0)}function P2(n){n.g=B0(()=>{n.g=null,n.i&&(n.i=!1,P2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jt(Ug,Bt),(z=Ug.prototype).ca=!1,z.R=null,z.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),en(this,"tick"),this.ca&&(V0(this),this.start()))}},z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){Ug.X.M.call(this),V0(this),delete this.g};class fue extends ws{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P2(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hd(n){ws.call(this),this.h=n,this.g={}}Jt(hd,ws);var F2=[];function L2(n,e,t,r){Array.isArray(t)||(t&&(F2[0]=t.toString()),t=F2);for(var i=0;i<t.length;i++){var s=T2(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function V2(n){S0(n.g,function(e,t){this.g.hasOwnProperty(t)&&k0(e)},n),n.g={}}function $g(){this.g=!0}function Al(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _ue(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return P0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}hd.prototype.M=function(){hd.X.M.call(this),V2(this)},hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$g.prototype.Aa=function(){this.g=!1},$g.prototype.info=function(){};var ko={},B2=null;function jg(){return B2=B2||new Bt}function U2(n){mn.call(this,ko.Pa,n)}function fd(n){const e=jg();en(e,new U2(e))}function $2(n,e){mn.call(this,ko.STAT_EVENT,n),this.stat=e}function An(n){const e=jg();en(e,new $2(e,n))}function j2(n,e){mn.call(this,ko.Qa,n),this.size=e}function pd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){n()},e)}ko.Pa="serverreachability",Jt(U2,mn),ko.STAT_EVENT="statevent",Jt($2,mn),ko.Qa="timingevent",Jt(j2,mn);var Hg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},H2={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function U0(){}function G2(){}U0.prototype.h=null;var H0,gd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $0(){mn.call(this,"d")}function j0(){mn.call(this,"c")}function zg(){}function md(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new hd(this),this.O=yue,this.T=new Ug(n=b0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new q2}function q2(){this.i=null,this.g="",this.h=!1}Jt($0,mn),Jt(j0,mn),Jt(zg,U0),zg.prototype.g=function(){return new XMLHttpRequest},zg.prototype.i=function(){return{}},H0=new zg;var yue=45e3,z0={},Gg={};function G0(n,e,t){n.K=1,n.v=Yg(Hi(e)),n.s=t,n.P=!0,W2(n,null)}function W2(n,e){n.F=Date.now(),_d(n),n.A=Hi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),r$(t.i,"t",r),n.C=0,t=n.l.H,n.h=new q2,n.g=T$(n.l,t?e:null,!n.s),0<n.N&&(n.L=new fue(gn(n.La,n,n.g),n.N)),L2(n.S,n.g,"readystatechange",n.ib),e=n.H?C2(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),fd(),function pue(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function K2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Y2(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=vue(n,t),i==Gg){4==e&&(n.o=4,An(14),r=!1),Al(n.j,n.m,null,"[Incomplete Response]");break}if(i==z0){n.o=4,An(15),Al(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Al(n.j,n.m,i,null),q0(n,i)}K2(n)&&i!=Gg&&i!=z0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),eS(e),e.K=!0,An(11))):(Al(n.j,n.m,t,"[Invalid Chunked Response]"),Ro(n),yd(n))}function vue(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gg:(t=Number(e.substring(t,r)),isNaN(t)?z0:(r+=1)+t>e.length?Gg:(e=e.substr(r,t),n.C=r+t,e))}function _d(n){n.V=Date.now()+n.O,Q2(n,n.O)}function Q2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pd(gn(n.gb,n),e)}function qg(n){n.B&&(te.clearTimeout(n.B),n.B=null)}function yd(n){0==n.l.G||n.I||E$(n.l,n)}function Ro(n){qg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,V0(n.T),V2(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function q0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||W0(t.h,n)))if(!n.J&&W0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;tm(t),Jg(t)}J0(t),An(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=pd(gn(t.cb,t),6e3));if(1>=o$(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else No(t,11)}else if((n.J||t.g==n)&&tm(t),!Ng(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(K0(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Xe(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=S$(r,r.H?r.ka:null,r.V),o.J){a$(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(qg(a),_d(a)),r.g=o}else b$(r);0<t.i.length&&em(t)}else"stop"!=c[0]&&"close"!=c[0]||No(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?No(t,7):Z0(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}fd()}catch{}}function X2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Rg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bue(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Rg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function wue(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Rg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(z=md.prototype).setTimeout=function(n){this.O=n},z.ib=function(n){n=n.target;const e=this.L;e&&3==zi(n)?e.l():this.La(n)},z.La=function(n){try{if(n==this.g)e:{const u=zi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||b0||this.g&&(this.h.h||this.g.fa()||g$(this.g)))){this.I||4!=u||7==e||fd(),qg(this);var t=this.g.aa();this.Y=t;t:if(K2(this)){var r=g$(this.g);n="";var i=r.length,s=4==zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),yd(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function gue(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ng(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,An(12),Ro(this),yd(this);break e}Al(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,q0(this,t)}this.P?(Y2(this,u,o),b0&&this.i&&3==u&&(L2(this.S,this.T,"tick",this.hb),this.T.start())):(Al(this.j,this.m,o,null),q0(this,o)),4==u&&Ro(this),this.i&&!this.I&&(4==u?E$(this.l,this):(this.i=!1,_d(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),Ro(this),yd(this)}}}catch{}},z.hb=function(){if(this.g){var n=zi(this.g),e=this.g.fa();this.C<e.length&&(qg(this),Y2(this,n,e),this.i&&4!=n&&_d(this))}},z.cancel=function(){this.I=!0,Ro(this)},z.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mue(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fd(),An(17)),Ro(this),this.o=2,yd(this)):Q2(this,this.V-n)};var Z2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Oo){this.h=void 0!==e?e:n.h,Wg(this,n.j),this.s=n.s,this.g=n.g,Kg(this,n.m),this.l=n.l,e=n.i;var t=new bd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),J2(this,t),this.o=n.o}else n&&(t=String(n).match(Z2))?(this.h=!!e,Wg(this,t[1]||"",!0),this.s=vd(t[2]||""),this.g=vd(t[3]||"",!0),Kg(this,t[4]),this.l=vd(t[5]||"",!0),J2(this,t[6]||"",!0),this.o=vd(t[7]||"")):(this.h=!!e,this.i=new bd(null,this.h))}function Hi(n){return new Oo(n)}function Wg(n,e,t){n.j=t?vd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function J2(n,e,t){e instanceof bd?(n.i=e,function Aue(n,e){e&&!n.j&&(bs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(t$(this,r),r$(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wd(e,Sue)),n.i=new bd(e,n.h))}function Xe(n,e,t){n.i.set(e,t)}function Yg(n){return Xe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Eue),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Eue(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Oo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wd(e,e$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wd(e,e$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wd(t,"/"==t.charAt(0)?Iue:Cue,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wd(t,Tue)),n.join("")};var e$=/[#\/\?@]/g,Cue=/[#\?:]/g,Iue=/[#\?]/g,Sue=/[#\?@]/g,Tue=/#/g;function bd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Due(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function t$(n,e){bs(n),e=Ml(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function n$(n,e){return bs(n),e=Ml(n,e),n.g.has(e)}function r$(n,e,t){t$(n,e),0<t.length&&(n.i=null,n.g.set(Ml(n,e),y0(t)),n.h+=t.length)}function Ml(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function i$(n){this.l=n||xue,n=te.PerformanceNavigationTiming?0<(n=te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(te.g&&te.g.Ga&&te.g.Ga()&&te.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=bd.prototype).add=function(n,e){bs(this),this.i=null,n=Ml(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},z.forEach=function(n,e){bs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},z.oa=function(){bs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},z.W=function(n){bs(this);let e=[];if("string"==typeof n)n$(this,n)&&(e=e.concat(this.g.get(Ml(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},z.set=function(n,e){return bs(this),this.i=null,n$(this,n=Ml(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},z.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var xue=10;function s$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function o$(n){return n.h?1:n.g?n.g.size:0}function W0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K0(n,e){n.g?n.g.add(e):n.h=e}function a$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function l$(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return y0(n.i)}function Y0(){}function kue(){this.g=new Y0}function Rue(n,e,t){const r=t||"";try{X2(n,function(i,s){let o=i;cd(i)&&(o=P0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dd(n){this.l=n.ac||null,this.j=n.jb||!1}function Xg(n,e){Bt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Q0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}i$.prototype.cancel=function(){if(this.i=l$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Y0.prototype.stringify=function(n){return te.JSON.stringify(n,void 0)},Y0.prototype.parse=function(n){return te.JSON.parse(n,void 0)},Jt(Dd,U0),Dd.prototype.g=function(){return new Xg(this.l,this.j)},Dd.prototype.i=function(n){return function(){return n}}({}),Jt(Xg,Bt);var Q0=0;function c$(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ed(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cd(n)}function Cd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(z=Xg.prototype).open=function(n,e){if(this.readyState!=Q0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cd(this)},z.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ed(this)),this.readyState=Q0},z.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cd(this)),this.g&&(this.readyState=3,Cd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c$(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},z.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ed(this):Cd(this),3==this.readyState&&c$(this)}},z.Va=function(n){this.g&&(this.response=this.responseText=n,Ed(this))},z.Ua=function(n){this.g&&(this.response=n,Ed(this))},z.ga=function(){this.g&&Ed(this)},z.setRequestHeader=function(n,e){this.v.append(n,e)},z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nue=te.JSON.parse;function at(n){Bt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=u$,this.K=this.L=!1}Jt(at,Bt);var u$="",Pue=/^https?$/i,Fue=["POST","PUT"];function d$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,h$(n),Zg(n)}function h$(n){n.D||(n.D=!0,en(n,"complete"),en(n,"error"))}function f$(n){if(n.h&&typeof m0<"u"&&(!n.C[1]||4!=zi(n)||2!=n.aa()))if(n.v&&4==zi(n))B0(n.Ha,0,n);else if(en(n,"readystatechange"),4==zi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(Z2)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!Pue.test(i?i.toLowerCase():"")}t=r}if(t)en(n,"complete"),en(n,"success");else{n.m=6;try{var o=2<zi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",h$(n)}}finally{Zg(n)}}}function Zg(n,e){if(n.g){p$(n);const t=n.g,r=n.C[0]?kg:null;n.g=null,n.C=null,e||en(n,"ready");try{t.onreadystatechange=r}catch{}}}function p$(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(te.clearTimeout(n.A),n.A=null)}function zi(n){return n.g?n.g.readyState:0}function g$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case u$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function m$(n){let e="";return S0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function X0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=m$(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xe(n,e,t))}function Id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _$(n){this.Ca=0,this.i=[],this.j=new $g,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Id("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Id("baseRetryDelayMs",5e3,n),this.bb=Id("retryDelaySeedMs",1e4,n),this.$a=Id("forwardChannelMaxRetries",2,n),this.ta=Id("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new i$(n&&n.concurrentRequestLimit),this.Fa=new kue,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Z0(n){if(y$(n),3==n.G){var e=n.U++,t=Hi(n.F);Xe(t,"SID",n.I),Xe(t,"RID",e),Xe(t,"TYPE","terminate"),Sd(n,t),(e=new md(n,n.j,e,void 0)).K=2,e.v=Yg(Hi(t)),t=!1,te.navigator&&te.navigator.sendBeacon&&(t=te.navigator.sendBeacon(e.v.toString(),"")),!t&&te.Image&&((new Image).src=e.v,t=!0),t||(e.g=T$(e.l,null),e.g.da(e.v)),e.F=Date.now(),_d(e)}I$(n)}function Jg(n){n.g&&(eS(n),n.g.cancel(),n.g=null)}function y$(n){Jg(n),n.u&&(te.clearTimeout(n.u),n.u=null),tm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&te.clearTimeout(n.m),n.m=null)}function em(n){s$(n.h)||n.m||(n.m=!0,O2(n.Ja,n),n.C=0)}function v$(n,e){var t;t=e?e.m:n.U++;const r=Hi(n.F);Xe(r,"SID",n.I),Xe(r,"RID",t),Xe(r,"AID",n.T),Sd(n,r),n.o&&n.s&&X0(r,n.o,n.s),t=new md(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=w$(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),K0(n.h,t),G0(t,r,e)}function Sd(n,e){n.ia&&S0(n.ia,function(t,r){Xe(e,r,t)}),n.l&&X2({},function(t,r){Xe(e,r,t)})}function w$(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Rue(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function b$(n){n.g||n.u||(n.Z=1,O2(n.Ia,n),n.A=0)}function J0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=pd(gn(n.Ia,n),C$(n,n.A)),n.A++,0))}function eS(n){null!=n.B&&(te.clearTimeout(n.B),n.B=null)}function D$(n){n.g=new md(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Hi(n.sa);Xe(e,"RID","rpc"),Xe(e,"SID",n.I),Xe(e,"CI",n.L?"0":"1"),Xe(e,"AID",n.T),Xe(e,"TYPE","xmlhttp"),Sd(n,e),n.o&&n.s&&X0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Yg(Hi(e)),t.s=null,t.P=!0,W2(t,n)}function tm(n){null!=n.v&&(te.clearTimeout(n.v),n.v=null)}function E$(n,e){var t=null;if(n.g==e){tm(n),eS(n),n.g=null;var r=2}else{if(!W0(n.h,e))return;t=e.D,a$(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;en(r=jg(),new j2(r,t)),em(n)}else b$(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Vue(n,e){return!(o$(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=pd(gn(n.Ja,n,e),C$(n,n.C)),n.C++,0)))}(n,e)||2==r&&J0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:No(n,5);break;case 4:No(n,10);break;case 3:No(n,6);break;default:No(n,2)}}function C$(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function No(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gn(n.kb,n);t||(t=new Oo("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Wg(t,"https"),Yg(t)),function Oue(n,e){const t=new $g;if(te.Image){const r=new Image;r.onload=Og(Qg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Og(Qg,t,r,"TestLoadImage: error",!1,e),r.onabort=Og(Qg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Og(Qg,t,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.G=0,n.l&&n.l.va(e),I$(n),y$(n)}function I$(n){if(n.G=0,n.la=[],n.l){const e=l$(n.h);(0!=e.length||0!=n.i.length)&&(y2(n.la,e),y2(n.la,n.i),n.h.i.length=0,y0(n.i),n.i.length=0),n.l.ua()}}function S$(n,e,t){var r=t instanceof Oo?Hi(t):new Oo(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Kg(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Oo(null,void 0);r&&Wg(s,r),e&&(s.g=e),i&&Kg(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Xe(r,t,e),Xe(r,"VER",n.ma),Sd(n,r),r}function T$(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Da&&!n.ra?new Dd({jb:!0}):n.ra)).Ka(n.H),e}function A$(){}function nm(){if(Tl&&!(10<=Number(tue)))throw Error("Environmental error: no available transport.")}function nr(n,e){Bt.call(this),this.g=new _$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ng(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ng(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xl(this)}function M$(n){$0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function x$(){j0.call(this),this.status=1}function xl(n){this.g=n}(z=at.prototype).Ka=function(n){this.L=n},z.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H0.g(),this.C=function z2(n){return n.h||(n.h=n.i())}(this.u?this.u:H0),this.g.onreadystatechange=gn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void d$(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&n instanceof te.FormData,!(0<=_2(Fue,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{p$(this),0<this.B&&((this.K=function Lue(n){return Tl&&function eue(){return function Qce(n){var e=Jce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=v2(String(Fg)).split("."),t=v2("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=v0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||v0(0==i[2].length,0==s[2].length)||v0(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.qa,this)):this.A=B0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){d$(this,s)}},z.qa=function(){typeof m0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))},z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,en(this,"complete"),en(this,"abort"),Zg(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zg(this,!0)),at.X.M.call(this)},z.Ha=function(){this.s||(this.F||this.v||this.l?f$(this):this.fb())},z.fb=function(){f$(this)},z.aa=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nue(e)}},z.Ea=function(){return this.m},z.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=_$.prototype).ma=8,z.G=1,z.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new md(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=C2(s),S2(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=w$(this,i,e),Xe(t=Hi(this.F),"RID",n),Xe(t,"CVER",22),this.D&&Xe(t,"X-HTTP-Session-Id",this.D),Sd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(m$(s)))+"&"+e:this.o&&X0(t,this.o,s)),K0(this.h,i),this.Ya&&Xe(t,"TYPE","init"),this.O?(Xe(t,"$req",e),Xe(t,"SID","null"),i.Z=!0,G0(i,t,null)):G0(i,t,e),this.G=2}}else 3==this.G&&(n?v$(this,n):0==this.i.length||s$(this.h)||v$(this))},z.Ia=function(){if(this.u=null,D$(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=pd(gn(this.eb,this),n)}},z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,An(10),Jg(this),D$(this))},z.cb=function(){null!=this.v&&(this.v=null,Jg(this),J0(this),An(19))},z.kb=function(n){n?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))},(z=A$.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Ra=function(){},nm.prototype.g=function(n,e){return new nr(n,e)},Jt(nr,Bt),nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;An(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=S$(n,null,n.V),em(n)},nr.prototype.close=function(){Z0(this.g)},nr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=P0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&em(e)},nr.prototype.M=function(){this.g.l=null,delete this.j,Z0(this.g),delete this.g,nr.X.M.call(this)},Jt(M$,$0),Jt(x$,j0),Jt(xl,A$),xl.prototype.xa=function(){en(this.g,"a")},xl.prototype.wa=function(n){en(this.g,new M$(n))},xl.prototype.va=function(n){en(this.g,new x$)},xl.prototype.ua=function(){en(this.g,"b")},nm.prototype.createWebChannel=nm.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Hg.NO_ERROR=0,Hg.TIMEOUT=8,Hg.HTTP_ERROR=6,H2.COMPLETE="complete",G2.EventType=gd,gd.OPEN="a",gd.CLOSE="b",gd.ERROR="c",gd.MESSAGE="d",Bt.prototype.listen=Bt.prototype.N,at.prototype.listenOnce=at.prototype.O,at.prototype.getLastError=at.prototype.Oa,at.prototype.getLastErrorCode=at.prototype.Ea,at.prototype.getStatus=at.prototype.aa,at.prototype.getResponseJson=at.prototype.Sa,at.prototype.getResponseText=at.prototype.fa,at.prototype.send=at.prototype.da,at.prototype.setWithCredentials=at.prototype.Ka;var Bue=ji.createWebChannelTransport=function(){return new nm},Uue=ji.getStatEventTarget=function(){return jg()},tS=ji.ErrorCode=Hg,$ue=ji.EventType=H2,jue=ji.Event=ko,k$=ji.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Hue=ji.FetchXmlHttpFactory=Dd,rm=ji.WebChannel=G2,zue=ji.XhrIo=at;const R$="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let kl="9.16.0";const Ds=new yl("@firebase/firestore");function nS(){return Ds.logLevel}function M(n,...e){if(Ds.logLevel<=Ee.DEBUG){const t=e.map(rS);Ds.debug(`Firestore (${kl}): ${n}`,...t)}}function gt(n,...e){if(Ds.logLevel<=Ee.ERROR){const t=e.map(rS);Ds.error(`Firestore (${kl}): ${n}`,...t)}}function Rl(n,...e){if(Ds.logLevel<=Ee.WARN){const t=e.map(rS);Ds.warn(`Firestore (${kl}): ${n}`,...t)}}function rS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+n;throw gt(e),new Error(e)}function H(n,e){n||U()}function F(n,e){return n}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class que{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wue{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new O$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Ut(e)}}class Kue{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(H(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Yue{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Kue(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Que{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(H("string"==typeof t.token),this.A=t.token,new N$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xue(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class P${static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}function Ol(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class nt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new nt(0,0))}static max(){return new q(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Td{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Td.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends Td{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const Zue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Td{construct(e,t,r){return new mt(e,t,r)}static isValidIdentifier(e){return Zue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(t)}static emptyPath(){return new mt([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(Ce.fromString(e))}static fromName(e){return new P(Ce.fromString(e).popFirst(5))}static empty(){return new P(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new Ce(e.slice()))}}function V$(n){return new rr(n.readTime,n.key,-1)}class rr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rr(q.min(),P.empty(),-1)}static max(){return new rr(q.max(),P.empty(),-1)}}function sS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=P.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const B$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Es(n){return oS.apply(this,arguments)}function oS(){return oS=y(function*(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==B$)throw n;M("LocalStore","Unexpectedly lost primary lease")}),oS.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new b((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Cs(n){return"IndexedDbTransactionError"===n.name}let ir=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class ode{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Lo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}function $$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xd(n){return null==n}function kd(n){return 0===n&&1/n==-1/0}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const ade=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(H(!!n),"string"==typeof n){let e=0;const t=ade.exec(n);if(H(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bo(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}function lS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function z$(n){const e=n.mapValue.fields.__previous_value__;return lS(e)?z$(e):e}function Rd(n){const e=Is(n.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}const Ss_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lS(n)?4:K$(n)?9007199254740991:10:U()}function li(n,e){if(n===e)return!0;const t=Uo(n);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rd(n).isEqual(Rd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Is(r.timestampValue),o=Is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Bo(n.bytesValue).isEqual(Bo(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?kd(s)===kd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ol(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if($$(s)!==$$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!li(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function Od(n,e){return void 0!==(n.values||[]).find(t=>li(t,e))}function Ts(n,e){if(n===e)return 0;const t=Uo(n),r=Uo(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return G$(n.timestampValue,e.timestampValue);case 4:return G$(Rd(n),Rd(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Bo(i),a=Bo(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ne(o[l],a[l]);if(0!==c)return c}return ne(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(lt(i.latitude),lt(s.latitude));return 0!==o?o:ne(lt(i.longitude),lt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Ts(o[l],a[l]);if(c)return c}return ne(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ss_mapValue&&s===Ss_mapValue)return 0;if(i===Ss_mapValue)return 1;if(s===Ss_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ne(a[u],c[u]);if(0!==d)return d;const h=Ts(o[a[u]],l[c[u]]);if(0!==h)return h}return ne(a.length,c.length)}(n.mapValue,e.mapValue);default:throw U()}}function G$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=Is(n),r=Is(e),i=ne(t.seconds,r.seconds);return 0!==i?i:ne(t.nanos,r.nanos)}function Nl(n){return cS(n)}function cS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Is(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bo(n.bytesValue).toBase64():"referenceValue"in n?P.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cS(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function uS(n){return!!n&&"integerValue"in n}function Nd(n){return!!n&&"arrayValue"in n}function q$(n){return!!n&&"nullValue"in n}function W$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function Pd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class As{constructor(e,t){this.position=e,this.inclusive=t}}function X$(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),t.key):Ts(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Z$(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}class J${}class ve extends J${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ude(e,t,r):"array-contains"===t?new fde(e,r):"in"===t?new sj(e,r):"not-in"===t?new pde(e,r):"array-contains-any"===t?new gde(e,r):new ve(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new dde(e,r):new hde(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ts(t,this.value)):null!==t&&Uo(this.value)===Uo(t)&&this.matchesComparison(Ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends J${constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ve(e,t)}matches(e){return Pl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pl(n){return"and"===n.op}function hS(n){return function ej(n){for(const e of n.filters)if(e instanceof Ve)return!1;return!0}(n)&&Pl(n)}function fS(n){if(n instanceof ve)return n.field.canonicalString()+n.op.toString()+Nl(n.value);if(hS(n))return n.filters.map(e=>fS(e)).join(",");{const e=n.filters.map(t=>fS(t)).join(",");return`${n.op}(${e})`}}function tj(n,e){return n instanceof ve?(t=n,(r=e)instanceof ve&&t.op===r.op&&t.field.isEqual(r.field)&&li(t.value,r.value)):n instanceof Ve?function(t,r){return r instanceof Ve&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&tj(s,r.filters[o]),!0)}(n,e):void U();var t,r}function rj(n){return n instanceof ve?function(e){return`${e.field.canonicalString()} ${e.op} ${Nl(e.value)}`}(n):n instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(rj).join(" ,")+"}"}(n):"Filter"}class ude extends ve{constructor(e,t,r){super(e,t,r),this.key=P.fromName(r.referenceValue)}matches(e){const t=P.comparator(e.key,this.key);return this.matchesComparison(t)}}class dde extends ve{constructor(e,t){super(e,"in",t),this.keys=ij(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hde extends ve{constructor(e,t){super(e,"not-in",t),this.keys=ij(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ij(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>P.fromName(r.referenceValue))}class fde extends ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&Od(t.arrayValue,this.value)}}class sj extends ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Od(this.value.arrayValue,t)}}class pde extends ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Od(this.value.arrayValue,t)}}class gde extends ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}class Fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function mde(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ct{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new tn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new tn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oj(this.data.getIterator())}getIteratorFrom(e){return new oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Ue(mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(t)}setAll(e){let t=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Pd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Pd(this.value))}}function aj(n){const e=[];return Vo(n.fields,(t,r)=>{const i=new mt([t]);if(lm(r)){const s=aj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}class Ke{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,q.min(),q.min(),q.min(),nn.empty(),0)}static newFoundDocument(e,t,r,i){return new Ke(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new Ke(e,2,t,q.min(),q.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new Ke(e,3,t,q.min(),q.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _de{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function pS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new _de(n,e,t,r,i,s,o)}function jo(n){const e=F(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nl(r)).join(",")),e.ft=t}return e.ft}function Fd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mde(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Z$(n.startAt,e.startAt)&&Z$(n.endAt,e.endAt)}function um(n){return P.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Gi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function Vl(n){return new Gi(n)}function dj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ho(n){const e=F(n);if(null===e.dt){e.dt=[];const t=function hm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function gS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Fl(t)),e.dt.push(new Fl(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fl(mt.keyField(),s))}}}return e.dt}function Mn(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=pS(e.path,e.collectionGroup,Ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ho(e))t.push(new Fl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new As(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new As(e.startAt.position,e.startAt.inclusive):null;e._t=pS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function fm(n,e,t){return new Gi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ld(n,e){return Fd(Mn(n),Mn(e))&&n.limitType===e.limitType}function hj(n){return`${jo(Mn(n))}|lt:${n.limitType}`}function yS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>rj(r)).join(", ")}]`),xd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nl(r)).join(",")),`Target(${t})`}(Mn(n))}; limitType=${n.limitType})`}function vS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):P.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ho(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=X$(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ho(t),r)||t.endAt&&!function(i,s,o){const a=X$(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ho(t),r)));var t,r}function pj(n){return(e,t)=>{let r=!1;for(const i of Ho(n)){const s=yde(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function yde(n,e,t){const r=n.field.isKeyField()?P.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Ts(a,l):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}function gj(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function mj(n){return{integerValue:""+n}}function _j(n,e){return function H$(n){return"number"==typeof n&&Number.isInteger(n)&&!kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?mj(e):gj(n,e)}class pm{constructor(){this._=void 0}}function vde(n,e,t){return n instanceof Bl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof zo?vj(n,e):n instanceof Go?wj(n,e):function(r,i){const s=yj(r,i),o=bj(s)+bj(r.gt);return uS(s)&&uS(r.gt)?mj(o):gj(r.yt,o)}(n,e)}function wde(n,e,t){return n instanceof zo?vj(n,e):n instanceof Go?wj(n,e):t}function yj(n,e){return n instanceof Ul?uS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Bl extends pm{}class zo extends pm{constructor(e){super(),this.elements=e}}function vj(n,e){const t=Dj(e);for(const r of n.elements)t.some(i=>li(i,r))||t.push(r);return{arrayValue:{values:t}}}class Go extends pm{constructor(e){super(),this.elements=e}}function wj(n,e){let t=Dj(e);for(const r of n.elements)t=t.filter(i=>!li(i,r));return{arrayValue:{values:t}}}class Ul extends pm{constructor(e,t){super(),this.yt=e,this.gt=t}}function bj(n){return lt(n.integerValue||n.doubleValue)}function Dj(n){return Nd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dde{constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mm{}function Ej(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jl(n.key,Ze.none()):new $l(n.key,n.data,Ze.none());{const t=n.data,r=nn.empty();let i=new Ue(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(n.key,r,new Un(i.toArray()),Ze.none())}}function Ede(n,e,t){n instanceof $l?function(r,i,s){const o=r.value.clone(),a=Sj(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(r,i,s){if(!gm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Sj(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Ij(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bd(n,e,t,r){return n instanceof $l?function(i,s,o,a){if(!gm(i.precondition,s))return o;const l=i.value.clone(),c=Tj(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof qi?function(i,s,o,a){if(!gm(i.precondition,s))return o;const l=Tj(i.fieldTransforms,a,s),c=s.data;return c.setAll(Ij(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,gm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Cde(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=yj(r.transform,i||null);null!=s&&(null===t&&(t=nn.empty()),t.set(r.field,s))}return t||null}function Cj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ol(t,r,(i,s)=>function bde(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zo&&r instanceof zo||t instanceof Go&&r instanceof Go?Ol(t.elements,r.elements,li):t instanceof Ul&&r instanceof Ul?li(t.gt,r.gt):t instanceof Bl&&r instanceof Bl);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $l extends mm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends mm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ij(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Sj(n,e,t){const r=new Map;H(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wde(o,a,t[i]))}return r}function Tj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,vde(s,o,e))}return r}class jl extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wS extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ide{constructor(e){this.count=e}}var Et,Ie;function Aj(n){switch(n){default:return U();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Mj(n){if(void 0===n)return gt("GRPC error has no .code"),D.UNKNOWN;switch(n){case Et.OK:return D.OK;case Et.CANCELLED:return D.CANCELLED;case Et.UNKNOWN:return D.UNKNOWN;case Et.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Et.INTERNAL:return D.INTERNAL;case Et.UNAVAILABLE:return D.UNAVAILABLE;case Et.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Et.NOT_FOUND:return D.NOT_FOUND;case Et.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Et.ABORTED:return D.ABORTED;case Et.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Et.DATA_LOSS:return D.DATA_LOSS;default:return U()}}(Ie=Et||(Et={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class Ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return j$(this.inner)}size(){return this.innerSize}}const Sde=new ct(P.comparator);function $n(){return Sde}const xj=new ct(P.comparator);function Ud(...n){let e=xj;for(const t of n)e=e.insert(t.key,t);return e}function kj(n){let e=xj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ci(){return $d()}function Rj(){return $d()}function $d(){return new Ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tde=new ct(P.comparator),Ade=new Ue(P.comparator);function le(...n){let e=Ade;for(const t of n)e=e.add(t);return e}const Mde=new Ue(ne);function _m(){return Mde}class jd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jd(q.min(),i,_m(),$n(),le())}}class Hd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hd(r,t,le(),le(),le())}}class ym{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class Oj{constructor(e,t){this.targetId=e,this.Et=t}}class Nj{constructor(e,t,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Pj{constructor(){this.At=0,this.Rt=Lj(),this.bt=Pt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=le(),t=le(),r=le();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Hd(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=Lj()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class xde{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=$n(),this.qt=Fj(),this.Ut=new Ue(ne)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(um(s))if(0===r){const o=new P(s.path);this.Qt(t,o,Ke.newNoDocument(o,q.min()))}else H(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&um(a.target)){const l=new P(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,Ke.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=le();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new jd(e,t,this.Ut,this.Lt,r);return this.Lt=$n(),this.qt=Fj(),this.Ut=new Ue(ne),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Pj,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ue(ne),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Pj),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Fj(){return new ct(P.comparator)}function Lj(){return new ct(P.comparator)}const kde={asc:"ASCENDING",desc:"DESCENDING"},Rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ode={and:"AND",or:"OR"};class Nde{constructor(e,t){this.databaseId=e,this.wt=t}}function Hl(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vj(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Pde(n,e){return Hl(n,e.toTimestamp())}function _t(n){return H(!!n),q.fromTimestamp(function(e){const t=Is(e);return new nt(t.seconds,t.nanos)}(n))}function bS(n,e){return(t=n,new Ce(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Bj(n){const e=Ce.fromString(n);return H(Kj(e)),e}function zd(n,e){return bS(n.databaseId,e.path)}function ui(n,e){const t=Bj(e);if(t.get(1)!==n.databaseId.projectId)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new P($j(t))}function DS(n,e){return bS(n.databaseId,e)}function Gd(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $j(n){return H(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jj(n,e,t){return{name:zd(n,e),fields:t.value.mapValue.fields}}function zj(n,e){return{documents:[DS(n,e.path)]}}function CS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=DS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=DS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return Wj(Ve.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:zl((u=c).field),direction:Ude(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.wt||xd(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function Gj(n){let e=function Uj(n){const e=Bj(n);return 4===e.length?Ce.emptyPath():$j(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){H(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=qj(u);return d instanceof Ve&&hS(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Fl(Gl((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,xd(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new As((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new As(u.values||[],!u.before)}(t.endAt)),function uj(n,e,t,r,i,s,o,a){return new Gi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function qj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gl(e.unaryFilter.field);return ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Gl(e.unaryFilter.field);return ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gl(e.unaryFilter.field);return ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gl(e.unaryFilter.field);return ve.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(n):void 0!==n.fieldFilter?function(e){return ve.create(Gl(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(t=>qj(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(n):U()}function Ude(n){return kde[n]}function $de(n){return Rde[n]}function jde(n){return Ode[n]}function zl(n){return{fieldPath:n.canonicalString()}}function Gl(n){return mt.fromServerFormat(n.fieldPath)}function Wj(n){return n instanceof ve?function(e){if("=="===e.op){if(W$(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(q$(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(W$(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(q$(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:$de(e.op),value:e.value}}}(n):n instanceof Ve?function(e){const t=e.getFilters().map(r=>Wj(r));return 1===t.length?t[0]:{compositeFilter:{op:jde(e.op),filters:t}}}(n):U()}function Hde(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class SS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ede(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Rj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=Ej(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,(t,r)=>Cj(t,r))&&Ol(this.baseMutations,e.baseMutations,(t,r)=>Cj(t,r))}}class TS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){H(e.mutations.length===r.length);let i=Tde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new TS(e,t,r,i)}}class AS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xs{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class tH{constructor(e){this.ie=e}}function MS(n){const e=Gj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fm(e,e.limit,"L"):e}class Yo{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),kd(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Bo(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?K$(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):U()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),P.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Yo.Ie=new Yo;class mhe{constructor(){this.Je=new PS}addToCollectionParentIndex(e,t){return this.Je.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(rr.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class PS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ue(Ce.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(Ce.comparator)).toArray()}}new Uint8Array(0);class jn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Xo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Xo(0)}static vn(){return new Xo(-1)}}class Ehe{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class She{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Bd(r.mutation,i,Un.empty(),nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=ci();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ud();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ci();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=$n();const o=$d(),a=$d();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof qi)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Bd(u.mutation,c,u.mutation.getFieldMask(),nt.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new She(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=$d();let i=new ct((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Un.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Rj();u.forEach(h=>{if(!s.has(h)){const f=Ej(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return P.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function mS(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):b.resolve(ci());let a=-1,l=s;return o.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:kj(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new P(t)).next(r=>{let i=Ud();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Ud();return this.indexManager.getCollectionParents(e,i).next(o=>b.forEach(o,a=>{const l=(c=t,u=a.child(i),new Gi(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,Ke.newInvalidDocument(c)))});let o=Ud();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&Bd(c.mutation,l,Un.empty(),nt.now()),vS(t,l)&&(o=o.insert(a,l))}),o})}}class The{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return b.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:_t(r.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:MS(r.bundledQuery),readTime:_t(r.readTime)}),b.resolve();var r}}class Ahe{constructor(){this.overlays=new ct(P.comparator),this.es=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ci();return b.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=ci(),s=t.length+1,o=new P(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=ci(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ci(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return b.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AS(t,r));let s=this.es.get(t);void 0===s&&(s=le(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class FS{constructor(){this.ns=new Ue(jt.ss),this.rs=new Ue(jt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new jt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new jt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new P(new Ce([])),r=new jt(t,e),i=new jt(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new P(new Ce([])),r=new jt(t,e),i=new jt(t,e+1);let s=le();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new jt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return P.comparator(e.key,t.key)||ne(e._s,t._s)}static os(e,t){return ne(e._s,t._s)||P.comparator(e.key,t.key)}}class Mhe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ue(jt.ss)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new SS(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,t){return b.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ue(ne);return t.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),b.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new jt(new P(s),0);let a=new Ue(ne);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),b.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){H(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return b.forEach(t.mutations,i=>{const s=new jt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new jt(t,0),i=this.gs.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xhe{constructor(e){this.Es=e,this.docs=new ct(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(t))}getEntries(e,t){let r=$n();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),b.resolve(r)}getAllFromCollection(e,t,r){let i=$n();const s=new P(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||sS(V$(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return b.resolve(i)}getAllFromCollectionGroup(e,t,r,i){U()}As(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new khe(this)}getSize(e){return b.resolve(this.size)}}class khe extends Ehe{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Rhe{constructor(e){this.persistence=e,this.Rs=new Ms(t=>jo(t),Fd),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new FS,this.targetCount=0,this.vs=Xo.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),b.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Dn(t),b.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.Ps.containsKey(t))}}class SH{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ir(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Rhe(this),this.indexManager=new mhe,this.remoteDocumentCache=new xhe(r=>this.referenceDelegate.xs(r)),this.yt=new tH(t),this.Ns=new The(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ahe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Mhe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new Ohe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return b.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Ohe extends tde{constructor(e){super(),this.currentSequenceNumber=e}}class Am{constructor(e){this.persistence=e,this.Fs=new FS,this.$s=null}static Bs(e){return new Am(e)}get Ls(){if(this.$s)return this.$s;throw U()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),b.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ls,r=>{const i=P.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return b.or([()=>b.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class US{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=le(),i=le();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new US(e,t.fromCache,r,i)}}class AH{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(dj(t))return b.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=fm(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,fm(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return dj(t)||i.isEqual(q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(nS()<=Ee.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yS(t)),this.Bi(e,o,t,function L$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new nt(t+1,0):new nt(t,r));return new rr(i,P.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Ue(pj(e));return t.forEach((i,s)=>{vS(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return nS()<=Ee.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",yS(t)),this.Ni.getDocumentsMatchingQuery(e,t,rr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Phe{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new ct(ne),this.Ui=new Ms(s=>jo(s),Fd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function xH(n,e){return $S.apply(this,arguments)}function $S(){return $S=y(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),$S.apply(this,arguments)}function Fhe(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=b.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);H(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kH(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Lhe(n,e){const t=F(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,m=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=$n(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function RH(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=$n();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(q.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.qi=i,s))}function Vhe(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kl(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new xs(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Yl(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=y(function*(n,e,t){const r=F(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cs(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),jS.apply(this,arguments)}function xm(n,e,t){const r=F(n);let i=q.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=F(a),d=u.Ui.get(c);return void 0!==d?b.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:le())).next(a=>(function PH(n,e,t){let r=n.Ki.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function fj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class WS{constructor(){this.activeTargetIds=_m()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VH{constructor(){this.Lr=new WS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new WS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $he{Ur(e){}shutdown(){}}class BH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hhe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class zhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw Rl("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+kl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${jhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new zue;a.setWithCredentials(!0),a.listenOnce($ue.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case tS.NO_ERROR:const c=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(c)),s(c);break;case tS.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new T(D.DEADLINE_EXCEEDED,"Request time out"));break;case tS.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(g)>=0?g:D.UNKNOWN}(h.status);o(new T(f,h.message))}else o(new T(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(D.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bue(),o=Uue(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Hue({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Hhe({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(u||(M("Connection","Opening WebChannel transport."),c.open(),u=!0),M("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,m)=>{p.listen(g,v=>{try{m(v)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,rm.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(c,rm.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(c,rm.EventType.ERROR,p=>{d||(d=!0,Rl("Connection","WebChannel transport errored:",p),h.io(new T(D.UNAVAILABLE,"The operation could not be completed")))}),f(c,rm.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];H(!!m);const C=m.error||(null===(g=m[0])||void 0===g?void 0:g.error);if(C){M("Connection","WebChannel received error:",C);const w=C.status;let k=function(B){const _e=Et[B];if(void 0!==_e)return Mj(_e)}(w),$=C.message;void 0===k&&(k=D.INTERNAL,$="Unknown error status: "+w+" with message "+C.message),d=!0,h.io(new T(k,$)),c.close()}else M("Connection","WebChannel received:",m),h.ro(m)}}),f(o,jue.STAT_EVENT,p=>{p.stat===k$.PROXY?M("Connection","Detected buffering proxy"):p.stat===k$.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Om(){return typeof document<"u"?document:null}function th(n){return new Nde(n,!0)}class YS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class $H{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new YS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return y(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return y(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return y(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(gt(t.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new T(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(y(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ghe extends $H{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Lde(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:U(),i=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(H(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?D.UNKNOWN:Mj(l.code);return new T(c,l.message||"")}(o);t=new Nj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ui(n,r.document.name),s=_t(r.document.updateTime),o=r.document.createTime?_t(r.document.createTime):q.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=Ke.newFoundDocument(i,s,o,a);t=new ym(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ui(n,r.document),s=r.readTime?_t(r.readTime):q.min(),o=Ke.newNoDocument(i,s);t=new ym([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ui(n,r.document);t=new ym([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,s=new Ide(r.count||0);t=new Oj(r.targetId,s)}}var l;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?_t(s.readTime):q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Gd(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=um(a)?{documents:zj(i,a)}:{query:CS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Vj(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=Hl(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function Bde(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Gd(this.yt),t.removeTarget=e,this.Bo(t)}}class qhe extends $H{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Vde(n,e){return n&&n.length>0?(H(void 0!==e),n.map(t=>function(r,i){let s=_t(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=_t(i)),new Dde(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.Zo(r,t)}return H(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gd(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function qd(n,e){let t;if(e instanceof $l)t={update:jj(n,e.key,e.value)};else if(e instanceof jl)t={delete:zd(n,e.key)};else if(e instanceof qi)t={update:jj(n,e.key,e.data),updateMask:Hde(e.fieldMask)};else{if(!(e instanceof wS))return U();t={verify:zd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ul)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Pde(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.yt,r))};this.Bo(t)}}class Whe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(D.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(D.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Yhe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(gt(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Qhe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(y(function*(){var l;Wi(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=y(function*(c){const u=F(c);u._u.add(4),yield Ql(u),u.gu.set("Unknown"),u._u.delete(4),yield nh(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new Yhe(r,i)}}function nh(n){return XS.apply(this,arguments)}function XS(){return XS=y(function*(n){if(Wi(n))for(const e of n.wu)yield e(!0)}),XS.apply(this,arguments)}function Ql(n){return ZS.apply(this,arguments)}function ZS(){return ZS=y(function*(n){for(const e of n.wu)yield e(!1)}),ZS.apply(this,arguments)}function Nm(n,e){const t=F(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),tT(t)?eT(t):Zl(t).ko()&&JS(t,e))}function rh(n,e){const t=F(n),r=Zl(t);t.du.delete(e),r.ko()&&jH(t,e),0===t.du.size&&(r.ko()?r.Fo():Wi(t)&&t.gu.set("Unknown"))}function JS(n,e){n.yu.Ot(e.targetId),Zl(n).zo(e)}function jH(n,e){n.yu.Ot(e),Zl(n).Ho(e)}function eT(n){n.yu=new xde({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Zl(n).start(),n.gu.uu()}function tT(n){return Wi(n)&&!Zl(n).No()&&n.du.size>0}function Wi(n){return 0===F(n)._u.size}function HH(n){n.yu=void 0}function Xhe(n){return nT.apply(this,arguments)}function nT(){return nT=y(function*(n){n.du.forEach((e,t)=>{JS(n,e)})}),nT.apply(this,arguments)}function Zhe(n,e){return rT.apply(this,arguments)}function rT(){return rT=y(function*(n,e){HH(n),tT(n)?(n.gu.hu(e),eT(n)):n.gu.set("Unknown")}),rT.apply(this,arguments)}function Jhe(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=y(function*(n,e,t){if(n.gu.set("Online"),e instanceof Nj&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pm(n,r)}else if(e instanceof ym?n.yu.Kt(e):e instanceof Oj?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(q.min()))try{const r=yield kH(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Pt.EMPTY_BYTE_STRING,l.snapshotVersion)),jH(i,a);const c=new xs(l.target,a,1,l.sequenceNumber);JS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Pm(n,r)}var r}),iT.apply(this,arguments)}function Pm(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=y(function*(n,e,t){if(!Cs(e))throw e;n._u.add(1),yield Ql(n),n.gu.set("Offline"),t||(t=()=>kH(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield nh(n)}))}),sT.apply(this,arguments)}function zH(n,e){return e().catch(t=>Pm(n,t,e))}function Xl(n){return oT.apply(this,arguments)}function oT(){return oT=y(function*(n){const e=F(n),t=Ns(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;efe(e);)try{const i=yield Vhe(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,tfe(e,i)}catch(i){yield Pm(e,i)}GH(e)&&qH(e)}),oT.apply(this,arguments)}function efe(n){return Wi(n)&&n.fu.length<10}function tfe(n,e){n.fu.push(e);const t=Ns(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function GH(n){return Wi(n)&&!Ns(n).No()&&n.fu.length>0}function qH(n){Ns(n).start()}function nfe(n){return aT.apply(this,arguments)}function aT(){return aT=y(function*(n){Ns(n).eu()}),aT.apply(this,arguments)}function rfe(n){return lT.apply(this,arguments)}function lT(){return lT=y(function*(n){const e=Ns(n);for(const t of n.fu)e.Xo(t.mutations)}),lT.apply(this,arguments)}function ife(n,e,t){return cT.apply(this,arguments)}function cT(){return cT=y(function*(n,e,t){const r=n.fu.shift(),i=TS.from(r,e,t);yield zH(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xl(n)}),cT.apply(this,arguments)}function sfe(n,e){return uT.apply(this,arguments)}function uT(){return uT=y(function*(n,e){var t;e&&Ns(n).Yo&&(yield(t=y(function*(r,i){if(Aj(s=i.code)&&s!==D.ABORTED){const o=r.fu.shift();Ns(r).Mo(),yield zH(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),GH(n)&&qH(n)}),uT.apply(this,arguments)}function WH(n,e){return dT.apply(this,arguments)}function dT(){return dT=y(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Wi(t);t._u.add(3),yield Ql(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield nh(t)}),dT.apply(this,arguments)}function fT(){return fT=y(function*(n,e){const t=F(n);e?(t._u.delete(2),yield nh(t)):e||(t._u.add(2),yield Ql(t),t.gu.set("Unknown"))}),fT.apply(this,arguments)}function Zl(n){return n.pu||(n.pu=function(e,t,r){const i=F(e);return i.su(),new Ghe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Xhe.bind(null,n),Zr:Zhe.bind(null,n),Wo:Jhe.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.pu.Mo(),tT(n)?eT(n):n.gu.set("Unknown")):(yield n.pu.stop(),HH(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ns(n){return n.Iu||(n.Iu=function(e,t,r){const i=F(e);return i.su(),new qhe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:nfe.bind(null,n),Zr:sfe.bind(null,n),tu:rfe.bind(null,n),Zo:ife.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.Iu.Mo(),yield Xl(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class pT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new pT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jl(n,e){if(gt("AsyncQueue",`${e}: ${n}`),Cs(n))return new T(D.UNAVAILABLE,`${e}: ${n}`);throw n}class ec{constructor(e){this.comparator=e?(t,r)=>e(t,r)||P.comparator(t.key,r.key):(t,r)=>P.comparator(t.key,r.key),this.keyedMap=Ud(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new ec(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class KH{constructor(){this.Tu=new ct(P.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):U():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class tc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new tc(e,t,ec.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ofe{constructor(){this.Au=void 0,this.listeners=[]}}class afe{constructor(){this.queries=new Ms(e=>hj(e),Ld),this.onlineState="Unknown",this.Ru=new Set}}function mT(){return mT=y(function*(n,e){const t=F(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new ofe),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Jl(o,`Initialization of query '${yS(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&vT(t)}),mT.apply(this,arguments)}function yT(){return yT=y(function*(n,e){const t=F(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yT.apply(this,arguments)}function lfe(n,e){const t=F(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&vT(t)}function cfe(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function vT(n){n.Ru.forEach(e=>{e.next()})}class wT{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class XH{constructor(e){this.key=e}}class ZH{constructor(e){this.key=e}}class JH{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=le(),this.mutatedKeys=le(),this.Gu=pj(e),this.Qu=new ec(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new KH,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=vS(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),m=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(l||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new tc(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new KH,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=le(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new ZH(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new XH(r))}),t}tc(e){this.qu=e.Hi,this.Ku=le();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return tc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class hfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ffe{constructor(e){this.key=e,this.nc=!1}}class pfe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ms(a=>hj(a),Ld),this.rc=new Map,this.oc=new Set,this.uc=new ct(P.comparator),this.cc=new Map,this.ac=new FS,this.hc={},this.lc=new Map,this.fc=Xo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function gfe(n,e){return bT.apply(this,arguments)}function bT(){return bT=y(function*(n,e){const t=zT(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Kl(t.localStore,Mn(e));t.isPrimaryClient&&Nm(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield DT(t,e,r,"current"===a,o.resumeToken)}return i}),bT.apply(this,arguments)}function DT(n,e,t,r,i){return ET.apply(this,arguments)}function ET(){return ET=y(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=y(function*(g,m,v,C){let w=m.view.Wu(v);w.$i&&(w=yield xm(g.localStore,m.query,!1).then(({documents:B})=>m.view.Wu(B,w)));const k=C&&C.targetChanges.get(m.targetId),$=m.view.applyChanges(w,g.isPrimaryClient,k);return OT(g,m.targetId,$.Xu),$.snapshot}),function(g,m,v,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield xm(n.localStore,e,!0),o=new JH(e,s.Hi),a=o.Wu(s.documents),l=Hd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);OT(n,t,c.Xu);const u=new hfe(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),ET.apply(this,arguments)}function mfe(n,e){return CT.apply(this,arguments)}function CT(){return CT=y(function*(n,e){const t=F(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Ld(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rh(t.remoteStore,r.targetId),nc(t,r.targetId)}).catch(Es))):(nc(t,r.targetId),yield Yl(t.localStore,r.targetId,!0))}),CT.apply(this,arguments)}function IT(){return IT=y(function*(n,e,t){const r=GT(n);try{const i=yield function(s,o){const a=F(s),l=nt.now(),c=o.reduce((h,f)=>h.add(f.key),le());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=$n(),p=le();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const m=[];for(const v of o){const C=Cde(v,u.get(v.key).overlayedDocument);null!=C&&m.push(new qi(v.key,C,aj(C.value.mapValue),Ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:kj(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new ct(ne)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ki(r,i.changes),yield Xl(r.remoteStore)}catch(i){const s=Jl(i,"Failed to persist write");t.reject(s)}}),IT.apply(this,arguments)}function ez(n,e){return ST.apply(this,arguments)}function ST(){return ST=y(function*(n,e){const t=F(n);try{const r=yield Lhe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?H(o.nc):i.removedDocuments.size>0&&(H(o.nc),o.nc=!1))}),yield Ki(t,r,e)}catch(r){yield Es(r)}}),ST.apply(this,arguments)}function tz(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&vT(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yfe(n,e,t){return TT.apply(this,arguments)}function TT(){return TT=y(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ct(P.comparator);o=o.insert(s,Ke.newNoDocument(s,q.min()));const a=le().add(s),l=new jd(q.min(),new Map,new Ue(ne),o,a);yield ez(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),NT(r)}else yield Yl(r.localStore,e,!1).then(()=>nc(r,e,t)).catch(Es)}),TT.apply(this,arguments)}function vfe(n,e){return AT.apply(this,arguments)}function AT(){return AT=y(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield Fhe(t.localStore,e);RT(t,r,null),kT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ki(t,i)}catch(i){yield Es(i)}}),AT.apply(this,arguments)}function wfe(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=y(function*(n,e,t){const r=F(n);try{const i=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(H(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);RT(r,e,t),kT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ki(r,i)}catch(i){yield Es(i)}}),MT.apply(this,arguments)}function kT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function RT(n,e,t){const r=F(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function nc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||nz(n,r)})}function nz(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(rh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),NT(n))}function OT(n,e,t){for(const r of t)r instanceof XH?(n.ac.addReference(r.key,e),Dfe(n,r)):r instanceof ZH?(M("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||nz(n,r.key)):U()}function Dfe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.oc.add(r),NT(n))}function NT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new P(Ce.fromString(e)),r=n.fc.next();n.cc.set(r,new ffe(t)),n.uc=n.uc.insert(t,r),Nm(n.remoteStore,new xs(Mn(Vl(t.path)),r,2,ir.at))}}function Ki(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=y(function*(n,e,t){const r=F(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=US.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=y(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Cs(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),PT.apply(this,arguments)}function Efe(n,e){return FT.apply(this,arguments)}function FT(){return FT=y(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield xH(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new T(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ki(t,r.ji)}var i}),FT.apply(this,arguments)}function Cfe(n,e){const t=F(n),r=t.cc.get(e);if(r&&r.nc)return le().add(r.key);{let i=le();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function zT(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ez.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yfe.bind(null,e),e.sc.Wo=lfe.bind(null,e.eventManager),e.sc.wc=cfe.bind(null,e.eventManager),e}function GT(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wfe.bind(null,e),e}class Ofe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.yt=th(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function MH(n,e,t,r){return new Phe(n,e,t,r)}(this.persistence,new AH,e.initialUser,this.yt)}yc(e){return new SH(Am.Bs,this.yt)}gc(e){return new VH}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qT{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>tz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Efe.bind(null,r.syncEngine),yield function hT(n,e){return fT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new afe}createDatastore(e){const t=th(e.databaseInfo.databaseId),r=new zhe(e.databaseInfo);return new Whe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>tz(this.syncEngine,a,0),o=BH.C()?new BH:new $he,new Qhe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new pfe(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=y(function*(t){const r=F(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ql(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function WT(n,e,t){if(!t)throw new T(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sz(n){if(!P.isDocumentKey(n))throw new T(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oz(n){if(P.isDocumentKey(n))throw new T(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function be(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fm(n);throw new T(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const lz=new Map;class cz{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ffe(n,e,t,r){if(!0===e&&!0===r)throw new T(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gue;switch(t.type){case"gapi":return new Yue(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lz.get(e);t&&(M("ComponentProvider","Removing Datastore"),lz.delete(e),t.terminate())}(this),Promise.resolve()}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class rn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rn(this.firestore,e,this._query)}}class hi extends rn{constructor(e,t,r){super(e,t,Vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new P(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function uz(n,e,...t){if(n=wr(n),WT("collection","path",e),n instanceof ih){const r=Ce.fromString(e,...t);return oz(r),new hi(n,null,r)}{if(!(n instanceof yt||n instanceof hi))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return oz(r),new hi(n.firestore,null,r)}}function dz(n,e,...t){if(n=wr(n),1===arguments.length&&(e=P$.R()),WT("doc","path",e),n instanceof ih){const r=Ce.fromString(e,...t);return sz(r),new yt(n,null,new P(r))}{if(!(n instanceof yt||n instanceof hi))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return sz(r),new yt(n.firestore,n instanceof hi?n.converter:null,new P(r))}}class Lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hfe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=P$.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pz(n,e){return KT.apply(this,arguments)}function KT(){return KT=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield xH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),KT.apply(this,arguments)}function gz(n,e){return YT.apply(this,arguments)}function YT(){return YT=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QT(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>WH(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>WH(e.remoteStore,s)),n.onlineComponents=e}),YT.apply(this,arguments)}function QT(n){return XT.apply(this,arguments)}function XT(){return XT=y(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield pz(n,new Ofe)),n.offlineComponents}),XT.apply(this,arguments)}function Vm(n){return ZT.apply(this,arguments)}function ZT(){return ZT=y(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield gz(n,new qT)),n.onlineComponents}),ZT.apply(this,arguments)}function rc(n){return tA.apply(this,arguments)}function tA(){return tA=y(function*(n){const e=yield Vm(n),t=e.eventManager;return t.onListen=gfe.bind(null,e.syncEngine),t.onUnlisten=mfe.bind(null,e.syncEngine),t}),tA.apply(this,arguments)}class Xfe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new YS(this,"async_queue_retry"),this.Wc=()=>{const t=Om();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Om();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Om();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Nt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return y(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Cs(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=pT.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&U()}verifyOperationInProgress(){}Xc(){var e=this;return y(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function nA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ye extends ih{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wz(this),this._firestoreClient.terminate()}}function Jfe(n,e){const r="string"==typeof n?n:e||"(default)",i=ig("object"==typeof n?n:jV(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Zp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Lfe(n,e,t,r={}){var i;const s=(n=be(n,ih))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Rl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Ut.MOCK_USER;else{o=function wne(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qp(JSON.stringify({alg:"none",type:"JWT"})),Qp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new T(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ut(l)}n._authCredentials=new que(new O$(o,a))}}(i,...s)}return i}function Ct(n){return n._firestoreClient||wz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wz(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ode(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Hfe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(Pt.fromBase64String(e))}catch(t){throw new T(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ic{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ez{constructor(e){this._methodName=e}}class rA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const epe=/^__.*__$/;class tpe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new $l(e,this.data,t,this.fieldTransforms)}}function Iz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Um{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return jm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Iz(this.sa)&&epe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class npe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||th(e)}da(e,t,r,i=!1){return new Um({sa:e,methodName:t,fa:r,path:mt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function sc(n){const e=n._freezeSettings(),t=th(n._databaseId);return new npe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iA(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);oA("Data must be an object, but it was:",o,r);const a=xz(r,o);let l,c;if(s.merge)l=new Un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=aA(e,d,t);if(!o.contains(h))throw new T(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Rz(u,h)||u.push(h)}l=new Un(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new tpe(new nn(a),l,c)}function ea(n,e){if(kz(n=wr(n)))return oA("Unsupported field value:",e,n),xz(n,e);if(n instanceof Ez)return function(t,r){if(!Iz(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=ea(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=wr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _j(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=nt.fromDate(t);return{timestampValue:Hl(r.yt,i)}}if(t instanceof nt){const i=new nt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hl(r.yt,i)}}if(t instanceof rA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jo)return{bytesValue:Vj(r.yt,t._byteString)};if(t instanceof yt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Fm(t)}`)}(n,e)}function xz(n,e){const t={};return j$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(n,(r,i)=>{const s=ea(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function kz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof rA||n instanceof Jo||n instanceof yt||n instanceof Ez)}function oA(n,e,t){if(!kz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Fm(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function aA(n,e,t){if((e=wr(e))instanceof ic)return e._internalPath;if("string"==typeof e)return $m(n,e);throw jm("Field path arguments must be of type string or ",n,!1,void 0,t)}const ope=new RegExp("[~\\*/\\[\\]]");function $m(n,e,t){if(e.search(ope)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new T(D.INVALID_ARGUMENT,a+n+l)}function Rz(n,e){return n.some(t=>t.isEqual(e))}class lA{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ape(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ape extends lA{data(){return super.data()}}function Hm(n,e){return"string"==typeof e?$m(n,e):e instanceof ic?e._internalPath:e._delegate._internalPath}class cpe{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){const r={};return Vo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new rA(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=z$(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const t=Is(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);H(Kj(r));const i=new Lo(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(t)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class ta{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ac extends lA{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wm extends ac{data(e={}){return super.data(e)}}class lc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wm(this._firestore,this._userDataWriter,r.key,r,new ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:upe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function upe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class Ps extends cpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function ah(n,e){return function(t,r){const i=new Nt;return t.asyncQueue.enqueueAndForget(y(function*(){return function _fe(n,e,t){return IT.apply(this,arguments)}(yield function eA(n){return Vm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ct(n),e)}!function(n,e=!0){kl=sg,Sn(new pn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ye(new Wue(t.getProvider("auth-internal")),new Que(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),pt(R$,"3.8.1",n),pt(R$,"3.8.1","esm2017")}();var _pe={includeMetadataChanges:!1};function hA(n,e){return void 0===e&&(e=_pe),new Re(function(t){var r=function fpe(n,...e){var t,r,i;n=wr(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||nA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(nA(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof yt)c=be(n.firestore,Ye),u=Vl(n._key.path),l={next:d=>{e[o]&&e[o](function dA(n,e,t){const r=t.docs.get(e._key),i=new Ps(n);return new ac(n,i,e._key,r,new ta(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=be(n,rn);c=be(d.firestore,Ye),u=d._query;const h=new Ps(c);l={next:f=>{e[o]&&e[o](new lc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function Oz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Lm(p),m=new wT(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function gT(n,e){return mT.apply(this,arguments)}(yield rc(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(y(function*(){return function _T(n,e){return yT.apply(this,arguments)}(yield rc(d),m)}))}}(Ct(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Cpe(n,e){return void 0===e&&(e={}),function Epe(n){return hA(n,{includeMetadataChanges:!0}).pipe(he(function(e){return e.docs}))}(n).pipe(he(function(t){return t.map(function(r){return function $z(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Ym{constructor(e){return e}}const Gz="firestore",gA=new R("angularfire2.firestore-instances");function Tpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ym(r)}}const Ape={provide:class Ipe{constructor(){return XE(Gz)}},deps:[[new cn,gA]]},Mpe={provide:Ym,useFactory:function Spe(n,e){const t=function QE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Gz,n,e);return t&&new Ym(t)},deps:[[new cn,gA],El]};let xpe=(()=>{class n{constructor(){pt("angularfire",jE.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:[Mpe,Ape]}),n})();const Rpe=ZE(Cpe,!0),Ope=ZE(Jfe,!0);class na{constructor(e){this.firestore=e}addArticulo(e){return function hpe(n,e){const t=be(n.firestore,Ye),r=dz(n),i=function uA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return ah(t,[iA(sc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}(uz(this.firestore,"articulos"),e)}getArticulo(){const e=uz(this.firestore,"articulos");return Rpe(e,{idField:"id"})}deleteArticulo(e){return function dpe(n){return ah(be(n.firestore,Ye),[new jl(n._key,Ze.none())])}(dz(this.firestore,`articulos/${e.id}`))}}na.\u0275fac=function(e){return new(e||na)(E(Ym))},na.\u0275prov=N({token:na,factory:na.\u0275fac,providedIn:"root"});const Npe=["*"],Bpe=new R("MAT_CARD_CONFIG");let qz=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(_(Bpe,8))},n.\u0275cmp=Je({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&qr("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Npe,decls:1,vars:0,template:function(t,r){1&t&&(Js(),Qn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=x({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),Zpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[ml,vw,ml]}),n})();class cc{constructor(e,t,r,i){this.fb=e,this.dialogRef=t,this.artiService=r,this.data=i,this.articleForm=new cl({codigo:new ms,descripcion:new ms,precio:new ms})}ngOnInit(){this.articleForm=this.fb.group({codigo:["",[ab.required]],descripcion:["",[ab.required]],precio:["",[ab.required]]})}onSubmit(){const e=this.artiService.addArticulo(this.articleForm.value);console.log(e),this.dialogRef.close()}cancelar(){this.dialogRef.close()}}function Jpe(n,e){if(1&n){const t=function IR(){return S()}();xe(0,"tr",7)(1,"td",8),ht(2),ke(),xe(3,"td",8),ht(4),ke(),xe(5,"td",8),ht(6),ke(),xe(7,"td",8)(8,"button",9),hn("click",function(){const s=function YM(n){return ie.lFrame.contextLView=n,n[8]}(t).$implicit;return function QM(n){return ie.lFrame.contextLView=null,n}(ja().onClickDelete(s))}),ht(9,"Eliminar"),ke()()()}if(2&n){const t=e.$implicit;fr(2),Jc(t.codigo),fr(2),Jc(t.descripcion),fr(2),as("S/. ",t.precio,"")}}cc.\u0275fac=function(e){return new(e||cc)(_(QJ),_(EV),_(na),_(CV))},cc.\u0275cmp=Je({type:cc,selectors:[["app-dialog"]],decls:28,vars:1,consts:[[3,"formGroup"],[1,"mb-4"],["for","code"],["type","text","name","codigo","id","codigo","formControlName","codigo",1,"border","w-full","px-2"],["for","descrip"],["type","text","name","descripcion","id","descripcion","formControlName","descripcion",1,"border","w-full","px-2"],["for","price"],["type","number","name","precio","id","precio","formControlName","precio",1,"border","w-full","px-2"],[1,"flex","justify-around"],[1,"bg-red-500","text-white","py-1","px-2","rounded",3,"click"],[1,"bg-green-500","text-white","py-1","px-2","rounded",3,"click"]],template:function(e,t){1&e&&(xe(0,"mat-card-content")(1,"div")(2,"h1"),ht(3,"Art\xedculo"),ke(),xe(4,"form",0)(5,"div",1)(6,"div")(7,"label",2),ht(8,"Ingrese c\xf3digo:"),ke()(),xe(9,"div"),ss(10,"input",3),ke()(),xe(11,"div",1)(12,"div")(13,"label",4),ht(14,"Ingrese descripci\xf3n:"),ke()(),xe(15,"div"),ss(16,"input",5),ke()(),xe(17,"div",1)(18,"div")(19,"label",6),ht(20,"Ingrese precio:"),ke()(),xe(21,"div"),ss(22,"input",7),ke()(),xe(23,"div",8)(24,"button",9),hn("click",function(){return t.cancelar()}),ht(25,"Cancelar"),ke(),xe(26,"button",10),hn("click",function(){return t.onSubmit()}),ht(27,"Confirmar"),ke()()()()()),2&e&&(fr(4),yf("formGroup",t.articleForm))},dependencies:[mA,ZF,yp,bb,LF,VF,xp,Ib]});class lh{constructor(e,t){this.dialog=e,this.actiService=t}ngOnInit(){this.actiService.getArticulo().subscribe(e=>{this.articulo=e})}agregarArticulo(){this.dialog.open(cc,{data:{}})}onClickDelete(e){const t=this.actiService.deleteArticulo(e);console.log(t)}}lh.\u0275fac=function(e){return new(e||lh)(_(SV),_(na))},lh.\u0275cmp=Je({type:lh,selectors:[["app-datostabla"]],decls:18,vars:1,consts:[[1,"w-4/5","mx-auto","mt-8"],[1,"demo-button-container"],["mat-raised-button","",1,"demo-button","bg-green-500","text-white","py-2","px-8","rounded-md","duration-300","hover:bg-green-600",3,"click"],[1,"table-auto","border-collapse","border","border-slate-400","w-11/12","mx-auto","text-center","md:w-4/5"],[1,"bg-black","text-white","text-lg"],[1,"border","border-slate-300","py-3"],["class","group/item hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"group/item","hover:bg-blue-100"],[1,"border","border-slate-300"],[1,"bg-red-500","duration-300","tex-white","px-4","py-2","rounded-xl","text-white","hover:bg-red-700",3,"click"]],template:function(e,t){1&e&&(xe(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"button",2),hn("click",function(){return t.agregarArticulo()}),ht(4,"Add data"),ke()(),xe(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),ht(9,"C\xf3digo"),ke(),xe(10,"th",5),ht(11,"Descripci\xf3n"),ke(),xe(12,"th",5),ht(13,"Precio"),ke(),xe(14,"th",5),ht(15,"Acciones"),ke()()(),xe(16,"tbody"),is(17,Jpe,10,3,"tr",6),ke()()()()),2&e&&(fr(17),yf("ngForOf",t.articulo))},dependencies:[DP,qz,mA],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.demo-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.demo-button[_ngcontent-%COMP%] + .demo-button[_ngcontent-%COMP%]{margin-left:8px}"]});const ege=[{path:"tabla",component:lh},{path:"dialogo",component:cc},{path:"",redirectTo:"tabla",pathMatch:"full"}];class uc{}uc.\u0275fac=function(e){return new(e||uc)},uc.\u0275mod=Be({type:uc}),uc.\u0275inj=Le({imports:[uF.forRoot(ege),uF]});class ch{constructor(){this.title="actividad-29"}}function Wz(n){return new I(3e3,!1)}function Pge(){return typeof window<"u"&&typeof window.document<"u"}function _A(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fs(n){switch(n.length){case 0:return new Wu;case 1:return n[0];default:return new yV(n)}}function Kz(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),v){case"!":v=i.get(g);break;case ki:v=s.get(g);break;default:v=e.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),h||a.push(f),c=f,l=d}),o.length)throw function Ege(n){return new I(3502,!1)}();return a}function yA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vA(t,"destroy",n)))}}function vA(n,e,t){const s=wA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function wA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function sr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Yz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}ch.\u0275fac=function(e){return new(e||ch)},ch.\u0275cmp=Je({type:ch,selectors:[["app-root"]],decls:3,vars:1,template:function(e,t){1&e&&(xe(0,"span"),ht(1),ke(),ss(2,"router-outlet")),2&e&&(fr(1),Jc(t.title))},dependencies:[Kw],styles:["span[_ngcontent-%COMP%]{display:none}"]});let bA=(n,e)=>!1,Qz=(n,e,t)=>[],Xz=null;function DA(n){const e=n.parentNode||n.host;return e===Xz?null:e}(_A()||typeof Element<"u")&&(Pge()?(Xz=(()=>document.documentElement)(),bA=(n,e)=>{for(;e;){if(e===n)return!0;e=DA(e)}return!1}):bA=(n,e)=>n.contains(e),Qz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ra=null,Zz=!1;const Jz=bA,eG=Qz;let tG=(()=>{class n{validateStyleProperty(t){return function Lge(n){ra||(ra=function Vge(){return typeof document<"u"?document.body:null}()||{},Zz=!!ra.style&&"WebkitAppearance"in ra.style);let e=!0;return ra.style&&!function Fge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ra.style,!e&&Zz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ra.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Jz(t,r)}getParentElement(t){return DA(t)}query(t,r,i){return eG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Wu(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})(),EA=(()=>{class n{}return n.NOOP=new tG,n})();const CA="ng-enter",Qm="ng-leave",Xm="ng-trigger",Zm=".ng-trigger",rG="ng-animating",IA=".ng-animating";function Yi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SA(parseFloat(e[1]),e[2])}function SA(n,e){return"s"===e?1e3*n:n}function Jm(n,e,t){return n.hasOwnProperty("duration")?n:function $ge(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Wz()),{duration:0,delay:0,easing:""};i=SA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=SA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function tge(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function nge(){return new I(3101,!1)}()),a=!0),a&&e.splice(l,0,Wz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function uh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function iG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ls(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function oG(n,e,t){return t?e+":"+t+";":""}function aG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=oG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oG(0,Gge(t),n.style[t]));n.setAttribute("style",e)}function fi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=AA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),_A()&&aG(n))}function ia(n,e){n.style&&(e.forEach((t,r)=>{const i=AA(r);n.style[i]=""}),_A()&&aG(n))}function dh(n){return Array.isArray(n)?1==n.length?n[0]:hV(n):n}const TA=new RegExp("{{\\s*(.+?)\\s*}}","g");function lG(n){let e=[];if("string"==typeof n){let t;for(;t=TA.exec(n);)e.push(t[1]);TA.lastIndex=0}return e}function hh(n,e,t){const r=n.toString(),i=r.replace(TA,(s,o)=>{let a=e[o];return null==a&&(t.push(function ige(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function e_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const zge=/-+([a-z0-9])/g;function AA(n){return n.replace(zge,(...e)=>e[1].toUpperCase())}function Gge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sge(n){return new I(3004,!1)}()}}function cG(n,e){return window.getComputedStyle(n)[e]}function Xge(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Zge(n,e,t){if(":"==n[0]){const l=function Jge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function vge(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function yge(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(uG(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(uG(o,i))}(r,t,e)):t.push(n),t}const i_=new Set(["true","1"]),s_=new Set(["false","0"]);function uG(n,e){const t=i_.has(n)||s_.has(n),r=i_.has(e)||s_.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?i_.has(n):s_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?i_.has(e):s_.has(e)),o&&a}}const eme=new RegExp("s*:selfs*,?","g");function MA(n,e,t,r){return new tme(n).build(e,t,r)}class tme{constructor(e){this._driver=e}build(e,t,r){const i=new ime(t);return this._resetContextStyleTimingState(i),or(this,dh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function age(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function lge(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{lG(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(e_(s.values()),t.errors.push(function cge(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=or(this,dh(e.animation),t);return{type:1,matchers:Xge(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>or(this,r,t)),options:sa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=or(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:sa(e.options)}}visitAnimate(e,t){const r=function ome(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xA(Jm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Jm(t,e);return xA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:_l({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=_l(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ki?r.push(a):t.errors.push(new I(3002,!1)):r.push(iG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function dge(n,e,t,r,i){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Hge(n,e,t){const r=e.params||{},i=lG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rge(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hge(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const C=this._makeStyleAst(v,t);let w=null!=C.offset?C.offset:function sme(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),k=0;return null!=w&&(s++,k=C.offset=w),l=l||k<0||k>1,a=a||k<c,c=k,o.push(k),C});l&&t.errors.push(function fge(){return new I(3012,!1)}()),a&&t.errors.push(function pge(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function gge(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return u.forEach((v,C)=>{const w=h>0?C==f?1:h*C:o[C],k=w*m;t.currentTime=p+g.delay+k,g.duration=k,this._validateStyleAst(v,t),v.offset=w,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:or(this,dh(e.animation),t),options:sa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function nme(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(eme,"")),n=n.replace(/@\*/g,Zm).replace(/@\w+/g,t=>Zm+"-"+t.slice(1)).replace(/:animating/g,IA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,sr(t.collectedStyles,t.currentQuerySelector,new Map);const a=or(this,dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:sa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mge(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jm(e.timings,t.errors,!0);return{type:12,animation:or(this,dh(e.animation),t),timings:r,options:null}}}class ime{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sa(n){return n?(n=uh(n)).params&&(n.params=function rme(n){return n?uh(n):null}(n.params)):n={},n}function xA(n,e,t){return{duration:n,delay:e,easing:t}}function kA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class o_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cme=new RegExp(":enter","g"),dme=new RegExp(":leave","g");function RA(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new hme).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class hme{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new o_;const d=new OA(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Yi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),or(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[kA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Yi(hh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Yi(r.duration):null,a=null!=r.delay?Yi(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=a_);const o=Yi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>or(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yi(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),or(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Jm(t.params?hh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Yi(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=a_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),or(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;or(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const a_={};class OA{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=a_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new l_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Yi(r.duration)),null!=r.delay&&(i.delay=Yi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=hh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new OA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=a_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new fme(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(cme,"."+this._enterClassName)).replace(dme,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function _ge(n){return new I(3014,!1)}()),a}}class l_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new l_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ki),this._currentKeyframe.set(t,ki);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function pme(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ki)}else Ls(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=hh(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ki),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ls(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===ki&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?e_(e.values()):[],o=t.size?e_(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return kA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class fme extends l_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Ls(e[0]);l.set("offset",0),s.push(l);const c=Ls(e[0]);c.set("offset",fG(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ls(e[d]);const f=h.get("offset");h.set("offset",fG((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return kA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function fG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NA{}const gme=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mme extends NA{normalizePropertyName(e,t){return AA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(gme.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function oge(n,e){return new I(3005,!1)}())}return o+s}}function pG(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const PA={};class gG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function _me(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||PA,p=this.buildStyles(r,a&&a.params||PA,d),g=l&&l.params||PA,m=this.buildStyles(i,g,d),v=new Set,C=new Map,w=new Map,k="void"===i,$={params:yme(g,h),delay:this.ast.options?.delay},B=u?[]:RA(e,t,this.ast.animation,s,o,p,m,$,c,d);let _e=0;if(B.forEach(ar=>{_e=Math.max(ar.duration+ar.delay,_e)}),d.length)return pG(t,this._triggerName,r,i,k,p,m,[],[],C,w,_e,d);B.forEach(ar=>{const Vr=ar.element,jG=sr(C,Vr,new Set);ar.preStyleProps.forEach(oa=>jG.add(oa));const _h=sr(w,Vr,new Set);ar.postStyleProps.forEach(oa=>_h.add(oa)),Vr!==t&&v.add(Vr)});const sn=e_(v.values());return pG(t,this._triggerName,r,i,k,p,m,B,sn,C,w,_e)}}function yme(n,e){const t=uh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class vme{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=uh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=hh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class bme{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new vme(i.style,i.options&&i.options.params||{},r))}),mG(this.states,"true","1"),mG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new gG(e,i,this.states))}),this.fallbackTransition=function Dme(n,e,t){return new gG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function mG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Eme=new o_;class Cme{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=MA(this._driver,t,r,[]);if(r.length)throw function Cge(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Kz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=RA(this._driver,t,s,CA,Qm,new Map,new Map,r,Eme,i),o.forEach(u=>{const d=sr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Ige(){return new I(3300,!1)}()),o=[]),i.length)throw function Sge(n){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ki))})});const c=Fs(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Tge(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=wA(t,"","","");return yA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _G="ng-animate-queued",FA="ng-animate-disabled",Mme=[],yG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed";class LA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Nme(n){return n??null}(r?e.value:e),r){const s=uh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const fh="void",VA=new LA(fh);class kme{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Er(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Age(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Mge(n){return new I(3303,!1)}();if(!function Pme(n){return"start"==n||"done"==n}(r))throw function xge(n,e){return new I(3400,!1)}();const s=sr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=sr(this._engine.statesByElement,e,new Map);return a.has(t)||(Er(e,Xm),Er(e,Xm+"-"+t),a.set(t,VA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function kge(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new BA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Er(e,Xm),Er(e,Xm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new LA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=VA),c.value!==fh&&l.value===c.value){if(!function Vme(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],m=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ia(e,m),fi(e,v)})}return}const h=sr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Er(e,_G),o.onStart(()=>{dc(e,_G)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zm,!0);r.forEach(i=>{if(i[Dr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,fh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Fs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||VA,u=new LA(fh),d=new BA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Dr];(!s||s===yG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Er(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=wA(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,yA(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Rme{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kme(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(c_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!c_(t))return;const s=t[Dr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Er(e,FA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dc(e,FA))}removeNode(e,t,r,i){if(c_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Dr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return c_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Zm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Dr];if(t&&t.setForRemoval){if(e[Dr]=yG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(FA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Rge(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new o_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const K=this.driver.query(j,".ng-animate-queued",!0);for(let ee=0;ee<K.length;ee++)u.add(K[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((j,K)=>{const ee=CA+g++;p.set(K,ee),j.forEach(Te=>Er(Te,ee))});const m=[],v=new Set,C=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const K=this.collectedLeaveElements[j],ee=K[Dr];ee&&ee.setForRemoval&&(m.push(K),v.add(K),ee.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(Te=>v.add(Te)):C.add(K))}const w=new Map,k=bG(h,Array.from(v));k.forEach((j,K)=>{const ee=Qm+g++;w.set(K,ee),j.forEach(Te=>Er(Te,ee))}),e.push(()=>{f.forEach((j,K)=>{const ee=p.get(K);j.forEach(Te=>dc(Te,ee))}),k.forEach((j,K)=>{const ee=w.get(K);j.forEach(Te=>dc(Te,ee))}),m.forEach(j=>{this.processLeaveNode(j)})});const $=[],B=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(ee=>{const Te=ee.player,Ht=ee.element;if($.push(Te),this.collectedEnterElements.length){const _n=Ht[Dr];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(ee.triggerName)){const aa=_n.previousTriggersValues.get(ee.triggerName),Cr=this.statesByElement.get(ee.element);if(Cr&&Cr.has(ee.triggerName)){const b_=Cr.get(ee.triggerName);b_.value=aa,Cr.set(ee.triggerName,b_)}}return void Te.destroy()}}const pi=!d||!this.driver.containsElement(d,Ht),lr=w.get(Ht),Vs=p.get(Ht),rt=this._buildInstruction(ee,r,Vs,lr,pi);if(rt.errors&&rt.errors.length)return void B.push(rt);if(pi)return Te.onStart(()=>ia(Ht,rt.fromStyles)),Te.onDestroy(()=>fi(Ht,rt.toStyles)),void i.push(Te);if(ee.isFallbackTransition)return Te.onStart(()=>ia(Ht,rt.fromStyles)),Te.onDestroy(()=>fi(Ht,rt.toStyles)),void i.push(Te);const GG=[];rt.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||GG.push(_n)}),rt.timelines=GG,r.append(Ht,rt.timelines),o.push({instruction:rt,player:Te,element:Ht}),rt.queriedElements.forEach(_n=>sr(a,_n,[]).push(Te)),rt.preStyleProps.forEach((_n,aa)=>{if(_n.size){let Cr=l.get(aa);Cr||l.set(aa,Cr=new Set),_n.forEach((b_,JA)=>Cr.add(JA))}}),rt.postStyleProps.forEach((_n,aa)=>{let Cr=c.get(aa);Cr||c.set(aa,Cr=new Set),_n.forEach((b_,JA)=>Cr.add(JA))})});if(B.length){const j=[];B.forEach(K=>{j.push(function Oge(n,e){return new I(3505,!1)}())}),$.forEach(K=>K.destroy()),this.reportError(j)}const _e=new Map,sn=new Map;o.forEach(j=>{const K=j.element;r.has(K)&&(sn.set(K,K),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,_e))}),i.forEach(j=>{const K=j.element;this._getPreviousPlayers(K,!1,j.namespaceId,j.triggerName,null).forEach(Te=>{sr(_e,K,[]).push(Te),Te.destroy()})});const ar=m.filter(j=>EG(j,l,c)),Vr=new Map;wG(Vr,this.driver,C,c,ki).forEach(j=>{EG(j,l,c)&&ar.push(j)});const _h=new Map;f.forEach((j,K)=>{wG(_h,this.driver,new Set(j),l,"!")}),ar.forEach(j=>{const K=Vr.get(j),ee=_h.get(j);Vr.set(j,new Map([...Array.from(K?.entries()??[]),...Array.from(ee?.entries()??[])]))});const oa=[],HG=[],zG={};o.forEach(j=>{const{element:K,player:ee,instruction:Te}=j;if(r.has(K)){if(u.has(K))return ee.onDestroy(()=>fi(K,Te.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Te.totalTime),void i.push(ee);let Ht=zG;if(sn.size>1){let lr=K;const Vs=[];for(;lr=lr.parentNode;){const rt=sn.get(lr);if(rt){Ht=rt;break}Vs.push(lr)}Vs.forEach(rt=>sn.set(rt,Ht))}const pi=this._buildAnimation(ee.namespaceId,Te,_e,s,_h,Vr);if(ee.setRealPlayer(pi),Ht===zG)oa.push(ee);else{const lr=this.playersByElement.get(Ht);lr&&lr.length&&(ee.parentPlayer=Fs(lr)),i.push(ee)}}else ia(K,Te.fromStyles),ee.onDestroy(()=>fi(K,Te.toStyles)),HG.push(ee),u.has(K)&&i.push(ee)}),HG.forEach(j=>{const K=s.get(j.element);if(K&&K.length){const ee=Fs(K);j.setRealPlayer(ee)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<m.length;j++){const K=m[j],ee=K[Dr];if(dc(K,Qm),ee&&ee.hasAnimation)continue;let Te=[];if(a.size){let pi=a.get(K);pi&&pi.length&&Te.push(...pi);let lr=this.driver.query(K,IA,!0);for(let Vs=0;Vs<lr.length;Vs++){let rt=a.get(lr[Vs]);rt&&rt.length&&Te.push(...rt)}}const Ht=Te.filter(pi=>!pi.destroyed);Ht.length?Fme(this,K,Ht):this.processLeaveNode(K)}return m.length=0,oa.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const K=this.players.indexOf(j);this.players.splice(K,1)}),j.play()}),oa}elementContainsData(e,t){let r=!1;const i=t[Dr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==fh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=sr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ia(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const m=g[Dr];if(m&&m.removedBeforeQueried)return new Wu(p.duration,p.delay);const v=g!==l,C=function Lme(n){const e=[];return DG(n,e),e}((r.get(g)||Mme).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===g),w=s.get(g),k=o.get(g),$=Kz(0,this._normalizer,0,p.keyframes,w,k),B=this._buildPlayer(p,$,C);if(p.subTimeline&&i&&d.add(g),v){const _e=new BA(e,a,g);_e.setRealPlayer(B),c.push(_e)}return B});c.forEach(p=>{sr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Ome(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Er(p,rG));const f=Fs(h);return f.onDestroy(()=>{u.forEach(p=>dc(p,rG)),fi(l,t.toStyles)}),d.forEach(p=>{sr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Wu(e.duration,e.delay)}}class BA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Wu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>yA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function c_(n){return n&&1===n.nodeType}function vG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function wG(n,e,t,r,i){const s=[];t.forEach(l=>s.push(vG(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Dr]=xme,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>vG(l,s[a++])),o}function bG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Er(n,e){n.classList?.add(e)}function dc(n,e){n.classList?.remove(e)}function Fme(n,e,t){Fs(t).onDone(()=>n.processLeaveNode(e))}function DG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yV?DG(r.players,e):e.push(r)}}function EG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class u_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Rme(e,t,r),this._timelineEngine=new Cme(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=MA(this._driver,s,l,[]);if(l.length)throw function Dge(n,e){return new I(3404,!1)}();a=function wme(n,e,t){return new bme(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Yz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Yz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ume=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fi(this._element,this._initialStyles),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ia(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ia(this._element,this._endStyles),this._endStyles=null),fi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UA(n){let e=null;return n.forEach((t,r)=>{(function $me(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class CG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jme{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Jz(e,t)}getParentElement(e){return DA(e)}query(e,t,r){return eG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof CG);(function qge(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function jge(n){return n.length?n[0]instanceof Map?n:n.map(e=>iG(e)):[]}(t).map(f=>Ls(f));d=function Wge(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,cG(n,a)))}}return e}(e,d,c);const h=function Bme(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=UA(e[0]),e.length>1&&(r=UA(e[e.length-1]))):e instanceof Map&&(t=UA(e)),t||r?new Ume(n,t,r):null}(e,d);return new CG(e,d,l,h)}}let Hme=(()=>{class n extends cV{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Sr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?hV(t):t;return IG(this._renderer,null,r,"register",[i]),new zme(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(zc),E(ye))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();class zme extends Wte{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gme(this._id,e,t||{},this._renderer)}}class Gme{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return IG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function IG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const SG="@.disabled";let qme=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new TG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Wme(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(zc),E(u_),E(oe))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();class TG{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==SG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wme extends TG{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==SG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Kme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Yme(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Qme=(()=>{class n extends u_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(ye),E(EA),E(NA),E(Ya))},n.\u0275prov=N({token:n,factory:n.\u0275fac}),n})();const AG=[{provide:cV,useClass:Hme},{provide:NA,useFactory:function Xme(){return new mme}},{provide:u_,useClass:Qme},{provide:zc,useFactory:function Zme(n,e,t){return new qme(n,e,t)},deps:[Kf,u_,oe]}],$A=[{provide:EA,useFactory:()=>new jme},{provide:uu,useValue:"BrowserAnimations"},...AG],MG=[{provide:EA,useClass:tG},{provide:uu,useValue:"NoopAnimations"},...AG];let Jme=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MG:$A}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({providers:$A,imports:[YP]}),n})(),p_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[Pb]}),n})(),k_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=Le({imports:[ml,p_e,ml]}),n})();class gc{}gc.\u0275fac=function(e){return new(e||gc)},gc.\u0275mod=Be({type:gc}),gc.\u0275inj=Le({imports:[vw,Zpe,k_e,one,XJ,ZJ]});const O_e_firebase={projectId:"enero2023-4c4c6",appId:"1:1052935090594:web:a5c6f86eae62299fae02fb",storageBucket:"enero2023-4c4c6.appspot.com",apiKey:"AIzaSyCFPg49-v8zEGz4K_8HUNGn1LlXi7SEDSw",authDomain:"enero2023-4c4c6.firebaseapp.com",messagingSenderId:"1052935090594"};class mc{}mc.\u0275fac=function(e){return new(e||mc)},mc.\u0275mod=Be({type:mc,bootstrap:[ch]}),mc.\u0275inj=Le({imports:[YP,uc,Jme,gc,function Moe(n,...e){return{ngModule:Aoe,providers:[{provide:JE,useFactory:Toe(n),multi:!0,deps:[oe,St,zB,...e]}]}}(()=>xoe(O_e_firebase)),function kpe(n,...e){return{ngModule:xpe,providers:[{provide:gA,useFactory:Tpe(n),multi:!0,deps:[oe,St,zB,GB,[new cn,qU],[new cn,m2],...e]}]}}(()=>Ope())]}),uQ().bootstrapModule(mc).catch(n=>console.error(n))}},we=>{we(we.s=391)}]);